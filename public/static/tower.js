webpackJsonp([0],[function(module,exports,__webpack_require__){(function(global,$,_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(1),__webpack_require__(4),__webpack_require__(6),__webpack_require__(8),__webpack_require__(21),__webpack_require__(22),__webpack_require__(23),__webpack_require__(24),__webpack_require__(25),__webpack_require__(60);var _angularUiRouter=__webpack_require__(61),_angularUiRouter2=_interopRequireDefault(_angularUiRouter);__webpack_require__(62),__webpack_require__(63),__webpack_require__(86),__webpack_require__(155),__webpack_require__(161);var _Home=__webpack_require__(165),_Sockets=__webpack_require__(166),_Credentials=__webpack_require__(167),_main=__webpack_require__(168),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(174),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(435),_main6=_interopRequireDefault(_main5),_main7=__webpack_require__(466),_main8=_interopRequireDefault(_main7),_main9=__webpack_require__(475),_main10=_interopRequireDefault(_main9),_main11=__webpack_require__(490),_main12=_interopRequireDefault(_main11),_main13=__webpack_require__(502),_main14=_interopRequireDefault(_main13),_main15=__webpack_require__(511),_main16=_interopRequireDefault(_main15),_main17=__webpack_require__(517),_main18=_interopRequireDefault(_main17),_main19=__webpack_require__(530),_main20=_interopRequireDefault(_main19),_main21=__webpack_require__(542),_main22=_interopRequireDefault(_main21),_main23=__webpack_require__(555),_main24=_interopRequireDefault(_main23),_main25=__webpack_require__(558),_main26=_interopRequireDefault(_main25),_main27=__webpack_require__(563),_main28=_interopRequireDefault(_main27),_main29=__webpack_require__(567),_main30=_interopRequireDefault(_main29),_main31=__webpack_require__(569),_main32=_interopRequireDefault(_main31),_main33=__webpack_require__(572),_main34=_interopRequireDefault(_main33),_main35=__webpack_require__(575),_main36=_interopRequireDefault(_main35),_main37=__webpack_require__(597),_main38=_interopRequireDefault(_main37),_main39=__webpack_require__(299),_main40=_interopRequireDefault(_main39),_main41=__webpack_require__(620),_main42=_interopRequireDefault(_main41),_main43=__webpack_require__(636),_main44=_interopRequireDefault(_main43),_main45=__webpack_require__(642),_main46=_interopRequireDefault(_main45),_main47=__webpack_require__(653),_main48=_interopRequireDefault(_main47),_main49=__webpack_require__(693),_main50=_interopRequireDefault(_main49),_main51=__webpack_require__(695),_main52=_interopRequireDefault(_main51),_Projects=__webpack_require__(698),_Users=__webpack_require__(699),_Teams=__webpack_require__(700),_main53=__webpack_require__(412),_main54=_interopRequireDefault(_main53),_main55=__webpack_require__(701),_main56=_interopRequireDefault(_main55);__webpack_require__(716),__webpack_require__(717),__webpack_require__(718),__webpack_require__(719),__webpack_require__(720);var _main57=__webpack_require__(724),_main58=_interopRequireDefault(_main57);__webpack_require__(726);var _main59=__webpack_require__(727),_main60=_interopRequireDefault(_main59),_main61=__webpack_require__(729),_main62=_interopRequireDefault(_main61),_i18n=__webpack_require__(172);if(global.$AnsibleConfig=null,global.$ENV={},{}["route-debug"]){var trace=__webpack_require__(61).trace;trace.enable()}var urlPrefix;$basePath&&(urlPrefix=$basePath);var tower=angular.module("Tower",[__webpack_require__(731),__webpack_require__(733),__webpack_require__(735),__webpack_require__(736),__webpack_require__(738).name,__webpack_require__(742),__webpack_require__(747),__webpack_require__(749),"gettext","I18N",_angularUiRouter2.default,"ui.router.state.events",_main24.default.name,_main56.default.name,_main26.default.name,_main54.default.name,_main34.default.name,_main36.default.name,_main4.default.name,_main6.default.name,_main8.default.name,_main10.default.name,_main12.default.name,_main28.default.name,_main30.default.name,_main32.default.name,_main38.default.name,_main40.default.name,_main42.default.name,_main44.default.name,_main60.default.name,_main14.default.name,_main16.default.name,_main18.default.name,_main20.default.name,_main22.default.name,_main46.default.name,_main48.default.name,_main2.default.name,_main58.default.name,_main50.default.name,_main52.default.name,"Utilities","OrganizationFormDefinition","UserFormDefinition","OrganizationListDefinition","templates","UserListDefinition","UserHelper","PromptDialog","AWDirectives","InventoriesListDefinition","InventoryFormDefinition","InventoryHelper","InventoryGroupsDefinition","InventoryHostsDefinition","HostsHelper","AWFilters","HostFormDefinition","HostListDefinition","GroupFormDefinition","GroupListDefinition","GroupsHelper","TeamsListDefinition","TeamFormDefinition","TeamHelper","CredentialsListDefinition","CredentialFormDefinition","TemplatesListDefinition","PortalJobTemplatesListDefinition","JobTemplateFormDefinition","JobTemplatesHelper","JobSubmissionHelper","ProjectsListDefinition","ProjectFormDefinition","ProjectStatusDefinition","ProjectsHelper","CompletedJobsDefinition","AllJobsDefinition","JobSummaryDefinition","ParseHelper","ChildrenHelper","ProjectPathHelper","md5Helper","SelectionHelper","HostGroupsFormDefinition","StreamWidget","JobsHelper","CredentialsHelper","StreamListDefinition","ActivityDetailDefinition","VariablesHelper","SchedulesListDefinition","ScheduledJobsDefinition","SchedulesHelper","JobsListDefinition","LogViewerStatusDefinition","StandardOutHelper","LogViewerOptionsDefinition","JobDetailHelper","lrInfiniteScroll","LoadConfigHelper","PortalJobsListDefinition","features","longDateFilter","pendolytics",_main62.default.name,"ApiModelHelper","ActivityStreamHelper","WorkflowFormDefinition","InventorySourcesListDefinition","WorkflowMakerFormDefinition"]).constant("AngularScheduler.partials",urlPrefix+"lib/angular-scheduler/lib/").constant("AngularScheduler.useTimezone",!0).constant("AngularScheduler.showUTCField",!0).constant("$timezones.definitions.location",urlPrefix+"lib/angular-tz-extensions/tz/data").config(["$logProvider",function($logProvider){$logProvider.debugEnabled({}["ng-debug"]||!1)}]).config(["$pendolyticsProvider",function($pendolyticsProvider){$pendolyticsProvider.doNotAutoStart()}]).config(["ngToastProvider",function(ngToastProvider){ngToastProvider.configure({animation:"slide",dismissOnTimeout:!0,timeout:4e3})}]).config(["$urlRouterProvider","$breadcrumbProvider","QuerySetProvider","$urlMatcherFactoryProvider","stateDefinitionsProvider","$stateProvider",function($urlRouterProvider,$breadcrumbProvider,QuerySet,$urlMatcherFactoryProvider,stateDefinitionsProvider,$stateProvider){var stateDefinitions=stateDefinitionsProvider.$get();$urlMatcherFactoryProvider.strictMode(!1),$breadcrumbProvider.setOptions({templateUrl:urlPrefix+"partials/breadcrumb.html"}),$urlRouterProvider.when("/jobs/*/host-event/*","/jobs/*/host-event/*/details"),$urlRouterProvider.otherwise("/home"),$urlMatcherFactoryProvider.type("queryset",{encode:function(item){return QuerySet.$get().encodeArr(item)},decode:function(item){return QuerySet.$get().decodeArr(item)},is:function(item){return angular.isObject(item)}}),$stateProvider.state({name:"projects",url:"/projects",lazyLoad:function(){return stateDefinitions.generateTree({parent:"projects",modes:["add","edit"],list:"ProjectList",form:"ProjectsForm",controllers:{list:_Projects.ProjectsList,add:_Projects.ProjectsAdd,edit:_Projects.ProjectsEdit},data:{activityStream:!0,activityStreamTarget:"project",socket:{groups:{jobs:["status_changed"]}}},ncyBreadcrumb:{label:(0,_i18n.N_)("PROJECTS")}})}}),$stateProvider.state({name:"credentials",url:"/credentials",lazyLoad:function(){return stateDefinitions.generateTree({parent:"credentials",modes:["add","edit"],list:"CredentialList",form:"CredentialForm",controllers:{list:_Credentials.CredentialsList,add:_Credentials.CredentialsAdd,edit:_Credentials.CredentialsEdit},data:{activityStream:!0,activityStreamTarget:"credential"},ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("CREDENTIALS")}})}}),$stateProvider.state({name:"teams",url:"/teams",lazyLoad:function(){return stateDefinitions.generateTree({parent:"teams",modes:["add","edit"],list:"TeamList",form:"TeamForm",controllers:{list:_Teams.TeamsList,add:_Teams.TeamsAdd,edit:_Teams.TeamsEdit},data:{activityStream:!0,activityStreamTarget:"team"},ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("TEAMS")}})}}),$stateProvider.state({name:"users",url:"/users",lazyLoad:function(){return stateDefinitions.generateTree({parent:"users",modes:["add","edit"],list:"UserList",form:"UserForm",controllers:{list:_Users.UsersList,add:_Users.UsersAdd,edit:_Users.UsersEdit},data:{activityStream:!0,activityStreamTarget:"user"},ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("USERS")}})}})}]).run(["$stateExtender","$q","$compile","$cookieStore","$rootScope","$log","$stateParams","CheckLicense","$location","Authorization","LoadBasePaths","Timer","ClearScope","LoadConfig","Store","pendoService","Prompt","Rest","Wait","ProcessErrors","$state","GetBasePath","ConfigService","FeaturesService","$filter","SocketService",function($stateExtender,$q,$compile,$cookieStore,$rootScope,$log,$stateParams,CheckLicense,$location,Authorization,LoadBasePaths,Timer,ClearScope,LoadConfig,Store,pendoService,Prompt,Rest,Wait,ProcessErrors,$state,GetBasePath,ConfigService,FeaturesService,$filter,SocketService){function activateTab(){var base=$location.path().replace(/^\//,"").split("/")[0];base=""===base?"home":"job_events"===base||"job_host_summaries"===base?"jobs":base,$(".navbar-brand").attr("href","/#/home"),$rootScope.portalMode=!1,"portal"===base&&($rootScope.portalMode=!0,$(".navbar-brand").removeAttr("href")),$("#ansible-list-title").html("<strong>"+base.replace(/\_/," ")+"</strong>"),$("#ansible-main-menu li").each(function(){$(this).removeClass("active")}),$("#ansible-main-menu #"+base).addClass("active"),$("#ansible-mobile-menu a").each(function(){$(this).removeClass("active")}),$('#ansible-mobile-menu a[href="#'+base+'"]').addClass("active")}$rootScope.$state=$state,$rootScope.$state.matches=function(stateName){return $state.current.name.search(stateName)>0},$rootScope.$stateParams=$stateParams,$state.defaultErrorHandler(function(error){$log.debug("$state.defaultErrorHandler: "+error)}),$stateExtender.addState({name:"dashboard",url:"/home",templateUrl:urlPrefix+"partials/home.html",controller:_Home.Home,params:{licenseMissing:null},data:{activityStream:!0,refreshButton:!0,socket:{groups:{jobs:["status_changed"]}}},ncyBreadcrumb:{label:(0,_i18n.N_)("DASHBOARD")},resolve:{graphData:["$q","jobStatusGraphData","$rootScope",function($q,jobStatusGraphData,$rootScope){return $rootScope.featuresConfigured.promise.then(function(){return $q.all({jobStatus:jobStatusGraphData.get("month","all")})})}]}}),$stateExtender.addState({name:"userCredentials",url:"/users/:user_id/credentials",templateUrl:urlPrefix+"partials/users.html",controller:_Credentials.CredentialsList}),$stateExtender.addState({name:"userCredentialAdd",url:"/users/:user_id/credentials/add",templateUrl:urlPrefix+"partials/teams.html",controller:_Credentials.CredentialsAdd}),$stateExtender.addState({name:"teamUserCredentialEdit",url:"/teams/:user_id/credentials/:credential_id",templateUrl:urlPrefix+"partials/teams.html",controller:_Credentials.CredentialsEdit}),$stateExtender.addState({name:"sockets",url:"/sockets",templateUrl:urlPrefix+"partials/sockets.html",controller:_Sockets.SocketsController,ncyBreadcrumb:{label:(0,_i18n.N_)("SOCKETS")}}),$rootScope.removeConfigReady&&$rootScope.removeConfigReady(),$rootScope.removeConfigReady=$rootScope.$on("ConfigReady",function(){var list,id;if($location.$$path&&$location.$$path.split("/")[3]&&"schedules"===$location.$$path.split("/")[3]?(list=$location.$$path.split("/")[3],id=$location.$$path.split("/")[4],$rootScope.listBeingEdited=list,$rootScope.rowBeingEdited=id,$rootScope.initialIndicatorLoad=!0):$location.$$path.split("/")[2]&&(list=$location.$$path.split("/")[1],id=$location.$$path.split("/")[2],$rootScope.listBeingEdited=list,$rootScope.rowBeingEdited=id),LoadBasePaths(),$rootScope.crumbCache=[],$rootScope.$on("$stateChangeStart",function(event,next){var jobDetailStates=["jobDetail","jobDetail.host-summary","jobDetail.host-event.details","jobDetail.host-event.json","jobDetail.host-events","jobDetail.host-event.stdout"];$rootScope.jobDetailInterval&&!_.includes(jobDetailStates,next.name)&&window.clearInterval($rootScope.jobDetailInterval),$rootScope.jobStdOutInterval&&!_.includes(jobDetailStates,next.name)&&window.clearInterval($rootScope.jobStdOutInterval),/^\/(login|logout)/.test($location.path())||($rootScope.lastPath=$location.path(),$rootScope.enteredPath=$location.path(),$cookieStore.put("lastPath",$location.path())),Authorization.isUserLoggedIn()===!1?"signIn"!==next.name&&$state.go("signIn"):$rootScope&&$rootScope.sessionTimer&&$rootScope.sessionTimer.isExpired()?"signIn"!==next.name&&$state.go("signIn"):(void 0!==$rootScope.current_user&&null!==$rootScope.current_user||Authorization.restoreUserInfo(),next&&"signIn"!==next.name&&"signOut"!==next.name&&"license"!==next.name&&$rootScope.configReady===!0&&CheckLicense.test(event)),activateTab()}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState){"license"===fromState.name&&toParams.hasOwnProperty("licenseMissing")&&($rootScope.licenseMissing=toParams.licenseMissing);var list,id;$location.$$path&&$location.$$path.split("/")[3]&&"schedules"===$location.$$path.split("/")[3]?(list=$location.$$path.split("/")[3],id=$location.$$path.split("/")[4],$rootScope.initialIndicatorLoad?delete $rootScope.initialIndicatorLoad:(delete $rootScope.listBeingEdited,delete $rootScope.rowBeingEdited),$rootScope.$broadcast("EditIndicatorChange",list,id)):$location.$$path.split("/")[2]?(list=$location.$$path.split("/")[1],id=$location.$$path.split("/")[2],delete $rootScope.listBeingEdited,delete $rootScope.rowBeingEdited,$rootScope.$broadcast("EditIndicatorChange",list,id)):$rootScope.addedAnItem?(delete $rootScope.addedAnItem,$rootScope.$broadcast("RemoveIndicator")):$rootScope.$broadcast("RemoveIndicator")}),Authorization.getToken()&&Authorization.isUserLoggedIn()){var lastUser=$cookieStore.get("current_user"),timestammp=Store("sessionTime");if(lastUser&&lastUser.id&&timestammp&&timestammp[lastUser.id]&&timestammp[lastUser.id].loggedIn){var stime=timestammp[lastUser.id].time,now=(new Date).getTime();stime-now<=0&&$location.path("/login")}$rootScope.user_is_superuser=Authorization.getUserInfo("is_superuser"),$rootScope.user_is_system_auditor=Authorization.getUserInfo("is_system_auditor"),_.contains($location.$$url,"/login")||ConfigService.getConfig().then(function(){Timer.init().then(function(timer){$rootScope.sessionTimer=timer,SocketService.init(),pendoService.issuePendoIdentity(),CheckLicense.test(),FeaturesService.get(),"/home"===$location.$$path&&$state.current&&""===$state.current.name?$state.go("dashboard"):"/portal"===$location.$$path&&$state.current&&""===$state.current.name&&$state.go("portalMode")})})}else $location.path("/login");activateTab(),$rootScope.viewCurrentUser=function(){$location.path("/users/"+$rootScope.current_user.id)},$rootScope.viewLicense=function(){$location.path("/license")},$rootScope.toggleTab=function(e,tab,tabs){e.preventDefault(),$("#"+tabs+" #"+tab).tab("show")},$rootScope.leavePortal=function(){$rootScope.portalMode=!1,$location.path("/home/")}}),$AnsibleConfig||($rootScope.loginConfig=$q.defer()),$rootScope.featuresConfigured||($rootScope.featuresConfigured=$q.defer()),$rootScope.licenseMissing=!0,$rootScope.lastPath="/portal"===$location.path()?"portal":void 0,LoadConfig()}]);exports.default=tower}).call(exports,function(){return this}(),__webpack_require__(1),__webpack_require__(2))},,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){(function(jQuery){!function($){function resetTriggers(element){var triggers=element.__resizeTriggers__,expand=triggers.firstElementChild,contract=triggers.lastElementChild,expandChild=expand.firstElementChild;contract.scrollLeft=contract.scrollWidth,contract.scrollTop=contract.scrollHeight,expandChild.style.width=expand.offsetWidth+1+"px",expandChild.style.height=expand.offsetHeight+1+"px",expand.scrollLeft=expand.scrollWidth,expand.scrollTop=expand.scrollHeight}function checkTriggers(element){return element.offsetWidth!=element.__resizeLast__.width||element.offsetHeight!=element.__resizeLast__.height}function scrollListener(e){var element=this;resetTriggers(this),this.__resizeRAF__&&cancelFrame(this.__resizeRAF__),this.__resizeRAF__=requestFrame(function(){checkTriggers(element)&&(element.__resizeLast__.width=element.offsetWidth,element.__resizeLast__.height=element.offsetHeight,element.__resizeListeners__.forEach(function(fn){fn.call(element,e)}))})}function createStyles(){if(!stylesCreated){var css=(animationKeyframes?animationKeyframes:"")+".resize-triggers { "+(animationStyle?animationStyle:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style),stylesCreated=!0}}var attachEvent=document.attachEvent,stylesCreated=!1,jQuery_resize=$.fn.resize;if($.fn.resize=function(callback){return this.each(function(){this==window?jQuery_resize.call(jQuery(this),callback):addResizeListener(this,callback)})},$.fn.removeResize=function(callback){return this.each(function(){removeResizeListener(this,callback)})},!attachEvent){var requestFrame=function(){var raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return window.setTimeout(fn,20)};return function(fn){return raf(fn)}}(),cancelFrame=function(){var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(id){return cancel(id)}}(),animation=!1,animationstring="animation",keyframeprefix="",animationstartevent="animationstart",domPrefixes="Webkit Moz O ms".split(" "),startEvents="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),pfx="",elm=document.createElement("fakeelement");if(void 0!==elm.style.animationName&&(animation=!0),animation===!1)for(var i=0;i<domPrefixes.length;i++)if(void 0!==elm.style[domPrefixes[i]+"AnimationName"]){pfx=domPrefixes[i],animationstring=pfx+"Animation",keyframeprefix="-"+pfx.toLowerCase()+"-",animationstartevent=startEvents[i],animation=!0;break}var animationName="resizeanim",animationKeyframes="@"+keyframeprefix+"keyframes "+animationName+" { from { opacity: 0; } to { opacity: 0; } } ",animationStyle=keyframeprefix+"animation: 1ms "+animationName+"; "}window.addResizeListener=function(element,fn){attachEvent?element.attachEvent("onresize",fn):(element.__resizeTriggers__||("static"==getComputedStyle(element).position&&(element.style.position="relative"),createStyles(),element.__resizeLast__={},element.__resizeListeners__=[],(element.__resizeTriggers__=document.createElement("div")).className="resize-triggers",element.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',element.appendChild(element.__resizeTriggers__),resetTriggers(element),element.addEventListener("scroll",scrollListener,!0),animationstartevent&&element.__resizeTriggers__.addEventListener(animationstartevent,function(e){e.animationName==animationName&&resetTriggers(element)})),element.__resizeListeners__.push(fn))},window.removeResizeListener=function(element,fn){attachEvent?element.detachEvent("onresize",fn):(element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn),1),element.__resizeListeners__.length||(element.removeEventListener("scroll",scrollListener),element.__resizeTriggers__=!element.removeChild(element.__resizeTriggers__)))}}(jQuery)}).call(exports,__webpack_require__(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){/*!
	 * State-based routing for AngularJS
	 * @version v1.0.0-beta.3
	 * @link https://ui-router.github.io
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
!function(root,factory){module.exports=factory(__webpack_require__(4))}(this,function(__WEBPACK_EXTERNAL_MODULE_57__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}({0:function(module,exports,__webpack_require__){"use strict";var angular=__webpack_require__(57);!function(){function applyPairs(memo,keyValTuple){var key,value;if(Array.isArray(keyValTuple)&&(key=keyValTuple[0],value=keyValTuple[1]),!isString(key))throw new Error("invalid parameters to applyPairs");return memo[key]=value,memo}function stateChangeStartHandler($transition$){if($transition$.options().notify&&$transition$.valid()&&!$transition$.ignored()){var $injector=$transition$.injector(),$stateEvents=$injector.get("$stateEvents"),$rootScope=$injector.get("$rootScope"),$state=$injector.get("$state"),$urlRouter=$injector.get("$urlRouter"),enabledEvents=$stateEvents.provider.enabled(),toParams=$transition$.params("to"),fromParams=$transition$.params("from");if(enabledEvents.$stateChangeSuccess){var startEvent=$rootScope.$broadcast("$stateChangeStart",$transition$.to(),toParams,$transition$.from(),fromParams,$transition$.options(),$transition$);if(startEvent.defaultPrevented)return enabledEvents.$stateChangeCancel&&$rootScope.$broadcast("$stateChangeCancel",$transition$.to(),toParams,$transition$.from(),fromParams,$transition$.options(),$transition$),null==$state.transition&&$urlRouter.update(),!1;$transition$.promise.then(function(){$rootScope.$broadcast("$stateChangeSuccess",$transition$.to(),toParams,$transition$.from(),fromParams,$transition$.options(),$transition$)})}enabledEvents.$stateChangeError&&$transition$.promise.catch(function(error){if(!error||2!==error.type&&3!==error.type){var evt=$rootScope.$broadcast("$stateChangeError",$transition$.to(),toParams,$transition$.from(),fromParams,error,$transition$.options(),$transition$);evt.defaultPrevented||$urlRouter.update()}})}}function stateNotFoundHandler($to$,$from$,injector){function redirectFn(){return $state.target(redirect.to,redirect.toParams,redirect.options)}var $state=injector.get("$state"),$rootScope=injector.get("$rootScope"),$urlRouter=injector.get("$urlRouter"),redirect={to:$to$.identifier(),toParams:$to$.params(),options:$to$.options()},e=$rootScope.$broadcast("$stateNotFound",redirect,$from$.state(),$from$.params());return(e.defaultPrevented||e.retry)&&$urlRouter.update(),!e.defaultPrevented&&(e.retry||$state.get(redirect.to)?e.retry&&isFunction(e.retry.then)?e.retry.then(redirectFn):redirectFn():void 0)}function $StateEventsProvider($stateProvider){function assertNotRuntime(){if(runtime)throw new Error("Cannot enable events at runtime (use $stateEventsProvider")}function $get($transitions){return runtime=!0,enabledStateEvents.$stateNotFound&&$stateProvider.onInvalid(stateNotFoundHandler),enabledStateEvents.$stateChangeStart&&$transitions.onBefore({},stateChangeStartHandler,{priority:1e3}),{provider:$StateEventsProvider.prototype.instance}}$StateEventsProvider.prototype.instance=this;var runtime=!1,allEvents=["$stateChangeStart","$stateNotFound","$stateChangeSuccess","$stateChangeError"],enabledStateEvents=allEvents.map(function(e){return[e,!0]}).reduce(applyPairs,{});this.enable=function(){for(var events=[],_i=0;_i<arguments.length;_i++)events[_i-0]=arguments[_i];assertNotRuntime(),events&&events.length||(events=allEvents),events.forEach(function(event){return enabledStateEvents[event]=!0})},this.disable=function(){for(var events=[],_i=0;_i<arguments.length;_i++)events[_i-0]=arguments[_i];assertNotRuntime(),events&&events.length||(events=allEvents),events.forEach(function(event){return delete enabledStateEvents[event]})},this.enabled=function(){return enabledStateEvents},this.$get=$get,$get.$inject=["$transitions"]}var isFunction=angular.isFunction,isString=angular.isString;stateNotFoundHandler.$inject=["$to$","$from$","$state","$rootScope","$urlRouter"],$StateEventsProvider.$inject=["$stateProvider"],angular.module("ui.router.state.events",["ui.router.state"]).provider("$stateEvents",$StateEventsProvider).run(["$stateEvents",function($stateEvents){}])}()},57:function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_57__}})})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActivityStreamHelper=exports.ApiModelHelper=exports.AdhocHelper=exports.Teams=exports.MD5=exports.inventory=exports.ApiDefaults=exports.Variables=exports.Users=exports.Selection=exports.Schedules=exports.Projects=exports.ProjectPath=exports.Parse=exports.LoadConfig=exports.Jobs=exports.JobTemplates=exports.JobSubmission=exports.JobDetail=exports.Hosts=exports.Groups=exports.Events=exports.Credentials=exports.Children=void 0,__webpack_require__(64),__webpack_require__(86);var _Children=__webpack_require__(110),_Children2=_interopRequireDefault(_Children),_Credentials=__webpack_require__(111),_Credentials2=_interopRequireDefault(_Credentials),_Events=__webpack_require__(112),_Events2=_interopRequireDefault(_Events),_Groups=__webpack_require__(113),_Groups2=_interopRequireDefault(_Groups),_Hosts=__webpack_require__(127),_Hosts2=_interopRequireDefault(_Hosts),_JobDetail=__webpack_require__(128),_JobDetail2=_interopRequireDefault(_JobDetail),_JobSubmission=__webpack_require__(129),_JobSubmission2=_interopRequireDefault(_JobSubmission),_JobTemplates=__webpack_require__(130),_JobTemplates2=_interopRequireDefault(_JobTemplates),_Jobs=__webpack_require__(131),_Jobs2=_interopRequireDefault(_Jobs),_LoadConfig=__webpack_require__(132),_LoadConfig2=_interopRequireDefault(_LoadConfig),_Parse=__webpack_require__(133),_Parse2=_interopRequireDefault(_Parse),_ProjectPath=__webpack_require__(141),_ProjectPath2=_interopRequireDefault(_ProjectPath),_Projects=__webpack_require__(142),_Projects2=_interopRequireDefault(_Projects),_Schedules=__webpack_require__(143),_Schedules2=_interopRequireDefault(_Schedules),_Selection=__webpack_require__(144),_Selection2=_interopRequireDefault(_Selection),_Users=__webpack_require__(145),_Users2=_interopRequireDefault(_Users),_Variables=__webpack_require__(146),_Variables2=_interopRequireDefault(_Variables),_apiDefaults=__webpack_require__(147),_apiDefaults2=_interopRequireDefault(_apiDefaults),_inventory=__webpack_require__(148),_inventory2=_interopRequireDefault(_inventory),_md=__webpack_require__(149),_md2=_interopRequireDefault(_md),_teams=__webpack_require__(151),_teams2=_interopRequireDefault(_teams),_Adhoc=__webpack_require__(152),_Adhoc2=_interopRequireDefault(_Adhoc),_ApiModel=__webpack_require__(153),_ApiModel2=_interopRequireDefault(_ApiModel),_ActivityStream=__webpack_require__(154),_ActivityStream2=_interopRequireDefault(_ActivityStream);exports.Children=_Children2.default,exports.Credentials=_Credentials2.default,exports.Events=_Events2.default,exports.Groups=_Groups2.default,exports.Hosts=_Hosts2.default,exports.JobDetail=_JobDetail2.default,exports.JobSubmission=_JobSubmission2.default,exports.JobTemplates=_JobTemplates2.default,exports.Jobs=_Jobs2.default,exports.LoadConfig=_LoadConfig2.default,exports.Parse=_Parse2.default,exports.ProjectPath=_ProjectPath2.default,exports.Projects=_Projects2.default,exports.Schedules=_Schedules2.default,exports.Selection=_Selection2.default,exports.Users=_Users2.default,exports.Variables=_Variables2.default,exports.ApiDefaults=_apiDefaults2.default,exports.inventory=_inventory2.default,exports.MD5=_md2.default,exports.Teams=_teams2.default,exports.AdhocHelper=_Adhoc2.default,exports.ApiModelHelper=_ApiModel2.default,exports.ActivityStreamHelper=_ActivityStream2.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Workflows=exports.WorkflowMaker=exports.Users=exports.Teams=exports.Projects=exports.ProjectStatus=exports.Organizations=exports.LogViewerStatus=exports.LogViewerOptions=exports.JobVarsPrompt=exports.JobTemplates=exports.JobSummary=exports.JobEventData=exports.InventoryStatus=exports.Inventories=exports.Hosts=exports.HostGroups=exports.Groups=exports.EventsViewer=exports.Credentials=exports.ActivityDetail=void 0;var _ActivityDetail=__webpack_require__(65),_ActivityDetail2=_interopRequireDefault(_ActivityDetail),_Credentials=__webpack_require__(66),_Credentials2=_interopRequireDefault(_Credentials),_EventsViewer=__webpack_require__(67),_EventsViewer2=_interopRequireDefault(_EventsViewer),_Groups=__webpack_require__(68),_Groups2=_interopRequireDefault(_Groups),_HostGroups=__webpack_require__(69),_HostGroups2=_interopRequireDefault(_HostGroups),_Hosts=__webpack_require__(70),_Hosts2=_interopRequireDefault(_Hosts),_Inventories=__webpack_require__(71),_Inventories2=_interopRequireDefault(_Inventories),_InventoryStatus=__webpack_require__(72),_InventoryStatus2=_interopRequireDefault(_InventoryStatus),_JobEventData=__webpack_require__(73),_JobEventData2=_interopRequireDefault(_JobEventData),_JobSummary=__webpack_require__(74),_JobSummary2=_interopRequireDefault(_JobSummary),_JobTemplates=__webpack_require__(75),_JobTemplates2=_interopRequireDefault(_JobTemplates),_JobVarsPrompt=__webpack_require__(76),_JobVarsPrompt2=_interopRequireDefault(_JobVarsPrompt),_LogViewerOptions=__webpack_require__(77),_LogViewerOptions2=_interopRequireDefault(_LogViewerOptions),_LogViewerStatus=__webpack_require__(78),_LogViewerStatus2=_interopRequireDefault(_LogViewerStatus),_Organizations=__webpack_require__(79),_Organizations2=_interopRequireDefault(_Organizations),_ProjectStatus=__webpack_require__(80),_ProjectStatus2=_interopRequireDefault(_ProjectStatus),_Projects=__webpack_require__(81),_Projects2=_interopRequireDefault(_Projects),_Teams=__webpack_require__(82),_Teams2=_interopRequireDefault(_Teams),_Users=__webpack_require__(83),_Users2=_interopRequireDefault(_Users),_WorkflowMaker=__webpack_require__(84),_WorkflowMaker2=_interopRequireDefault(_WorkflowMaker),_Workflows=__webpack_require__(85),_Workflows2=_interopRequireDefault(_Workflows);exports.ActivityDetail=_ActivityDetail2.default,exports.Credentials=_Credentials2.default,exports.EventsViewer=_EventsViewer2.default,exports.Groups=_Groups2.default,exports.HostGroups=_HostGroups2.default,exports.Hosts=_Hosts2.default,exports.Inventories=_Inventories2.default,exports.InventoryStatus=_InventoryStatus2.default,exports.JobEventData=_JobEventData2.default,exports.JobSummary=_JobSummary2.default,exports.JobTemplates=_JobTemplates2.default,exports.JobVarsPrompt=_JobVarsPrompt2.default,exports.LogViewerOptions=_LogViewerOptions2.default,exports.LogViewerStatus=_LogViewerStatus2.default,exports.Organizations=_Organizations2.default,exports.ProjectStatus=_ProjectStatus2.default,exports.Projects=_Projects2.default,exports.Teams=_Teams2.default,exports.Users=_Users2.default,exports.WorkflowMaker=_WorkflowMaker2.default,exports.Workflows=_Workflows2.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ActivityDetailDefinition",[]).factory("ActivityDetailForm",["i18n",function(i18n){return{name:"activity",editTitle:i18n._("ACTIVITY DETAIL"),well:!1,class:"horizontal-narrow",formFieldSize:"col-lg-10",formLabelSize:"col-lg-2",fields:{user:{label:i18n._("Initiated by"),type:"text",readonly:!0},operation:{label:i18n._("Action"),type:"text",readonly:!0},changes:{label:i18n._("Changes"),type:"textarea",class:"Form-textAreaLabel",ngHide:"!changes || changes =='' || changes == 'null'",readonly:!0}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("CredentialFormDefinition",[]).factory("CredentialForm",["i18n",function(i18n){return{addTitle:i18n._("CREATE CREDENTIAL"),editTitle:"{{ name }}",name:"credential",stateTree:"credentials",forceListeners:!0,subFormTitles:{credentialSubForm:i18n._("Type Details")},actions:{},fields:{name:{label:i18n._("Name"),type:"text",required:!0,autocomplete:!1,ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},description:{label:i18n._("Description"),type:"text",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},organization:{basePath:"organizations",ngShow:"canShareCredential",label:i18n._("Organization"),type:"lookup",autopopulateLookup:!1,list:"OrganizationList",sourceModel:"organization",sourceField:"name",awPopOver:"<p>"+i18n._("If no organization is given, the credential can only be used by the user that creates the credential.  Organization admins and system administrators can assign an organization so that roles for the credential can be assigned to users and teams in that organization.")+"</p>",dataTitle:i18n._("Organization")+" ",dataPlacement:"bottom",dataContainer:"body",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd) || !canEditOrg",awLookupWhen:"(credential_obj.summary_fields.user_capabilities.edit || canAdd) && canEditOrg"},kind:{label:i18n._("Type"),excludeModal:!0,type:"select",ngOptions:"kind.label for kind in credential_kind_options track by kind.value",ngChange:"kindChange()",required:!0,awPopOver:"<dl>\n<dt>"+i18n._("Machine")+"</dt>\n<dd>"+i18n._("Authentication for remote machine access. This can include SSH keys, usernames, passwords, and sudo information. Machine credentials are used when submitting jobs to run playbooks against remote hosts.")+"</dd><dt>"+i18n._("Network")+"</dt>\n<dd>"+i18n._("Authentication for network device access. This can include SSH keys, usernames, passwords, and authorize information. Network credentials are used when submitting jobs to run playbooks against network devices.")+"</dd><dt>"+i18n._("Source Control")+"</dt>\n<dd>"+i18n._("Used to check out and synchronize playbook repositories with a remote source control management system such as Git, Subversion (svn), or Mercurial (hg). These credentials are used by Projects.")+"</dd>\n<dt>"+i18n._("Others (Cloud Providers)")+"</dt>\n<dd>"+i18n._("Usernames, passwords, and access keys for authenticating to the specified cloud or infrastructure provider. These are used for dynamic inventory sources and for cloud provisioning and deployment in playbook runs.")+"</dd>\n</dl>\n",dataTitle:i18n._("Type"),dataPlacement:"right",dataContainer:"body",hasSubForm:!0,ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},access_key:{label:i18n._("Access Key"),type:"text",ngShow:"kind.value == 'aws'",awRequiredWhen:{reqExpression:"aws_required",init:!1},autocomplete:!1,apiField:"username",subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},secret_key:{label:i18n._("Secret Key"),type:"sensitive",ngShow:"kind.value == 'aws'",ngDisabled:"secret_key_ask || !(credential_obj.summary_fields.user_capabilities.edit || canAdd)",awRequiredWhen:{reqExpression:"aws_required",init:!1},autocomplete:!1,clear:!1,hasShowInputButton:!0,apiField:"password",subForm:"credentialSubForm"},security_token:{label:i18n._("STS Token"),type:"sensitive",ngShow:"kind.value == 'aws'",autocomplete:!1,apiField:"security_token",awPopOver:"<div>"+i18n._("Security Token Service (STS) is a web service that enables you to request temporary, limited-privilege credentials for AWS Identity and Access Management (IAM) users.")+"</div><div style='padding-top: 10px'>"+i18n.sprintf(i18n._("To learn more about the IAM STS Token, refer to the %sAmazon documentation%s."),"<a href='http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp.html' target='_blank'>","</a>")+"</div>",hasShowInputButton:!0,dataTitle:i18n._("STS Token"),dataPlacement:"right",dataContainer:"body",subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},host:{labelBind:"hostLabel",type:"text",ngShow:"kind.value == 'vmware' || kind.value == 'openstack' || kind.value === 'satellite6' || kind.value === 'cloudforms'",awPopOverWatch:"hostPopOver",awPopOver:i18n._("set in helpers/credentials"),dataTitle:i18n._("Host"),dataPlacement:"right",dataContainer:"body",autocomplete:!1,awRequiredWhen:{reqExpression:"host_required",init:!1},subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},subscription:{label:i18n._("Subscription ID"),type:"text",ngShow:"kind.value == 'azure' || kind.value == 'azure_rm'",awRequiredWhen:{reqExpression:"subscription_required",init:!1},autocomplete:!1,awPopOver:"<p>"+i18n._("Subscription ID is an Azure construct, which is mapped to a username.")+"</p>",dataTitle:i18n._("Subscription ID"),dataPlacement:"right",dataContainer:"body",subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},username:{labelBind:"usernameLabel",type:"text",ngShow:"kind.value && kind.value !== 'aws' && kind.value !== 'gce' && kind.value!=='azure'",awRequiredWhen:{reqExpression:"username_required",init:!1},autocomplete:!1,subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},email_address:{labelBind:"usernameLabel",type:"email",ngShow:"kind.value === 'gce'",awRequiredWhen:{reqExpression:"email_required",init:!1},autocomplete:!1,awPopOver:"<p>"+i18n.sprintf(i18n._("The email address assigned to the Google Compute Engine %sservice account."),"<b><i>")+"</b></i></p>",dataTitle:i18n._("Email"),dataPlacement:"right",dataContainer:"body",subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},api_key:{label:i18n._("API Key"),type:"sensitive",ngShow:"kind.value == 'rax'",awRequiredWhen:{reqExpression:"rackspace_required",init:!1},autocomplete:!1,hasShowInputButton:!0,clear:!1,subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},password:{labelBind:"passwordLabel",type:"sensitive",ngShow:"kind.value == 'scm' || kind.value == 'vmware' || kind.value == 'openstack'|| kind.value == 'satellite6'|| kind.value == 'cloudforms'|| kind.value == 'net' || kind.value == 'azure_rm'",clear:!1,autocomplete:!1,hasShowInputButton:!0,awRequiredWhen:{reqExpression:"password_required",init:!1},subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},ssh_password:{label:i18n._("Password"),type:"sensitive",ngShow:"kind.value == 'ssh'",ngDisabled:"ssh_password_ask || !(credential_obj.summary_fields.user_capabilities.edit || canAdd)",subCheckbox:{variable:"ssh_password_ask",text:i18n._("Ask at runtime?"),ngChange:"ask('ssh_password', 'undefined')",ngDisabled:!1},hasShowInputButton:!0,autocomplete:!1,subForm:"credentialSubForm"},ssh_key_data:{labelBind:"sshKeyDataLabel",type:"textarea",ngShow:"kind.value == 'ssh' || kind.value == 'scm' || kind.value == 'gce' || kind.value == 'azure' || kind.value == 'net'",awRequiredWhen:{reqExpression:"key_required",init:!0},class:"Form-textAreaLabel Form-formGroup--fullWidth",elementClass:"Form-monospace",awDropFile:!0,rows:10,awPopOver:i18n._("SSH key description"),awPopOverWatch:"key_description",dataTitle:i18n._("Private Key"),dataPlacement:"right",dataContainer:"body",subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},ssh_key_unlock:{label:i18n._("Private Key Passphrase"),type:"sensitive",ngShow:"kind.value === 'ssh' || kind.value === 'scm' || kind.value === 'net'",ngDisabled:"keyEntered === false || ssh_key_unlock_ask || !(credential_obj.summary_fields.user_capabilities.edit || canAdd)",subCheckbox:{variable:"ssh_key_unlock_ask",ngShow:"kind.value == 'ssh'",text:i18n._("Ask at runtime?"),ngChange:"ask('ssh_key_unlock', 'undefined')",ngDisabled:"keyEntered === false"},hasShowInputButton:!0,subForm:"credentialSubForm"},become_method:{label:i18n._("Privilege Escalation"),type:"select",ngShow:"kind.value == 'ssh'",dataTitle:i18n._("Privilege Escalation"),ngOptions:"become.label for become in become_options track by become.value",awPopOver:"<p>"+i18n.sprintf(i18n._("Specify a method for %s operations. This is equivalent to specifying the %s parameter, where %s could be %s"),"'become'","<code>--become-method=BECOME_METHOD</code>","<code>BECOME_METHOD</code>","<code>sudo | su | pbrun | pfexec | runas</code>")+" <br>"+i18n.sprintf(i18n._("(defaults to %s)"),"<code>sudo</code>")+"</p>",dataPlacement:"right",dataContainer:"body",subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)",ngChange:"becomeMethodChange()"},become_username:{labelBind:"becomeUsernameLabel",type:"text",ngShow:"(kind.value == 'ssh' && (become_method && become_method.value)) ",autocomplete:!1,subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},become_password:{labelBind:"becomePasswordLabel",type:"sensitive",ngShow:"(kind.value == 'ssh' && (become_method && become_method.value)) ",ngDisabled:"become_password_ask || !(credential_obj.summary_fields.user_capabilities.edit || canAdd)",subCheckbox:{variable:"become_password_ask",text:i18n._("Ask at runtime?"),ngChange:"ask('become_password', 'undefined')",ngDisabled:!1},hasShowInputButton:!0,autocomplete:!1,subForm:"credentialSubForm"},client:{type:"text",label:i18n._("Client ID"),subForm:"credentialSubForm",ngShow:"kind.value === 'azure_rm'",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},secret:{type:"sensitive",hasShowInputButton:!0,autocomplete:!1,label:i18n._("Client Secret"),subForm:"credentialSubForm",ngShow:"kind.value === 'azure_rm'",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},tenant:{type:"text",label:i18n._("Tenant ID"),subForm:"credentialSubForm",ngShow:"kind.value === 'azure_rm'",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},authorize:{label:i18n._("Authorize"),type:"checkbox",ngChange:"toggleCallback('host_config_key')",subForm:"credentialSubForm",ngShow:"kind.value === 'net'",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},authorize_password:{label:i18n._("Authorize Password"),type:"sensitive",hasShowInputButton:!0,autocomplete:!1,subForm:"credentialSubForm",ngShow:"authorize && authorize !== 'false'",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},project:{labelBind:"projectLabel",type:"text",ngShow:"kind.value == 'gce' || kind.value == 'openstack'",awPopOverWatch:"projectPopOver",awPopOver:i18n._("set in helpers/credentials"),dataTitle:i18n._("Project Name"),dataPlacement:"right",dataContainer:"body",awRequiredWhen:{reqExpression:"project_required",init:!1},subForm:"credentialSubForm",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},domain:{labelBind:"domainLabel",type:"text",ngShow:"kind.value == 'openstack'",awPopOver:"<p>"+i18n._("OpenStack domains define administrative boundaries. It is only needed for Keystone v3 authentication URLs. Common scenarios include:")+"<ul><li><b>"+i18n.sprintf(i18n._("v2 URLs%s - leave blank"),"</b>")+"</li><li><b>"+i18n.sprintf(i18n._("v3 default%s - set to 'default'"),"</b>")+"</br></li><li><b>"+i18n.sprintf(i18n._("v3 multi-domain%s - your domain name"),"</b>")+"</p></li></ul></p>",dataTitle:i18n._("Domain Name"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)",subForm:"credentialSubForm"},vault_password:{label:i18n._("Vault Password"),type:"sensitive",ngShow:"kind.value == 'ssh'",ngDisabled:"vault_password_ask || !(credential_obj.summary_fields.user_capabilities.edit || canAdd)",subCheckbox:{variable:"vault_password_ask",text:i18n._("Ask at runtime?"),ngChange:"ask('vault_password', 'undefined')",ngDisabled:!1},hasShowInputButton:!0,autocomplete:!1,subForm:"credentialSubForm"}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(credential_obj.summary_fields.user_capabilities.edit || canAdd)"},save:{label:"Save",ngClick:"formSave()",ngDisabled:!0,ngShow:"(credential_obj.summary_fields.user_capabilities.edit || canAdd)"}},related:{permissions:{name:"permissions",disabled:"(organization === undefined ? true : false)",ngClick:"(organization === undefined ? true : false)||$state.go('credentials.edit.permissions')",awToolTip:"{{permissionsTooltip}}",dataTipWatch:"permissionsTooltip",awToolTipTabEnabledInEditMode:!0,dataPlacement:"right",basePath:"api/v1/credentials/{{$stateParams.credential_id}}/access_list/",search:{order_by:"username"},type:"collection",title:i18n._("Permissions"),iterator:"permission",index:!1,open:!1,actions:{add:{ngClick:"$state.go('.add')",label:"Add",awToolTip:i18n._("Add a permission"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"(credential_obj.summary_fields.user_capabilities.edit || canAdd)"}},fields:{username:{key:!0,label:i18n._("User"),linkBase:"users",class:"col-lg-3 col-md-3 col-sm-3 col-xs-4"},role:{label:i18n._("Role"),type:"role",nosort:!0,class:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},team_roles:{label:i18n._("Team Roles"),type:"team_roles",nosort:!0,class:"col-lg-5 col-md-5 col-sm-5 col-xs-4"}}}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("EventsViewerFormDefinition",[]).factory("EventsViewerForm",["i18n",function(i18n){return{fields:{host_name:{label:i18n._("Host"),section:i18n._("Event")},status:{labellabel:i18n._("Status"),section:i18n._("Event")},id:{labellabel:i18n._("ID"),section:i18n._("Event")},created:{labellabel:i18n._("Created On"),section:i18n._("Event")},role:{labellabel:i18n._("Role"),section:i18n._("Event")},play:{labellabel:i18n._("Play"),type:"text",section:i18n._("Event")},task:{labellabel:i18n._("Task"),section:i18n._("Event")},item:{labellabel:i18n._("Item"),section:i18n._("Event")},module_name:{labellabel:i18n._("Module"),section:i18n._("Event")},module_args:{labellabel:i18n._("Arguments"),section:i18n._("Event")},rc:{labellabel:i18n._("Return Code"),section:i18n._("Results")},msg:{labellabel:i18n._("Message"),section:i18n._("Results")},results:{labellabel:i18n._("Results"),section:i18n._("Results")},start:{labellabel:i18n._("Start"),section:i18n._("Timing")},end:{labellabel:i18n._("End"),section:i18n._("Timing")},delta:{labellabel:i18n._("Elapsed"),section:i18n._("Timing")}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("GroupFormDefinition",[]).value("GroupFormObject",{addTitle:"CREATE GROUP",editTitle:"{{ name }}",showTitle:!0,name:"group",basePath:"groups",stateTree:"inventoryManage",activeEditState:"inventoryManage.editGroup",detailsClick:"$state.go('inventoryManage.editGroup')",well:!1,fields:{name:{label:"Name",type:"text",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)",required:!0,tab:"properties"},description:{label:"Description",type:"text",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)",tab:"properties"},variables:{label:"Variables",type:"textarea",class:"Form-textAreaLabel Form-formGroup--fullWidth",rows:6,default:"---",dataTitle:"Group Variables",dataPlacement:"right",parseTypeName:"parseType",awPopOver:'<p>Variables defined here apply to all child groups and hosts.</p><p>Enter variables using either JSON or YAML syntax. Use the radio button to toggle between the two.</p>JSON:<br />\n<blockquote>{<br />&emsp; "somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n<p>View JSON examples at <a href="http://www.json.org" target="_blank">www.json.org</a></p><p>View YAML examples at <a href="http://docs.ansible.com/YAMLSyntax.html" target="_blank">docs.ansible.com</a></p>',dataContainer:"body",tab:"properties"},source:{label:"Source",type:"select",ngOptions:"source.label for source in source_type_options track by source.value",ngChange:"sourceChange(source)",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)",ngModel:"source"},credential:{search:{kind:null},label:"Cloud Credential",type:"lookup",list:"CredentialList",basePath:"credentials",ngShow:"source && source.value !== '' && source.value !== 'custom'",sourceModel:"credential",sourceField:"name",ngClick:"lookupCredential()",awRequiredWhen:{reqExpression:"cloudCredentialRequired",init:"false"},ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)",watchBasePath:"credentialBasePath"},source_regions:{label:"Regions",type:"select",ngOptions:"source.label for source in source_region_choices track by source.value",multiSelect:!0,ngShow:"source && (source.value == 'rax' || source.value == 'ec2' || source.value == 'gce' || source.value == 'azure' || source.value == 'azure_rm')",dataTitle:"Source Regions",dataPlacement:"right",awPopOver:"<p>Click on the regions field to see a list of regions for your cloud provider. You can select multiple regions, or choose <em>All</em> to include all regions. Tower will only be updated with Hosts associated with the selected regions.</p>",dataContainer:"body",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)"},instance_filters:{label:"Instance Filters",type:"text",ngShow:"source && source.value == 'ec2'",dataTitle:"Instance Filters",dataPlacement:"right",awPopOver:'<p>Provide a comma-separated list of filter expressions. Hosts are imported to Tower when <em>ANY</em> of the filters match.</p>Limit to hosts having a tag:<br />\n<blockquote>tag-key=TowerManaged</blockquote>\nLimit to hosts using either key pair:<br />\n<blockquote>key-name=staging, key-name=production</blockquote>\nLimit to hosts where the Name tag begins with <em>test</em>:<br />\n<blockquote>tag:Name=test*</blockquote>\n<p>View the <a href="http://docs.aws.amazon.com/AWSEC2/latest/APIReference/ApiReference-query-DescribeInstances.html" target="_blank">Describe Instances documentation</a> for a complete list of supported filters.</p>',dataContainer:"body",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)"},group_by:{label:"Only Group By",type:"select",ngShow:"source && source.value == 'ec2'",ngOptions:"source.label for source in group_by_choices track by source.value",multiSelect:!0,dataTitle:"Only Group By",dataPlacement:"right",awPopOver:"<p>Select which groups to create automatically. Tower will create group names similar to the following examples based on the options selected:</p><ul><li>Availability Zone: <strong>zones &raquo; us-east-1b</strong></li><li>Image ID: <strong>images &raquo; ami-b007ab1e</strong></li><li>Instance ID: <strong>instances &raquo; i-ca11ab1e</strong></li><li>Instance Type: <strong>types &raquo; type_m1_medium</strong></li><li>Key Name: <strong>keys &raquo; key_testing</strong></li><li>Region: <strong>regions &raquo; us-east-1</strong></li><li>Security Group: <strong>security_groups &raquo; security_group_default</strong></li><li>Tags: <strong>tags &raquo; tag_Name &raquo; tag_Name_host1</strong></li><li>VPC ID: <strong>vpcs &raquo; vpc-5ca1ab1e</strong></li><li>Tag None: <strong>tags &raquo; tag_none</strong></li></ul><p>If blank, all groups above are created except <em>Instance ID</em>.</p>",dataContainer:"body",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)"
},inventory_script:{label:"Custom Inventory Script",type:"lookup",basePath:"inventory_scripts",list:"InventoryScriptsList",ngShow:"source && source.value === 'custom'",sourceModel:"inventory_script",sourceField:"name",awRequiredWhen:{reqExpression:"source && source.value === 'custom'",init:"false"},ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)"},custom_variables:{id:"custom_variables",label:"Environment Variables",ngShow:"source && source.value=='custom' ",type:"textarea",class:"Form-textAreaLabel Form-formGroup--fullWidth",rows:6,default:"---",parseTypeName:"envParseType",dataTitle:"Environment Variables",dataPlacement:"right",awPopOver:'<p>Provide environment variables to pass to the custom inventory script.</p><p>Enter variables using either JSON or YAML syntax. Use the radio button to toggle between the two.</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n<p>View JSON examples at <a href="http://www.json.org" target="_blank">www.json.org</a></p><p>View YAML examples at <a href="http://docs.ansible.com/YAMLSyntax.html" target="_blank">docs.ansible.com</a></p>',dataContainer:"body"},ec2_variables:{id:"ec2_variables",label:"Source Variables",ngShow:"source && source.value == 'ec2'",type:"textarea",class:"Form-textAreaLabel Form-formGroup--fullWidth",rows:6,default:"---",parseTypeName:"envParseType",dataTitle:"Source Variables",dataPlacement:"right",awPopOver:'<p>Override variables found in ec2.ini and used by the inventory update script. For a detailed description of these variables <a href="https://github.com/ansible/ansible/blob/devel/contrib/inventory/ec2.ini" target="_blank">view ec2.ini in the Ansible github repo.</a></p><p>Enter variables using either JSON or YAML syntax. Use the radio button to toggle between the two.</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n<p>View JSON examples at <a href="http://www.json.org" target="_blank">www.json.org</a></p><p>View YAML examples at <a href="http://docs.ansible.com/YAMLSyntax.html" target="_blank">docs.ansible.com</a></p>',dataContainer:"body"},vmware_variables:{id:"vmware_variables",label:"Source Variables",ngShow:"source && source.value == 'vmware'",type:"textarea",class:"Form-textAreaLabel Form-formGroup--fullWidth",rows:6,default:"---",parseTypeName:"envParseType",dataTitle:"Source Variables",dataPlacement:"right",awPopOver:'<p>Override variables found in vmware.ini and used by the inventory update script. For a detailed description of these variables <a href="https://github.com/ansible/ansible/blob/devel/contrib/inventory/vmware_inventory.ini" target="_blank">view vmware_inventory.ini in the Ansible github repo.</a></p><p>Enter variables using either JSON or YAML syntax. Use the radio button to toggle between the two.</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n<p>View JSON examples at <a href="http://www.json.org" target="_blank">www.json.org</a></p><p>View YAML examples at <a href="http://docs.ansible.com/YAMLSyntax.html" target="_blank">docs.ansible.com</a></p>',dataContainer:"body"},openstack_variables:{id:"openstack_variables",label:"Source Variables",ngShow:"source && source.value == 'openstack'",type:"textarea",class:"Form-textAreaLabel Form-formGroup--fullWidth",rows:6,default:"---",parseTypeName:"envParseType",dataTitle:"Source Variables",dataPlacement:"right",awPopOver:'<p>Override variables found in openstack.yml and used by the inventory update script. For an example variable configuration <a href="https://github.com/ansible/ansible/blob/devel/contrib/inventory/openstack.yml" target="_blank">view openstack.yml in the Ansible github repo.</a></p><p>Enter variables using either JSON or YAML syntax. Use the radio button to toggle between the two.</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n<p>View JSON examples at <a href="http://www.json.org" target="_blank">www.json.org</a></p><p>View YAML examples at <a href="http://docs.ansible.com/YAMLSyntax.html" target="_blank">docs.ansible.com</a></p>',dataContainer:"body"},checkbox_group:{label:"Update Options",type:"checkbox_group",ngShow:"source && (source.value !== '' && source.value !== null)",class:"Form-checkbox--stacked",fields:[{name:"overwrite",label:"Overwrite",type:"checkbox",ngShow:"source.value !== '' && source.value !== null",awPopOver:"<p>If checked, all child groups and hosts not found on the external source will be deleted from the local inventory.</p><p>When not checked, local child hosts and groups not found on the external source will remain untouched by the inventory update process.</p>",dataTitle:"Overwrite",dataContainer:"body",dataPlacement:"right",labelClass:"checkbox-options",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)"},{name:"overwrite_vars",label:"Overwrite Variables",type:"checkbox",ngShow:"source.value !== '' && source.value !== null",awPopOver:"<p>If checked, all variables for child groups and hosts will be removed and replaced by those found on the external source.</p><p>When not checked, a merge will be performed, combining local variables with those found on the external source.</p>",dataTitle:"Overwrite Variables",dataContainer:"body",dataPlacement:"right",labelClass:"checkbox-options",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)"},{name:"update_on_launch",label:"Update on Launch",type:"checkbox",ngShow:"source.value !== '' && source.value !== null",awPopOver:"<p>Each time a job runs using this inventory, refresh the inventory from the selected source before executing job tasks.</p>",dataTitle:"Update on Launch",dataContainer:"body",dataPlacement:"right",labelClass:"checkbox-options",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)"}]},update_cache_timeout:{label:'Cache Timeout <span class="small-text"> (seconds)</span>',id:"source-cache-timeout",type:"number",ngDisabled:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)",integer:!0,min:0,ngShow:"source && source.value !== '' && update_on_launch",spinner:!0,default:0,awPopOver:"<p>Time in seconds to consider an inventory sync to be current. During job runs and callbacks the task system will evaluate the timestamp of the latest sync. If it is older than Cache Timeout, it is not considered current, and a new inventory sync will be performed.</p>",dataTitle:"Cache Timeout",dataPlacement:"right",dataContainer:"body"}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(group_obj.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(group_obj.summary_fields.user_capabilities.edit || canAdd)"},save:{ngClick:"formSave()",ngDisabled:!0,ngShow:"(group_obj.summary_fields.user_capabilities.edit || canAdd)"}},related:{notifications:{include:"NotificationsList"}}}).factory("GroupForm",["GroupFormObject","NotificationsList",function(GroupFormObject,NotificationsList){return function(){var itm;for(itm in GroupFormObject.related)"NotificationsList"===GroupFormObject.related[itm].include&&(GroupFormObject.related[itm]=angular.copy(NotificationsList),GroupFormObject.related[itm].generateList=!0,GroupFormObject.related[itm].disabled="source === undefined || source.value === ''",GroupFormObject.related[itm].ngClick="$state.go('inventoryManage.editGroup.notifications')");return GroupFormObject}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("HostGroupsFormDefinition",[]).value("HostGroupsForm",{editTitle:"HOST GROUPS",name:"host",well:!1,formLabelSize:"col-lg-3",formFieldSize:"col-lg-9",fields:{groups:{label:"Groups",type:"select",multiple:!0,ngOptions:"group.name for group in inventory_groups track by group.value",required:!0,awPopOver:"<p>Provide a host name, ip address, or ip address:port. Examples include:</p><blockquote>myserver.domain.com<br/>127.0.0.1<br />10.1.0.140:25<br />server.example.com:25</blockquote>",dataTitle:"Host Name",dataPlacement:"right",dataContainer:"#form-modal .modal-content"}},buttons:{reset:{ngClick:"formReset()",ngDisabled:!0},save:{ngClick:"formSave()",ngDisabled:!0}},related:{}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("HostFormDefinition",[]).factory("HostForm",["i18n",function(i18n){return{addTitle:i18n._("CREATE HOST"),editTitle:"{{ host.name }}",name:"host",basePath:"hosts",well:!1,formLabelSize:"col-lg-3",formFieldSize:"col-lg-9",iterator:"host",headerFields:{enabled:{class:"Form-header-field",ngClick:"toggleHostEnabled(host)",type:"toggle",awToolTip:"<p>"+i18n._("Indicates if a host is available and should be included in running jobs.")+"</p><p>"+i18n._("For hosts that are part of an external inventory, this flag cannot be changed. It will be set by the inventory sync process.")+"</p>",dataTitle:i18n._("Host Enabled"),ngDisabled:"host.has_inventory_sources"}},fields:{name:{label:i18n._("Host Name"),type:"text",required:!0,awPopOver:"<p>"+i18n._("Provide a host name, ip address, or ip address:port. Examples include:")+"</p><blockquote>myserver.domain.com<br/>127.0.0.1<br />10.1.0.140:25<br />server.example.com:25</blockquote>",dataTitle:i18n._("Host Name"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(host.summary_fields.user_capabilities.edit || canAdd)"},description:{label:i18n._("Description"),ngDisabled:"!(host.summary_fields.user_capabilities.edit || canAdd)",type:"text"},variables:{label:i18n._("Variables"),type:"textarea",rows:6,class:"Form-formGroup--fullWidth",default:"---",awPopOver:"<p>"+i18n._("Enter inventory variables using either JSON or YAML syntax. Use the radio button to toggle between the two.")+'</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n<p>'+i18n.sprintf(i18n._("View JSON examples at %s"),'<a href="http://www.json.org" target="_blank">www.json.org</a>')+"</p><p>"+i18n.sprintf(i18n._("View YAML examples at %s"),'<a href="http://docs.ansible.com/YAMLSyntax.html" target="_blank">docs.ansible.com</a>')+"</p>",dataTitle:i18n._("Host Variables"),dataPlacement:"right",dataContainer:"body"},inventory:{type:"hidden",includeOnEdit:!0,includeOnAdd:!0}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(host.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(host.summary_fields.user_capabilities.edit || canAdd)"},save:{ngClick:"formSave()",ngDisabled:!0,ngShow:"(host.summary_fields.user_capabilities.edit || canAdd)"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("InventoryFormDefinition",[]).factory("InventoryForm",["i18n",function(i18n){return{addTitle:i18n._("NEW INVENTORY"),editTitle:"{{ inventory_name }}",name:"inventory",basePath:"inventory",stateTree:"inventories",tabs:!0,fields:{inventory_name:{realName:"name",label:i18n._("Name"),type:"text",required:!0,capitalize:!1,ngDisabled:"!(inventory_obj.summary_fields.user_capabilities.edit || canAdd)"},inventory_description:{realName:"description",label:i18n._("Description"),type:"text",ngDisabled:"!(inventory_obj.summary_fields.user_capabilities.edit || canAdd)"},organization:{label:i18n._("Organization"),type:"lookup",basePath:"organizations",list:"OrganizationList",sourceModel:"organization",sourceField:"name",awRequiredWhen:{reqExpression:"organizationrequired",init:"true"},ngDisabled:"!(inventory_obj.summary_fields.user_capabilities.edit || canAdd) || !canEditOrg",awLookupWhen:"(inventory_obj.summary_fields.user_capabilities.edit || canAdd) && canEditOrg"},variables:{label:i18n._("Variables"),type:"textarea",class:"Form-formGroup--fullWidth",rows:6,default:"---",awPopOver:"<p>"+i18n._("Enter inventory variables using either JSON or YAML syntax. Use the radio button to toggle between the two.")+'</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n<p>'+i18n.sprintf(i18n._("View JSON examples at %s"),'<a href="http://www.json.org" target="_blank">www.json.org</a>')+"</p><p>"+i18n.sprintf(i18n._("View YAML examples at %s"),'<a href="http://docs.ansible.com/YAMLSyntax.html" target="_blank">docs.ansible.com</a>')+"</p>",dataTitle:i18n._("Inventory Variables"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(inventory_obj.summary_fields.user_capabilities.edit || canAdd)"}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(inventory_obj.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(inventory_obj.summary_fields.user_capabilities.edit || canAdd)"},save:{ngClick:"formSave()",ngDisabled:!0,ngShow:"(inventory_obj.summary_fields.user_capabilities.edit || canAdd)"}},related:{permissions:{name:"permissions",awToolTip:i18n._("Please save before assigning permissions"),dataPlacement:"top",basePath:"api/v1/inventories/{{$stateParams.inventory_id}}/access_list/",type:"collection",title:i18n._("Permissions"),iterator:"permission",index:!1,open:!1,search:{order_by:"username"},actions:{add:{label:i18n._("Add"),ngClick:"$state.go('.add')",awToolTip:i18n._("Add a permission"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; ADD",ngShow:"(inventory_obj.summary_fields.user_capabilities.edit || canAdd)"}},fields:{username:{label:i18n._("User"),linkBase:"users",class:"col-lg-3 col-md-3 col-sm-3 col-xs-4"},role:{label:i18n._("Role"),type:"role",nosort:!0,class:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},team_roles:{label:i18n._("Team Roles"),type:"team_roles",nosort:!0,class:"col-lg-5 col-md-5 col-sm-5 col-xs-4"}}}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("InventoryStatusDefinition",[]).value("InventoryStatusForm",{name:"inventory_update",editTitle:"INVENTORY STATUS",well:!1,class:"horizontal-narrow",fields:{license_error:{type:"alertblock",class:"alert-info",alertTxt:'The invenvtory update process exceeded the available number of licensed hosts. <strong><a ng-click="viewLicense()" href="">View your license</a></strong> for more information.',ngShow:"license_error",closeable:!0},created:{label:"Created",type:"text",readonly:!0},status:{label:"Status",type:"text",readonly:!0,class:"nowrap mono-space resizable",rows:"{{ status_rows }}"},result_stdout:{label:"Std Out",type:"textarea",ngShow:"result_stdout",class:"nowrap mono-space resizable",readonly:!0,rows:"{{ stdout_rows }}"},result_traceback:{label:"Traceback",type:"textarea",ngShow:"result_traceback",class:"nowrap mono-space resizable",readonly:!0,rows:"{{ traceback_rows }}"}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("JobEventDataDefinition",[]).value("JobEventDataForm",{editTitle:"{{ id }} - {{ event_display }}",name:"job_events",well:!1,class:"horizontal-narrow",fields:{event_data:{label:!1,type:"textarea",readonly:!0,rows:18,class:"modal-input-xxlarge"}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("JobSummaryDefinition",[]).value("JobSummary",{editTitle:"{{ id }} - {{ name }}",name:"jobs",well:!1,fields:{status:{type:"custom",control:'<div class="job-detail-status"><span style="padding-right: 15px; font-weight: bold;">Status</span> <i class="fa icon-job-{{ status }}"></i> {{ status }}</div>',readonly:!0},created:{label:"Created On",type:"text",readonly:!0},result_stdout:{label:"Standard Out",type:"textarea",readonly:!0,xtraWide:!0,rows:"{{ stdout_rows }}",class:"nowrap mono-space resizable",ngShow:'result_stdout != ""'},result_traceback:{label:"Traceback",type:"textarea",xtraWide:!0,readonly:!0,rows:"{{ traceback_rows }}",class:"nowrap mono-space resizable",ngShow:'result_traceback != ""'}}})},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("JobTemplateFormDefinition",["CompletedJobsDefinition"]).factory("JobTemplateFormObject",["i18n",function(i18n){return{addTitle:i18n._("NEW JOB TEMPLATE"),editTitle:"{{ name }}",name:"job_template",breadcrumbName:i18n._("JOB TEMPLATE"),basePath:"job_templates",stateTree:"templates",tabs:!0,activeEditState:"templates.editJobTemplate",include:["/static/partials/survey-maker-modal.html"],detailsClick:"$state.go('templates.editJobTemplate')",fields:{name:{label:i18n._("Name"),type:"text",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)",required:!0,column:1},description:{label:i18n._("Description"),type:"text",column:1,ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},job_type:{label:i18n._("Job Type"),type:"select",ngOptions:"type.label for type in job_type_options track by type.value",ngChange:"jobTypeChange()",default:0,required:!0,column:1,awPopOver:"<p>"+i18n.sprintf(i18n._("When this template is submitted as a job, setting the type to %s will execute the playbook, running tasks  on the selected hosts."),"<em>run</em>")+"</p> <p>"+i18n.sprintf(i18n._("Setting the type to %s will not execute the playbook."),"<em>check</em>")+" "+i18n.sprintf(i18n._("Instead, %s will check playbook  syntax, test environment setup and report problems."),"<code>ansible</code>")+"</p> <p>"+i18n.sprintf(i18n._("Setting the type to %s will execute the playbook and store any  scanned facts for use with Tower's System Tracking feature."),"<em>scan</em>")+"</p>",dataTitle:i18n._("Job Type"),dataPlacement:"right",dataContainer:"body",subCheckbox:{variable:"ask_job_type_on_launch",ngShow:"!job_type.value || job_type.value !== 'scan'",text:i18n._("Prompt on launch")},ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},inventory:{label:i18n._("Inventory"),type:"lookup",basePath:"inventory",list:"InventoryList",sourceModel:"inventory",sourceField:"name",autopopulateLookup:!1,awRequiredWhen:{reqExpression:"!ask_inventory_on_launch",alwaysShowAsterisk:!0},requiredErrorMsg:i18n._("Please select an Inventory or check the Prompt on launch option."),column:1,awPopOver:"<p>"+i18n._("Select the inventory containing the hosts you want this job to manage.")+"</p>",dataTitle:i18n._("Inventory"),dataPlacement:"right",dataContainer:"body",subCheckbox:{variable:"ask_inventory_on_launch",ngChange:"job_template_form.inventory_name.$validate()",ngShow:"!job_type.value || job_type.value !== 'scan'",text:i18n._("Prompt on launch")},ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},project:{label:i18n._("Project"),labelAction:{label:i18n._("RESET"),ngClick:"resetProjectToDefault()",class:"{{!(job_type.value === 'scan' && project_name !== 'Default') ? 'hidden' : ''}}"},type:"lookup",list:"ProjectList",basePath:"projects",sourceModel:"project",sourceField:"name",awRequiredWhen:{reqExpression:"projectrequired",init:"true"},column:1,awPopOver:"<p>"+i18n._("Select the project containing the playbook you want this job to execute.")+"</p>",dataTitle:i18n._("Project"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},playbook:{label:i18n._("Playbook"),type:"select",ngOptions:"book for book in playbook_options track by book",ngDisabled:"(job_type.value === 'scan' && project_name === 'Default') || !(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate) || disablePlaybookBecausePermissionDenied",id:"playbook-select",awRequiredWhen:{reqExpression:"playbookrequired",init:"true"},column:1,awPopOver:"<p>"+i18n._("Select the playbook to be executed by this job.")+"</p>",dataTitle:i18n._("Playbook"),dataPlacement:"right",dataContainer:"body",includePlaybookNotFoundError:!0},credential:{label:i18n._("Machine Credential"),type:"lookup",list:"CredentialList",basePath:"credentials",autopopulateLookup:!1,search:{kind:"ssh"},sourceModel:"credential",sourceField:"name",awRequiredWhen:{reqExpression:"!ask_credential_on_launch",alwaysShowAsterisk:!0},requiredErrorMsg:i18n._("Please select a Machine Credential or check the Prompt on launch option."),column:1,awPopOver:"<p>"+i18n._("Select the credential you want the job to use when accessing the remote hosts. Choose the credential containing  the username and SSH key or password that Ansible will need to log into the remote hosts.")+"</p>",dataTitle:i18n._("Credential"),dataPlacement:"right",dataContainer:"body",subCheckbox:{variable:"ask_credential_on_launch",text:i18n._("Prompt on launch"),ngChange:"job_template_form.credential_name.$validate()"},ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},cloud_credential:{label:i18n._("Cloud Credential"),type:"lookup",list:"CredentialList",basePath:"credentials",search:{cloud:"true"},sourceModel:"cloud_credential",sourceField:"name",column:1,awPopOver:"<p>"+i18n._("Selecting an optional cloud credential in the job template will pass along the access credentials to the running playbook, allowing provisioning into the cloud without manually passing parameters to the included modules.")+"</p>",dataTitle:i18n._("Cloud Credential"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},network_credential:{label:i18n._("Network Credential"),type:"lookup",list:"CredentialList",basePath:"credentials",search:{kind:"net"},sourceModel:"network_credential",sourceField:"name",column:1,awPopOver:"<p>"+i18n._("Network credentials are used by Ansible networking modules to connect to and manage networking devices.")+"</p>",dataTitle:i18n._("Network Credential"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},forks:{label:i18n._("Forks"),id:"forks-number",type:"number",integer:!0,min:0,spinner:!0,default:"0",class:"input-small",column:1,awPopOver:"<p>"+i18n.sprintf(i18n._("The number of parallel or simultaneous processes to use while executing the playbook. 0 signifies the default value from the %sansible configuration file%s."),'<a id="ansible_forks_docs" href="http://docs.ansible.com/intro_configuration.html#the-ansible-configuration-file"  target="_blank">',"</a>")+"</p>",dataTitle:i18n._("Forks"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},limit:{label:i18n._("Limit"),type:"text",column:1,awPopOver:"<p>"+i18n.sprintf(i18n._("Provide a host pattern to further constrain the list of hosts that will be managed or affected by the playbook. Multiple patterns can be separated by %s %s or %s"),"&#59;","&#58;","&#44;")+"</p><p>"+i18n.sprintf(i18n._("For more information and examples see %sthe Patterns topic at docs.ansible.com%s."),'<a href="http://docs.ansible.com/intro_patterns.html" target="_blank">',"</a>")+"</p>",dataTitle:i18n._("Limit"),dataPlacement:"right",dataContainer:"body",subCheckbox:{variable:"ask_limit_on_launch",text:i18n._("Prompt on launch")},ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},verbosity:{label:i18n._("Verbosity"),type:"select",ngOptions:"v.label for v in verbosity_options track by v.value",default:1,required:!0,column:1,awPopOver:"<p>"+i18n._("Control the level of output ansible will produce as the playbook executes.")+"</p>",dataTitle:i18n._("Verbosity"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},job_tags:{label:i18n._("Job Tags"),type:"textarea",rows:5,elementClass:"Form-textInput",column:2,awPopOver:"<p>"+i18n._("Provide a comma separated list of tags.")+"</p>\n<p>"+i18n._("Tags are useful when you have a large playbook, and you want to run a specific part of a play or task.")+"</p><p>"+i18n._("Consult the Ansible documentation for further details on the usage of tags.")+"</p>",dataTitle:i18n._("Job Tags"),dataPlacement:"right",dataContainer:"body",subCheckbox:{variable:"ask_tags_on_launch",text:i18n._("Prompt on launch")},ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},skip_tags:{label:i18n._("Skip Tags"),type:"textarea",rows:5,elementClass:"Form-textInput",column:2,awPopOver:"<p>"+i18n._("Provide a comma separated list of tags.")+"</p>\n<p>"+i18n._("Skip tags are useful when you have a large playbook, and you want to skip specific parts of a play or task.")+"</p><p>"+i18n._("Consult the Ansible documentation for further details on the usage of tags.")+"</p>",dataTitle:i18n._("Skip Tags"),dataPlacement:"right",dataContainer:"body",subCheckbox:{variable:"ask_skip_tags_on_launch",text:i18n._("Prompt on launch")},ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},checkbox_group:{label:i18n._("Options"),type:"checkbox_group",fields:[{name:"become_enabled",label:i18n._("Enable Privilege Escalation"),type:"checkbox",column:2,awPopOver:"<p>"+i18n.sprintf(i18n._("If enabled, run this playbook as an administrator. This is the equivalent of passing the %s option to the %s command."),"<code>--become</code>","<code>ansible-playbook</code>")+" </p>",dataPlacement:"right",dataTitle:i18n._("Become Privilege Escalation"),dataContainer:"body",labelClass:"stack-inline",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},{name:"allow_callbacks",label:i18n._("Allow Provisioning Callbacks"),type:"checkbox",ngChange:"toggleCallback('host_config_key')",column:2,awPopOver:"<p>"+i18n._("Enables creation of a provisioning callback URL. Using the URL a host can contact Tower and request a configuration update using this job template.")+"</p>",dataPlacement:"right",dataTitle:i18n._("Allow Provisioning Callbacks"),dataContainer:"body",labelClass:"stack-inline",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},{name:"allow_simultaneous",label:i18n._("Enable Concurrent Jobs"),type:"checkbox",column:2,awPopOver:"<p>"+i18n._("If enabled, simultaneous runs of this job template will be allowed.")+"</p>",dataPlacement:"right",dataTitle:i18n._("Enable Concurrent Jobs"),dataContainer:"body",labelClass:"stack-inline",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"}]},callback_url:{label:i18n._("Provisioning Callback URL"),type:"text",readonly:!0,ngShow:"allow_callbacks && allow_callbacks !== 'false'",column:2,awPopOver:"callback_help",awPopOverWatch:"callback_help",dataPlacement:"top",dataTitle:i18n._("Provisioning Callback URL"),dataContainer:"body",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},host_config_key:{label:i18n._("Host Config Key"),type:"text",ngShow:"allow_callbacks  && allow_callbacks !== 'false'",ngChange:"configKeyChange()",genMD5:!0,column:2,awPopOver:"callback_help",awPopOverWatch:"callback_help",dataPlacement:"right",dataTitle:i18n._("Host Config Key"),dataContainer:"body",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)",awRequiredWhen:{reqExpression:"allow_callbacks",alwaysShowAsterisk:!0}},labels:{label:i18n._("Labels"),type:"select",class:"Form-formGroup--fullWidth",ngOptions:"label.label for label in labelOptions track by label.value",multiSelect:!0,dataTitle:i18n._("Labels"),dataPlacement:"right",awPopOver:"<p>"+i18n._("Optional labels that describe this job template, such as 'dev' or 'test'. Labels can be used to group and filter job templates and completed jobs in the Tower display.")+"</p>",dataContainer:"body",ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},variables:{label:i18n._("Extra Variables"),type:"textarea",class:"Form-textAreaLabel Form-formGroup--fullWidth",rows:6,default:"---",column:2,awPopOver:"<p>"+i18n.sprintf(i18n._("Pass extra command line variables to the playbook. This is the %s or %s command line parameter for %s. Provide key/value pairs using either YAML or JSON."),"<code>-e</code>","<code>--extra-vars</code>","<code>ansible-playbook</code>")+'</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n',dataTitle:i18n._("Extra Variables"),dataPlacement:"right",dataContainer:"body",subCheckbox:{variable:"ask_variables_on_launch",text:i18n._("Prompt on launch")},ngDisabled:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},close:{ngClick:"formCancel()",ngShow:"!(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"},save:{ngClick:"formSave()",ngDisabled:"job_template_form.$invalid",ngShow:"(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"}},related:{completed_jobs:{include:"CompletedJobsList"},permissions:{name:"permissions",awToolTip:i18n._("Please save before assigning permissions"),dataPlacement:"top",basePath:"api/v1/job_templates/{{$stateParams.job_template_id}}/access_list/",search:{order_by:"username"},type:"collection",title:i18n._("Permissions"),iterator:"permission",index:!1,open:!1,ngClick:"$state.go('templates.editJobTemplate.permissions')",actions:{add:{ngClick:"$state.go('.add')",label:"Add",awToolTip:i18n._("Add a permission"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)"}},fields:{username:{key:!0,label:"User",linkBase:"users",class:"col-lg-3 col-md-3 col-sm-3 col-xs-4"},role:{label:"Role",type:"role",nosort:!0,class:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},team_roles:{label:"Team Roles",type:"team_roles",nosort:!0,class:"col-lg-5 col-md-5 col-sm-5 col-xs-4"}}},notifications:{include:"NotificationsList"}},relatedButtons:{view_survey:{ngClick:"editSurvey()",awFeature:"surveys",ngShow:"($state.is('templates.addJobTemplate') || $state.is('templates.editJobTemplate')) && job_type.value !== \"scan\" && survey_exists && !(job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)",label:i18n._("View Survey"),class:"Form-primaryButton"},add_survey:{ngClick:"addSurvey()",ngShow:"($state.is('templates.addJobTemplate') || $state.is('templates.editJobTemplate')) && job_type.value !== \"scan\" && !survey_exists && (job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)",awFeature:"surveys",awToolTip:"Surveys allow users to be prompted at job launch with a series of questions related to the job. This allows for variables to be defined that affect the playbook run at time of launch.",dataPlacement:"top",label:i18n._("Add Survey"),class:"Form-primaryButton"},edit_survey:{ngClick:"editSurvey()",awFeature:"surveys",ngShow:"($state.is('templates.addJobTemplate') || $state.is('templates.editJobTemplate')) && job_type.value !== \"scan\" && survey_exists && (job_template_obj.summary_fields.user_capabilities.edit || canAddJobTemplate)",
label:i18n._("Edit Survey"),class:"Form-primaryButton"}}}}]).factory("JobTemplateForm",["JobTemplateFormObject","NotificationsList","CompletedJobsList",function(JobTemplateFormObject,NotificationsList,CompletedJobsList){return function(){var itm;for(itm in JobTemplateFormObject.related)"NotificationsList"===JobTemplateFormObject.related[itm].include&&(JobTemplateFormObject.related[itm]=_.clone(NotificationsList),JobTemplateFormObject.related[itm].ngClick="$state.go('templates.editJobTemplate.notifications')",JobTemplateFormObject.related[itm].generateList=!0),"CompletedJobsList"===JobTemplateFormObject.related[itm].include&&(JobTemplateFormObject.related[itm]=CompletedJobsList,JobTemplateFormObject.related[itm].ngClick="$state.go('templates.editJobTemplate.completed_jobs')",JobTemplateFormObject.related[itm].generateList=!0);return JobTemplateFormObject}}])}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("JobVarsPromptFormDefinition",[]).value("JobVarsPromptForm",{addTitle:"",editTitle:"",name:"job",well:!1,actions:{},fields:{extra_vars:{label:null,type:"textarea",rows:6,default:"---"}},buttons:{},related:{}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("LogViewerOptionsDefinition",[]).value("LogViewerOptionsForm",{name:"status",well:!1,fields:{job_template:{label:"Job Template",type:"text",readonly:!0},inventory:{label:"Inventory",type:"text",readonly:!0},project:{label:"Project",type:"text",readonly:!0},playbook:{label:"Playbook",type:"text",readonly:!0},credential:{label:"Credential",type:"text",readonly:!0},"cloud credential":{label:"Cloud Cred.",type:"text",readonly:!0},forks:{label:"Forks",type:"text",readonly:!0},limit:{label:"Limit",type:"text",readonly:!0},verbosity:{label:"Verbosity",type:"text",readonly:!0},job_tags:{label:"Job Tags",type:"text",readonly:!0},inventory_source:{label:"Group",type:"text",readonly:!0},source:{label:"Source",type:"text",readonly:!0},source_path:{label:"Source Path",type:"text",readonly:!0},source_regions:{label:"Regions",type:"text",readonly:!0},overwrite:{label:"Overwrite",type:"text",readonly:!0},overwrite_vars:{label:"Overwrite Vars",type:"text",readonly:!0}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("LogViewerStatusDefinition",[]).factory("LogViewerStatusForm",["i18n",function(i18n){return{name:"status",well:!1,fields:{name:{label:i18n._("Name"),type:"text",readonly:!0},status:{label:i18n._("Status"),type:"text",readonly:!0},license_error:{label:i18n._("License Error"),type:"text",readonly:!0},started:{label:i18n._("Started"),type:"date",filter:"longDate",readonly:!0},finished:{label:i18n._("Finished"),type:"date",filter:"longDate",readonly:!0},elapsed:{label:i18n._("Elapsed"),type:"text",readonly:!0},launch_type:{label:i18n._("Launch Type"),type:"text",readonly:!0}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("OrganizationFormDefinition",[]).factory("OrganizationFormObject",["i18n",function(i18n){return{addTitle:i18n._("NEW ORGANIZATION"),editTitle:"{{ name }}",name:"organization",stateTree:"organizations",tabs:!0,fields:{name:{label:i18n._("Name"),type:"text",ngDisabled:"!(organization_obj.summary_fields.user_capabilities.edit || canAdd)",required:!0,capitalize:!1},description:{label:i18n._("Description"),type:"text",ngDisabled:"!(organization_obj.summary_fields.user_capabilities.edit || canAdd)"}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(organization_obj.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(organization_obj.summary_fields.user_capabilities.edit || canAdd)"},save:{ngClick:"formSave()",ngDisabled:!0,ngShow:"(organization_obj.summary_fields.user_capabilities.edit || canAdd)"}},related:{users:{name:"users",dataPlacement:"top",awToolTip:i18n._("Please save before adding users"),basePath:"api/v1/organizations/{{$stateParams.organization_id}}/access_list/",search:{order_by:"username"},type:"collection",title:i18n._("Users"),iterator:"user",index:!1,open:!1,actions:{add:{ngClick:"$state.go('.add')",label:i18n._("Add"),awToolTip:i18n._("Add Users to this organization."),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"(organization_obj.summary_fields.user_capabilities.edit || canAdd)"}},fields:{username:{key:!0,label:i18n._("User"),linkBase:"users",class:"col-lg-3 col-md-3 col-sm-3 col-xs-4"},role:{label:i18n._("Role"),type:"role",nosort:!0,class:"col-lg-4 col-md-4 col-sm-4 col-xs-4"}}},notifications:{include:"NotificationsList"}}}}]).factory("OrganizationForm",["OrganizationFormObject","NotificationsList",function(OrganizationFormObject,NotificationsList){return function(){var itm;for(itm in OrganizationFormObject.related)"NotificationsList"===OrganizationFormObject.related[itm].include&&(OrganizationFormObject.related[itm]=NotificationsList,OrganizationFormObject.related[itm].generateList=!0);return OrganizationFormObject}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ProjectStatusDefinition",[]).value("ProjectStatusForm",{name:"project_update",editTitle:"SCM STATUS",well:!1,class:"horizontal-narrow",fields:{created:{label:"Created",type:"text",readonly:!0},status:{label:"Status",type:"text",readonly:!0},result_stdout:{label:"Std Out",type:"textarea",ngShow:"result_stdout",class:"mono-space",readonly:!0,rows:15},result_traceback:{label:"Traceback",type:"textarea",ngShow:"result_traceback",class:"mono-space",readonly:!0,rows:15}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ProjectFormDefinition",["SchedulesListDefinition"]).factory("ProjectsFormObject",["i18n",function(i18n){return{addTitle:i18n._("NEW PROJECT"),editTitle:"{{ name }}",name:"project",basePath:"projects",stateTree:"projects",forceListeners:!0,tabs:!0,subFormTitles:{sourceSubForm:i18n._("Source Details")},fields:{name:{label:i18n._("Name"),type:"text",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)",required:!0,capitalize:!1},description:{label:i18n._("Description"),type:"text",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"},organization:{label:i18n._("Organization"),type:"lookup",list:"OrganizationList",sourceModel:"organization",basePath:"organizations",sourceField:"name",dataTitle:i18n._("Organization"),required:!0,dataContainer:"body",dataPlacement:"right",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd) || !canEditOrg",awLookupWhen:"(project_obj.summary_fields.user_capabilities.edit || canAdd) && canEditOrg"},scm_type:{label:i18n._("SCM Type"),type:"select",class:"Form-dropDown--scmType",ngOptions:"type.label for type in scm_type_options track by type.value",ngChange:"scmChange()",required:!0,hasSubForm:!0,ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"},missing_path_alert:{type:"alertblock",ngShow:"showMissingPlaybooksAlert && scm_type.value == 'manual'",alertTxt:'<p class="text-justify"><strong>WARNING:</strong> There are no available playbook directories in {{ base_dir }}.  Either that directory is empty, or all of the contents are already assigned to other projects.  Create a new directory there and make sure the playbook files can be read by the "awx" system user, or have Tower directly retrieve your playbooks from source control using the SCM Type option above.</p>',closeable:!1},base_dir:{label:i18n._("Project Base Path"),type:"text",class:"Form-textUneditable",showonly:!0,ngShow:"scm_type.value == 'manual' ",awPopOver:"<p>"+i18n._("Base path used for locating playbooks. Directories found inside this path will be listed in the playbook directory drop-down. Together the base path and selected playbook directory provide the full path used to locate playbooks.")+"</p><p>"+i18n.sprintf(i18n._('Change %s under "Configure Tower" to change this location.'),"PROJECTS_ROOT")+"</p>",dataTitle:i18n._("Project Base Path"),dataContainer:"body",dataPlacement:"right",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"},local_path:{label:i18n._("Playbook Directory"),type:"select",id:"local-path-select",ngOptions:"path.label for path in project_local_paths",awRequiredWhen:{reqExpression:"pathRequired",init:!1},ngShow:"scm_type.value == 'manual' && !showMissingPlaybooksAlert",awPopOver:"<p>"+i18n._("Select from the list of directories found in the Project Base Path. Together the base path and the playbook directory provide the full path used to locate playbooks.")+"</p>",dataTitle:i18n._("Project Path"),dataContainer:"body",dataPlacement:"right",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"},scm_url:{label:"SCM URL",type:"text",ngShow:"scm_type && scm_type.value !== 'manual' && scm_type.value !== 'insights' ",awRequiredWhen:{reqExpression:"scmRequired",init:!1},subForm:"sourceSubForm",hideSubForm:"scm_type.value === 'manual'",awPopOverWatch:"urlPopover",awPopOver:"set in controllers/projects",dataTitle:"SCM URL",dataContainer:"body",dataPlacement:"right",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"},scm_branch:{labelBind:"scmBranchLabel",type:"text",ngShow:"scm_type && scm_type.value !== 'manual' && scm_type.value !== 'insights'",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)",subForm:"sourceSubForm"},credential:{labelBind:"credentialLabel",type:"lookup",basePath:"credentials",list:"CredentialList",search:{kind:"scm"},autopopulateLookup:!1,awRequiredWhen:{reqExpression:"credRequired",init:!1},ngShow:"scm_type && scm_type.value !== 'manual'",sourceModel:"credential",awLookupType:"scm_credential",sourceField:"name",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)",subForm:"sourceSubForm"},checkbox_group:{label:i18n._("SCM Update Options"),type:"checkbox_group",ngShow:"scm_type && scm_type.value !== 'manual'",subForm:"sourceSubForm",fields:[{name:"scm_clean",label:i18n._("Clean"),type:"checkbox",awPopOver:"<p>"+i18n._("Remove any local modifications prior to performing an update.")+"</p>",dataTitle:i18n._("SCM Clean"),dataContainer:"body",dataPlacement:"right",labelClass:"checkbox-options stack-inline",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"},{name:"scm_delete_on_update",label:i18n._("Delete on Update"),type:"checkbox",awPopOver:"<p>"+i18n._("Delete the local repository in its entirety prior to performing an update.")+"</p><p>"+i18n._("Depending on the size of the repository this may significantly increase the amount of time required to complete an update.")+"</p>",dataTitle:i18n._("SCM Delete"),dataContainer:"body",dataPlacement:"right",labelClass:"checkbox-options stack-inline",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"},{name:"scm_update_on_launch",label:i18n._("Update on Launch"),type:"checkbox",awPopOver:"<p>"+i18n._("Each time a job runs using this project, perform an update to the local repository prior to starting the job.")+"</p>",dataTitle:i18n._("SCM Update"),dataContainer:"body",dataPlacement:"right",labelClass:"checkbox-options stack-inline",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"}]},scm_update_cache_timeout:{label:i18n.sprintf(i18n._("Cache Timeout%s (seconds)%s"),'<span class="small-text">',"</span>"),id:"scm-cache-timeout",type:"number",integer:!0,min:0,ngShow:"scm_update_on_launch && scm_type.value !== 'manual'",spinner:!0,default:"0",awPopOver:"<p>"+i18n._("Time in seconds to consider a project to be current. During job runs and callbacks the task system will evaluate the timestamp of the latest project update. If it is older than Cache Timeout, it is not considered current, and a new project update will be performed.")+"</p>",dataTitle:i18n._("Cache Timeout"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(project_obj.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(project_obj.summary_fields.user_capabilities.edit || canAdd)"},save:{ngClick:"formSave()",ngDisabled:!0,ngShow:"(project_obj.summary_fields.user_capabilities.edit || canAdd)"}},related:{permissions:{name:"permissions",awToolTip:i18n._("Please save before assigning permissions"),djangoModel:"access_list",dataPlacement:"top",basePath:"api/v1/projects/{{$stateParams.project_id}}/access_list/",search:{order_by:"username"},type:"collection",title:i18n._("Permissions"),iterator:"permission",index:!1,open:!1,actions:{add:{ngClick:"$state.go('.add')",label:"Add",awToolTip:i18n._("Add a permission"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"(project_obj.summary_fields.user_capabilities.edit || canAdd)"}},fields:{username:{label:i18n._("User"),uiSref:"users({user_id: field.id})",class:"col-lg-3 col-md-3 col-sm-3 col-xs-4"},role:{label:i18n._("Role"),type:"role",nosort:!0,class:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},team_roles:{label:i18n._("Team Roles"),type:"team_roles",nosort:!0,class:"col-lg-5 col-md-5 col-sm-5 col-xs-4"}}},notifications:{include:"NotificationsList"}}}}]).factory("ProjectsForm",["ProjectsFormObject","NotificationsList",function(ProjectsFormObject,NotificationsList){return function(){var itm;for(itm in ProjectsFormObject.related)"NotificationsList"===ProjectsFormObject.related[itm].include&&(ProjectsFormObject.related[itm]=NotificationsList,ProjectsFormObject.related[itm].generateList=!0);return ProjectsFormObject}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("TeamFormDefinition",[]).factory("TeamForm",["i18n",function(i18n){return{addTitle:i18n._("NEW TEAM"),editTitle:"{{ name }}",name:"team",stateTree:"teams",tabs:!0,fields:{name:{label:i18n._("Name"),type:"text",ngDisabled:"!(team_obj.summary_fields.user_capabilities.edit || canAdd)",required:!0,capitalize:!1},description:{label:i18n._("Description"),type:"text",ngDisabled:"!(team_obj.summary_fields.user_capabilities.edit || canAdd)"},organization:{label:i18n._("Organization"),type:"lookup",list:"OrganizationList",sourceModel:"organization",basePath:"organizations",sourceField:"name",ngDisabled:"!(team_obj.summary_fields.user_capabilities.edit || canAdd) || !canEditOrg",awLookupWhen:"(team_obj.summary_fields.user_capabilities.edit || canAdd) && canEditOrg",required:!0}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(team_obj.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(team_obj.summary_fields.user_capabilities.edit || canAdd)"},save:{ngClick:"formSave()",ngDisabled:!0,ngShow:"(team_obj.summary_fields.user_capabilities.edit || canAdd)"}},related:{users:{name:"users",dataPlacement:"top",awToolTip:i18n._("Please save before adding users"),basePath:"api/v1/teams/{{$stateParams.team_id}}/access_list/",search:{order_by:"username"},type:"collection",title:i18n._("Users"),iterator:"user",index:!1,open:!1,actions:{add:{ngClick:"$state.go('.add')",label:i18n._("Add"),awToolTip:i18n._("Add User"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"(team_obj.summary_fields.user_capabilities.edit || canAdd)"}},fields:{username:{key:!0,label:i18n._("User"),linkBase:"users",class:"col-lg-3 col-md-3 col-sm-3 col-xs-4"},role:{label:i18n._("Role"),type:"role",nosort:!0,class:"col-lg-4 col-md-4 col-sm-4 col-xs-4"}}},permissions:{name:"permissions",basePath:"api/v1/teams/{{$stateParams.team_id}}/roles/",search:{page_size:"10",order_by:"id"},awToolTip:i18n._("Please save before assigning permissions"),dataPlacement:"top",hideSearchAndActions:!0,type:"collection",title:i18n._("Permissions"),iterator:"permission",open:!1,index:!1,emptyListText:i18n._("No permissions have been granted"),fields:{name:{label:i18n._("Name"),ngBind:"permission.summary_fields.resource_name",linkTo:"{{convertApiUrl(permission.related[permission.summary_fields.resource_type])}}",nosort:!0},type:{label:i18n._("Type"),ngBind:"permission.summary_fields.resource_type_display_name",nosort:!0},role:{label:i18n._("Role"),ngBind:"permission.name",nosort:!0}},fieldActions:{delete:{label:i18n._("Remove"),ngClick:"deletePermissionFromTeam(team_id, team_obj.name, permission.name, permission.summary_fields.resource_name, permission.related.teams)",class:"List-actionButton--delete",iconClass:"fa fa-times",awToolTip:i18n._("Dissasociate permission from team"),dataPlacement:"top",ngShow:"permission.summary_fields.user_capabilities.unattach"}},actions:{add:{ngClick:"$state.go('.add')",label:"Add",awToolTip:i18n._("Grant Permission"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD PERMISSIONS"),ngShow:"(team_obj.summary_fields.user_capabilities.edit || canAdd)"}}}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("UserFormDefinition",[]).factory("UserForm",["i18n",function(i18n){return{addTitle:i18n._("NEW USER"),editTitle:"{{ username }}",name:"user",stateTree:"users",forceListeners:!0,tabs:!0,fields:{first_name:{label:i18n._("First Name"),type:"text",ngDisabled:"!(user_obj.summary_fields.user_capabilities.edit || canAdd)",required:!0,capitalize:!0},last_name:{label:i18n._("Last Name"),type:"text",ngDisabled:"!(user_obj.summary_fields.user_capabilities.edit || canAdd)",required:!0,capitalize:!0},organization:{label:i18n._("Organization"),type:"lookup",list:"OrganizationList",basePath:"organizations",sourceModel:"organization",sourceField:"name",required:!0,excludeMode:"edit",ngDisabled:"!(user_obj.summary_fields.user_capabilities.edit || canAdd)"},email:{label:i18n._("Email"),type:"email",ngDisabled:"!(user_obj.summary_fields.user_capabilities.edit || canAdd)",required:!0,autocomplete:!1},username:{label:i18n._("Username"),type:"text",awRequiredWhen:{reqExpression:"not_ldap_user && external_account === null",init:!0},autocomplete:!1,ngDisabled:"!(user_obj.summary_fields.user_capabilities.edit || canAdd)"},password:{label:i18n._("Password"),type:"sensitive",hasShowInputButton:!0,ngShow:"ldap_user == false && socialAuthUser === false && external_account === null",ngRequired:"$state.match('add')",labelNGClass:"{'prepend-asterisk' : $state.matches('add')}",ngChange:"clearPWConfirm('password_confirm')",autocomplete:!1,chkPass:!0,ngDisabled:"!(user_obj.summary_fields.user_capabilities.edit || canAdd)"},password_confirm:{label:i18n._("Confirm Password"),type:"sensitive",hasShowInputButton:!0,ngShow:"ldap_user == false && socialAuthUser === false && external_account === null",ngRequired:"$state.match('add')",labelNGClass:"{'prepend-asterisk' : $state.matches('add')}",awPassMatch:!0,associated:"password",autocomplete:!1,ngDisabled:"!(user_obj.summary_fields.user_capabilities.edit || canAdd)"},user_type:{label:i18n._("User Type"),type:"select",ngOptions:"item as item.label for item in user_type_options track by item.type",disableChooseOption:!0,ngModel:"user_type",ngShow:'current_user["is_superuser"]',ngDisabled:"!(user_obj.summary_fields.user_capabilities.edit || canAdd)"}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(user_obj.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(user_obj.summary_fields.user_capabilities.edit || canAdd)"},save:{ngClick:"formSave()",ngDisabled:!0,ngShow:"(user_obj.summary_fields.user_capabilities.edit || canAdd)"}},related:{organizations:{name:"organizations",awToolTip:i18n._("Please save before assigning to organizations"),basePath:"api/v1/users/{{$stateParams.user_id}}/organizations",emptyListText:i18n._("Please add user to an Organization."),search:{page_size:"10"},dataPlacement:"top",type:"collection",title:i18n._("Organizations"),iterator:"organization",index:!1,open:!1,actions:{},fields:{name:{key:!0,label:i18n._("Name")},description:{label:i18n._("Description")}}},teams:{name:"teams",awToolTip:i18n._("Please save before assigning to teams"),basePath:"api/v1/users/{{$stateParams.user_id}}/teams",search:{page_size:"10"},dataPlacement:"top",type:"collection",title:i18n._("Teams"),iterator:"team",open:!1,index:!1,actions:{},emptyListText:i18n._("This user is not a member of any teams"),fields:{name:{key:!0,label:i18n._("Name")},description:{label:i18n._("Description")}}},permissions:{name:"permissions",basePath:"api/v1/users/{{$stateParams.user_id}}/roles/",search:{page_size:"10",order_by:"id"},awToolTip:i18n._("Please save before assigning to organizations"),dataPlacement:"top",hideSearchAndActions:!0,type:"collection",title:i18n._("Permissions"),iterator:"permission",open:!1,index:!1,emptyListText:i18n._("No permissions have been granted"),fields:{name:{label:i18n._("Name"),ngBind:"permission.summary_fields.resource_name",linkTo:"{{convertApiUrl(permission.related[permission.summary_fields.resource_type])}}",nosort:!0},type:{label:i18n._("Type"),ngBind:"permission.summary_fields.resource_type_display_name",nosort:!0},role:{label:i18n._("Role"),ngBind:"permission.name",nosort:!0}},actions:{add:{ngClick:"$state.go('.add')",label:"Add",awToolTip:i18n._("Grant Permission"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD PERMISSIONS"),ngShow:"(!is_superuser && (user_obj.summary_fields.user_capabilities.edit || canAdd))"}},fieldActions:{delete:{label:i18n._("Remove"),ngClick:"deletePermissionFromUser(user_id, username, permission.name, permission.summary_fields.resource_name, permission.related.users)",iconClass:"fa fa-times",awToolTip:i18n._("Dissasociate permission from user"),ngShow:"permission.summary_fields.user_capabilities.unattach"}}}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("WorkflowMakerFormDefinition",[]).factory("WorkflowMakerFormObject",["i18n",function(i18n){return{addTitle:"",editTitle:"",name:"workflow_maker",basePath:"job_templates",tabs:!1,cancelButton:!1,showHeader:!1,fields:{edgeType:{label:i18n._("Type"),type:"radio_group",ngShow:"selectedTemplate && edgeFlags.showTypeOptions",ngDisabled:"!(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)",options:[{label:i18n._("On&nbsp;Success"),value:"success",ngShow:'!edgeFlags.typeRestriction || edgeFlags.typeRestriction === "successFailure"'},{label:i18n._("On&nbsp;Failure"),value:"failure",ngShow:'!edgeFlags.typeRestriction || edgeFlags.typeRestriction === "successFailure"'},{label:i18n._("Always"),value:"always",ngShow:'!edgeFlags.typeRestriction || edgeFlags.typeRestriction === "always"'}],awRequiredWhen:{reqExpression:"edgeFlags.showTypeOptions"}},credential:{label:i18n._("Credential"),type:"lookup",sourceModel:"credential",sourceField:"name",ngClick:"lookUpCredential()",requiredErrorMsg:i18n._("Please select a Credential."),class:"Form-formGroup--fullWidth",awPopOver:"<p>"+i18n._("Select the credential you want the job to use when accessing the remote hosts. Choose the credential containing  the username and SSH key or password that Ansible will need to log into the remote hosts.")+"</p>",dataTitle:i18n._("Credential"),dataPlacement:"right",dataContainer:"body",ngShow:"selectedTemplate.ask_credential_on_launch",ngDisabled:"!(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)",awRequiredWhen:{reqExpression:"selectedTemplate && selectedTemplate.ask_credential_on_launch"}},inventory:{label:i18n._("Inventory"),type:"lookup",sourceModel:"inventory",sourceField:"name",list:"OrganizationList",basePath:"organization",ngClick:"lookUpInventory()",requiredErrorMsg:i18n._("Please select an Inventory."),class:"Form-formGroup--fullWidth",awPopOver:"<p>"+i18n._("Select the inventory containing the hosts you want this job to manage.")+"</p>",dataTitle:i18n._("Inventory"),dataPlacement:"right",dataContainer:"body",ngShow:"selectedTemplate.ask_inventory_on_launch",ngDisabled:"!(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)",awRequiredWhen:{reqExpression:"selectedTemplate && selectedTemplate.ask_inventory_on_launch"}},job_type:{label:i18n._("Job Type"),type:"select",ngOptions:"type.label for type in job_type_options track by type.value",default:0,class:"Form-formGroup--fullWidth",awPopOver:"<p>"+i18n.sprintf(i18n._("When this template is submitted as a job, setting the type to %s will execute the playbook, running tasks  on the selected hosts."),"<em>run</em>")+"</p> <p>"+i18n.sprintf(i18n._("Setting the type to %s will not execute the playbook. Instead, %s will check playbook  syntax, test environment setup and report problems."),"<em>check</em>","<code>ansible</code>")+"</p> <p>"+i18n.sprintf(i18n._("Setting the type to %s will execute the playbook and store any  scanned facts for use with Tower's System Tracking feature."),"<em>scan</em>")+"</p>",dataTitle:i18n._("Job Type"),dataPlacement:"right",dataContainer:"body",ngShow:"selectedTemplate.ask_job_type_on_launch",ngDisabled:"!(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)",awRequiredWhen:{reqExpression:"selectedTemplate && selectedTemplate.ask_job_type_on_launch"}},limit:{label:i18n._("Limit"),type:"text",class:"Form-formGroup--fullWidth",awPopOver:"<p>"+i18n.sprintf(i18n._("Provide a host pattern to further constrain the list of hosts that will be managed or affected by the playbook. Multiple patterns can be separated by %s %s or %s"),"&#59;","&#58;","&#44;")+"</p><p>"+i18n.sprintf(i18n._("For more information and examples see %sthe Patterns topic at docs.ansible.com%s."),'<a href="http://docs.ansible.com/intro_patterns.html" target="_blank">',"</a>")+"</p>",dataTitle:i18n._("Limit"),dataPlacement:"right",dataContainer:"body",ngShow:"selectedTemplate.ask_limit_on_launch",ngDisabled:"!(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"},job_tags:{label:i18n._("Job Tags"),type:"textarea",rows:5,elementClass:"Form-textInput",class:"Form-formGroup--fullWidth",awPopOver:"<p>"+i18n._("Provide a comma separated list of tags.")+"</p>\n<p>"+i18n._("Tags are useful when you have a large playbook, and you want to run a specific part of a play or task.")+"</p><p>"+i18n._("Consult the Ansible documentation for further details on the usage of tags.")+"</p>",dataTitle:i18n._("Job Tags"),dataPlacement:"right",dataContainer:"body",ngShow:"selectedTemplate.ask_tags_on_launch",ngDisabled:"!(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"},skip_tags:{label:i18n._("Skip Tags"),type:"textarea",rows:5,elementClass:"Form-textInput",class:"Form-formGroup--fullWidth",awPopOver:"<p>"+i18n._("Provide a comma separated list of tags.")+"</p>\n<p>"+i18n._("Skip tags are useful when you have a large playbook, and you want to skip specific parts of a play or task.")+"</p><p>"+i18n._("Consult the Ansible documentation for further details on the usage of tags.")+"</p>",dataTitle:i18n._("Skip Tags"),dataPlacement:"right",dataContainer:"body",ngShow:"selectedTemplate.ask_skip_tags_on_launch",ngDisabled:"!(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"}},buttons:{cancel:{ngClick:"cancelNodeForm()",ngShow:"(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"},close:{ngClick:"cancelNodeForm()",ngShow:"!(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"},select:{ngClick:"saveNodeForm()",ngDisabled:"workflow_maker_form.$invalid || !selectedTemplate",ngShow:"(workflowJobTemplateObj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"}}}}]).factory("WorkflowMakerForm",["WorkflowMakerFormObject","NotificationsList",function(WorkflowMakerFormObject,NotificationsList){return function(){var itm;for(itm in WorkflowMakerFormObject.related)"NotificationsList"===WorkflowMakerFormObject.related[itm].include&&(WorkflowMakerFormObject.related[itm]=NotificationsList,WorkflowMakerFormObject.related[itm].generateList=!0);return WorkflowMakerFormObject}}])},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("WorkflowFormDefinition",[]).factory("WorkflowFormObject",["i18n",function(i18n){return{addTitle:i18n._("NEW WORKFLOW JOB TEMPLATE"),editTitle:"{{ name }}",name:"workflow_job_template",breadcrumbName:i18n._("WORKFLOW"),base:"workflow",basePath:"workflow_job_templates",stateTree:"templates",activeEditState:"templates.editWorkflowJobTemplate",tabs:!0,detailsClick:"$state.go('templates.editWorkflowJobTemplate')",include:["/static/partials/survey-maker-modal.html"],fields:{name:{label:i18n._("Name"),type:"text",required:!0,ngDisabled:"!(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)",column:1},description:{label:i18n._("Description"),type:"text",column:1,ngDisabled:"!(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"},organization:{label:i18n._("Organization"),type:"lookup",sourceModel:"organization",basePath:"organizations",list:"OrganizationList",sourceField:"name",dataTitle:i18n._("Organization"),dataContainer:"body",dataPlacement:"right",column:1,ngDisabled:"!(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate) || !canEditOrg",awLookupWhen:"(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate) && canEditOrg"},labels:{label:i18n._("Labels"),type:"select",class:"Form-formGroup--fullWidth",ngOptions:"label.label for label in labelOptions track by label.value",multiSelect:!0,dataTitle:i18n._("Labels"),dataPlacement:"right",awPopOver:"<p>"+i18n._("Optional labels that describe this job template, such as 'dev' or 'test'. Labels can be used to group and filter job templates and completed jobs in the Tower display.")+"</p>",dataContainer:"body",ngDisabled:"!(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"},variables:{label:i18n._("Extra Variables"),type:"textarea",class:"Form-textAreaLabel Form-formGroup--fullWidth",rows:6,default:"---",column:2,awPopOver:"<p>"+i18n.sprintf(i18n._("Pass extra command line variables to the playbook. This is the %s or %s command line parameter for %s. Provide key/value pairs using either YAML or JSON."),"<code>-e</code>","<code>--extra-vars</code>","<code>ansible-playbook</code>")+'</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n',dataTitle:i18n._("Extra Variables"),dataPlacement:"right",dataContainer:"body",ngDisabled:"!(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"},close:{ngClick:"formCancel()",ngShow:"!(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"},save:{ngClick:"formSave()",ngDisabled:"workflow_form.$invalid || can_edit!==true",ngShow:"(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"}},related:{permissions:{name:"permissions",awToolTip:i18n._("Please save before assigning permissions"),dataPlacement:"top",basePath:"api/v1/workflow_job_templates/{{$stateParams.workflow_job_template_id}}/access_list/",
search:{order_by:"username"},type:"collection",title:i18n._("Permissions"),iterator:"permission",index:!1,open:!1,ngClick:"$state.go('templates.editWorkflowJobTemplate.permissions')",actions:{add:{ngClick:"$state.go('.add')",label:i18n._("Add"),awToolTip:i18n._("Add a permission"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)"}},fields:{username:{key:!0,label:i18n._("User"),linkBase:"users",class:"col-lg-3 col-md-3 col-sm-3 col-xs-4"},role:{label:i18n._("Role"),type:"role",nosort:!0,class:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},team_roles:{label:i18n._("Team Roles"),type:"team_roles",nosort:!0,class:"col-lg-5 col-md-5 col-sm-5 col-xs-4"}}},notifications:{include:"NotificationsList"}},relatedButtons:{view_survey:{ngClick:"editSurvey()",awFeature:"surveys",ngShow:"($state.is('templates.addWorkflowJobTemplate') || $state.is('templates.editWorkflowJobTemplate')) && survey_exists && !(workflow_job_template_obj.summary_fields.user_capabilities.edit || canAddWorkflowJobTemplate)",label:i18n._("View Survey"),class:"Form-primaryButton"},add_survey:{ngClick:"addSurvey()",ngShow:"!survey_exists && ($state.is('templates.addWorkflowJobTemplate') || $state.is('templates.editWorkflowJobTemplate'))",awFeature:"surveys",awToolTip:"Surveys allow users to be prompted at job launch with a series of questions related to the job. This allows for variables to be defined that affect the playbook run at time of launch.",dataPlacement:"top",label:i18n._("Add Survey"),class:"Form-primaryButton"},edit_survey:{ngClick:"editSurvey()",awFeature:"surveys",ngShow:"survey_exists && ($state.is('templates.addWorkflowJobTemplate') || $state.is('templates.editWorkflowJobTemplate'))",label:i18n._("Edit Survey"),class:"Form-primaryButton"},workflow_editor:{ngClick:"openWorkflowMaker()",ngShow:"$state.is('templates.addWorkflowJobTemplate') || $state.is('templates.editWorkflowJobTemplate')",awToolTip:i18n._("Please save before defining the workflow graph"),dataPlacement:"top",label:i18n._("Workflow Editor"),class:"Form-primaryButton"}}}}]).factory("WorkflowForm",["WorkflowFormObject","NotificationsList",function(WorkflowFormObject,NotificationsList){return function(){var itm;for(itm in WorkflowFormObject.related)"NotificationsList"===WorkflowFormObject.related[itm].include&&(WorkflowFormObject.related[itm]=_.clone(NotificationsList),WorkflowFormObject.related[itm].ngClick="$state.go('templates.editWorkflowJobTemplate.notifications')",WorkflowFormObject.related[itm].generateList=!0);return WorkflowFormObject}}])}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Users=exports.Templates=exports.Teams=exports.Streams=exports.Schedules=exports.ScheduledJobs=exports.Projects=exports.PortalJobs=exports.PortalJobTemplates=exports.Organizations=exports.Jobs=exports.JobHosts=exports.JobEvents=exports.InventorySources=exports.InventoryHosts=exports.InventoryGroups=exports.Inventories=exports.Hosts=exports.Groups=exports.Credentials=exports.AllJobs=exports.CompletedJobs=exports.CloudCredentials=void 0;var _CloudCredentials=__webpack_require__(87),_CloudCredentials2=_interopRequireDefault(_CloudCredentials),_CompletedJobs=__webpack_require__(88),_CompletedJobs2=_interopRequireDefault(_CompletedJobs),_AllJobs=__webpack_require__(89),_AllJobs2=_interopRequireDefault(_AllJobs),_Credentials=__webpack_require__(90),_Credentials2=_interopRequireDefault(_Credentials),_Groups=__webpack_require__(91),_Groups2=_interopRequireDefault(_Groups),_Hosts=__webpack_require__(92),_Hosts2=_interopRequireDefault(_Hosts),_Inventories=__webpack_require__(93),_Inventories2=_interopRequireDefault(_Inventories),_InventoryGroups=__webpack_require__(94),_InventoryGroups2=_interopRequireDefault(_InventoryGroups),_InventoryHosts=__webpack_require__(95),_InventoryHosts2=_interopRequireDefault(_InventoryHosts),_InventorySources=__webpack_require__(96),_InventorySources2=_interopRequireDefault(_InventorySources),_JobEvents=__webpack_require__(97),_JobEvents2=_interopRequireDefault(_JobEvents),_JobHosts=__webpack_require__(98),_JobHosts2=_interopRequireDefault(_JobHosts),_Jobs=__webpack_require__(99),_Jobs2=_interopRequireDefault(_Jobs),_Organizations=__webpack_require__(100),_Organizations2=_interopRequireDefault(_Organizations),_PortalJobTemplates=__webpack_require__(101),_PortalJobTemplates2=_interopRequireDefault(_PortalJobTemplates),_PortalJobs=__webpack_require__(102),_PortalJobs2=_interopRequireDefault(_PortalJobs),_Projects=__webpack_require__(103),_Projects2=_interopRequireDefault(_Projects),_ScheduledJobs=__webpack_require__(104),_ScheduledJobs2=_interopRequireDefault(_ScheduledJobs),_Schedules=__webpack_require__(105),_Schedules2=_interopRequireDefault(_Schedules),_Streams=__webpack_require__(106),_Streams2=_interopRequireDefault(_Streams),_Teams=__webpack_require__(107),_Teams2=_interopRequireDefault(_Teams),_Templates=__webpack_require__(108),_Templates2=_interopRequireDefault(_Templates),_Users=__webpack_require__(109),_Users2=_interopRequireDefault(_Users);exports.CloudCredentials=_CloudCredentials2.default,exports.CompletedJobs=_CompletedJobs2.default,exports.AllJobs=_AllJobs2.default,exports.Credentials=_Credentials2.default,exports.Groups=_Groups2.default,exports.Hosts=_Hosts2.default,exports.Inventories=_Inventories2.default,exports.InventoryGroups=_InventoryGroups2.default,exports.InventoryHosts=_InventoryHosts2.default,exports.InventorySources=_InventorySources2.default,exports.JobEvents=_JobEvents2.default,exports.JobHosts=_JobHosts2.default,exports.Jobs=_Jobs2.default,exports.Organizations=_Organizations2.default,exports.PortalJobTemplates=_PortalJobTemplates2.default,exports.PortalJobs=_PortalJobs2.default,exports.Projects=_Projects2.default,exports.ScheduledJobs=_ScheduledJobs2.default,exports.Schedules=_Schedules2.default,exports.Streams=_Streams2.default,exports.Teams=_Teams2.default,exports.Templates=_Templates2.default,exports.Users=_Users2.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("CloudCredentialsListDefinition",[]).value("CloudCredentialList",{name:"cloudcredentials",iterator:"cloudcredential",selectTitle:"Add Cloud Credentials",editTitle:"CLOUD CREDENTIALS",selectInstructions:'<p>Select existing credentials by clicking each credential or checking the related checkbox. When finished, click the blue <em>Select</em> button, located bottom right.</p> <p>Create a brand new credential by clicking the <i class="fa fa-plus"></i> button.</p>',index:!1,hover:!0,fields:{name:{key:!0,label:"Name"},description:{label:"Description",excludeModal:!1},team:{label:"Team",ngBind:"credential.team_name",sourceModel:"team",sourceField:"name",excludeModal:!0},user:{label:"User",ngBind:"credential.user_username",sourceModel:"user",sourceField:"username",excludeModal:!0}},actions:{add:{mode:"all",ngClick:"addCredential()",awToolTip:"Create a new credential",actionClass:"btn btn-sm List-buttonSubmit",buttonContent:"&#43; ADD"}},fieldActions:{edit:{ngClick:"editCredential(credential.id)",icon:"fa-edit",label:"Edit",class:"btn-sm",awToolTip:"Edit credential",dataPlacement:"top"},delete:{ngClick:"deleteCredential(credential.id, credential.name)",icon:"fa-trash-o",label:"Delete",class:"btn-sm",awToolTip:"Delete credential",dataPlacement:"top"}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("CompletedJobsDefinition",["sanitizeFilter"]).factory("CompletedJobsList",["i18n",function(i18n){return{awToolTip:i18n._("Please save and run a job to view"),dataPlacement:"top",name:"completed_jobs",basePath:"api/v1/job_templates/{{$stateParams.job_template_id}}/jobs/?or__status=successful&or__status=failed&or__status=error&or__status=canceled",iterator:"completed_job",editTitle:i18n._("COMPLETED JOBS"),index:!1,hover:!0,well:!1,emptyListText:i18n._("No completed jobs"),fields:{status:{label:"",columnClass:"List-staticColumn--smallStatus",awToolTip:"{{ completed_job.status_tip }}",awTipPlacement:"right",dataTitle:"{{ completed_job.status_popover_title }}",icon:"icon-job-{{ completed_job.status }}",iconOnly:!0,ngClick:"viewJobDetails(completed_job)"},id:{label:"ID",ngClick:"viewJobDetails(completed_job)",columnClass:"col-lg-1 col-md-1 col-sm-2 col-xs-2 List-staticColumnAdjacent",awToolTip:"{{ completed_job.status_tip }}",dataPlacement:"top"},name:{label:i18n._("Name"),columnClass:"col-lg-4 col-md-4 col-sm-4 col-xs-6",ngClick:"viewJobDetails(completed_job)",awToolTip:"{{ completed_job.name | sanitize }}",dataPlacement:"top"},type:{label:i18n._("Type"),ngBind:"completed_job.type_label",link:!1,columnClass:"col-lg-2 col-md-2 hidden-sm hidden-xs"},finished:{label:i18n._("Finished"),noLink:!0,filter:"longDate",columnClass:"col-lg-3 col-md-3 col-sm-3 hidden-xs",key:!0,desc:!0}},actions:{},fieldActions:{columnClass:"col-lg-2 col-md-2 col-sm-3 col-xs-4",submit:{icon:"icon-rocket",mode:"all",ngClick:"relaunchJob($event, completed_job.id)",awToolTip:i18n._("Relaunch using the same parameters"),dataPlacement:"top",ngShow:"!completed_job.type == 'system_job' || completed_job.summary_fields.user_capabilities.start"},delete:{mode:"all",ngClick:"deleteJob(completed_job.id)",awToolTip:i18n._("Delete the job"),dataPlacement:"top",ngShow:"completed_job.summary_fields.user_capabilities.delete"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("AllJobsDefinition",["sanitizeFilter","capitalizeFilter"]).factory("AllJobsList",["i18n",function(i18n){return{name:"jobs",basePath:"unified_jobs",iterator:"job",editTitle:i18n._("ALL JOBS"),index:!1,hover:!0,well:!1,emptyListText:i18n._("No jobs have yet run."),title:!1,fields:{status:{label:"",columnClass:"col-lg-1 col-md-1 col-sm-2 col-xs-2 List-staticColumn--smallStatus",dataTipWatch:"job.status_tip",awToolTip:"{{ job.status_tip }}",awTipPlacement:"right",dataTitle:"{{ job.status_popover_title }}",icon:"icon-job-{{ job.status }}",iconOnly:!0,ngClick:"viewJobDetails(job)",nosort:!0},id:{label:"ID",ngClick:"viewJobDetails(job)",columnClass:"col-lg-1 col-md-1 col-sm-2 col-xs-2 List-staticColumnAdjacent",awToolTip:"{{ job.status_tip }}",dataPlacement:"top",noLink:!0},name:{label:i18n._("Name"),columnClass:"col-lg-2 col-md-3 col-sm-4 col-xs-6",ngClick:"viewJobDetails(job)",badgePlacement:"right",badgeCustom:!0,badgeIcon:'<a href="{{ job.workflow_result_link }}"\n                    aw-tool-tip="{{\'View workflow results\'|translate}}"\n                    data-placement="top"\n                    data-original-title="" title="">\n                    <i class="WorkflowBadge"\n                        ng-show="job.launch_type === \'workflow\' ">\n                        W\n                    </i>\n                </a>'},type:{label:i18n._("Type"),ngBind:"job.type_label",link:!1,columnClass:"col-lg-2 hidden-md hidden-sm hidden-xs",columnShow:"showJobType"},finished:{label:i18n._("Finished"),noLink:!0,filter:"longDate",columnClass:"col-lg-2 col-md-3 col-sm-3 hidden-xs",key:!0,desc:!0},labels:{label:i18n._("Labels"),type:"labels",nosort:!0,showDelete:!1,columnClass:"List-tableCell col-lg-4 col-md-4 hidden-sm hidden-xs",sourceModel:"labels",sourceField:"name"}},actions:{},fieldActions:{columnClass:"col-lg-2 col-md-2 col-sm-3 col-xs-4",view:{mode:"all",ngClick:"viewJobDetails(job)",awToolTip:i18n._("View the job"),dataPlacement:"top"},submit:{icon:"icon-rocket",mode:"all",ngClick:"relaunchJob($event, job.id)",awToolTip:i18n._("Relaunch using the same parameters"),dataPlacement:"top",ngShow:"!(job.type == 'system_job') && job.summary_fields.user_capabilities.start"},cancel:{mode:"all",ngClick:"deleteJob(job.id)",awToolTip:i18n._("Cancel the job"),dataPlacement:"top",ngShow:"(job.status === 'running'|| job.status === 'waiting' || job.status === 'pending') && job.summary_fields.user_capabilities.start"},delete:{mode:"all",ngClick:"deleteJob(job.id)",awToolTip:i18n._("Delete the job"),dataPlacement:"top",ngShow:"(job.status !== 'running' && job.status !== 'waiting' && job.status !== 'pending') && job.summary_fields.user_capabilities.delete"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("CredentialsListDefinition",[]).factory("CredentialList",["i18n",function(i18n){return{name:"credentials",iterator:"credential",selectTitle:i18n._("Add Credentials"),editTitle:i18n._("CREDENTIALS"),listTitle:i18n._("CREDENTIALS"),selectInstructions:"<p>Select existing credentials by clicking each credential or checking the related checkbox. When finished, click the blue <em>Select</em> button, located bottom right.</p> <p>Create a brand new credential by clicking ",index:!1,hover:!0,emptyListText:i18n._("No Credentials Have Been Created"),fields:{name:{key:!0,label:i18n._("Name"),columnClass:"col-md-3 col-sm-9 col-xs-9",modalColumnClass:"col-md-11"},description:{label:i18n._("Description"),excludeModal:!0,columnClass:"col-md-3 hidden-sm hidden-xs"},kind:{label:i18n._("Type"),ngBind:"credential.kind_label",excludeModal:!0,nosort:!0,columnClass:"col-md-2 hidden-sm hidden-xs"},owners:{label:i18n._("Owners"),type:"owners",nosort:!0,excludeModal:!0,columnClass:"col-md-2 hidden-sm hidden-xs"}},actions:{add:{mode:"all",ngClick:"addCredential()",awToolTip:i18n._("Create a new credential"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"true"}},fieldActions:{columnClass:"col-md-2 col-sm-3 col-xs-3",edit:{ngClick:"editCredential(credential.id)",icon:"fa-edit",label:i18n._("Edit"),class:"btn-sm",awToolTip:i18n._("Edit credential"),dataPlacement:"top",ngShow:"credential.summary_fields.user_capabilities.edit"},view:{ngClick:"editCredential(credential.id)",label:i18n._("View"),class:"btn-sm",awToolTip:i18n._("View credential"),dataPlacement:"top",ngShow:"!credential.summary_fields.user_capabilities.edit"},delete:{ngClick:"deleteCredential(credential.id, credential.name)",icon:"fa-trash",label:i18n._("Delete"),class:"btn-sm",awToolTip:i18n._("Delete credential"),dataPlacement:"top",ngShow:"credential.summary_fields.user_capabilities.delete"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("GroupListDefinition",[]).value("CopyMoveGroupList",{name:"groups",iterator:"copy",selectTitle:"Copy Groups",index:!1,well:!1,emptyListText:"PLEASE CREATE ADDITIONAL GROUPS / HOSTS TO PERFORM THIS ACTION",fields:{name:{key:!0,label:"Target Group Name"}},basePath:"api/v1/inventories/{{$stateParams.inventory_id}}/groups"})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("HostListDefinition",[]).value("HostList",{name:"copy_hosts",iterator:"copy_host",selectTitle:"Add Existing Hosts",editTitle:"Hosts",index:!1,well:!1,fields:{name:{key:!0,label:"Host Name"}},actions:{},fieldActions:{}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("InventoriesListDefinition",[]).factory("InventoryList",["i18n",function(i18n){return{name:"inventories",iterator:"inventory",selectTitle:i18n._("Add Inventories"),editTitle:i18n._("INVENTORIES"),listTitle:i18n._("INVENTORIES"),selectInstructions:i18n.sprintf(i18n._("Click on a row to select it, and click Finished when done. Click the %s button to create a new inventory."),'<i class="icon-plus"></i> '),index:!1,hover:!0,basePath:"inventory",fields:{status:{label:"",columnClass:"List-staticColumn--mediumStatus",nosort:!0,ngClick:"null",iconOnly:!0,excludeModal:!0,icons:[{icon:"{{ 'icon-cloud-' + inventory.syncStatus }}",awToolTip:"{{ inventory.syncTip }}",awTipPlacement:"right",ngClick:"showGroupSummary($event, inventory.id)",ngClass:"inventory.launch_class"},{icon:"{{ 'icon-job-' + inventory.hostsStatus }}",awToolTip:!1,ngClick:"showHostSummary($event, inventory.id)",ngClass:""}]},name:{key:!0,label:i18n._("Name"),columnClass:"col-md-5 col-sm-5 col-xs-8 List-staticColumnAdjacent",modalColumnClass:"col-md-11",linkTo:"/#/inventories/{{inventory.id}}/manage"},organization:{label:i18n._("Organization"),ngBind:"inventory.summary_fields.organization.name",linkTo:"/#/organizations/{{ inventory.organization }}",sourceModel:"organization",sourceField:"name",excludeModal:!0,columnClass:"col-md-5 col-sm-3 hidden-xs"}},actions:{add:{mode:"all",ngClick:"addInventory()",awToolTip:i18n._("Create a new inventory"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"canAdd"}},fieldActions:{columnClass:"col-md-2 col-sm-4 col-xs-4",edit:{label:i18n._("Edit"),ngClick:"editInventory(inventory.id)",awToolTip:i18n._("Edit inventory"),dataPlacement:"top",ngShow:"inventory.summary_fields.user_capabilities.edit"},view:{label:i18n._("View"),ngClick:"editInventory(inventory.id)",awToolTip:i18n._("View inventory"),dataPlacement:"top",ngShow:"!inventory.summary_fields.user_capabilities.edit"},delete:{label:i18n._("Delete"),ngClick:"deleteInventory(inventory.id, inventory.name)",awToolTip:i18n._("Delete inventory"),dataPlacement:"top",ngShow:"inventory.summary_fields.user_capabilities.delete"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("InventoryGroupsDefinition",[]).value("InventoryGroups",{name:"groups",iterator:"group",editTitle:"{{ inventory.name }}",listTitle:"GROUPS",searchSize:"col-lg-12 col-md-12 col-sm-12 col-xs-12",showTitle:!1,well:!0,index:!1,hover:!0,class:"table-no-border",multiSelect:!0,trackBy:"group.id",fields:{sync_status:{label:"",nosort:!0,mode:"all",iconOnly:!0,ngClick:"viewUpdateStatus(group.id)",awToolTip:"{{ group.status_tooltip }}",dataTipWatch:"group.status_tooltip",icon:"{{ 'fa icon-cloud-' + group.status_class }}",ngClass:"group.status_class",dataPlacement:"top",columnClass:"status-column List-staticColumn--smallStatus"},failed_hosts:{label:"",nosort:!0,mode:"all",iconOnly:!0,awToolTip:"{{ group.hosts_status_tip }}",dataPlacement:"top",ngClick:"showFailedHosts(group)",icon:"{{ 'fa icon-job-' + group.hosts_status_class }}",columnClass:"status-column List-staticColumn--smallStatus"},name:{label:"Groups",key:!0,ngClick:"groupSelect(group.id)",columnClass:"col-lg-6 col-md-6 col-sm-6 col-xs-6",class:"InventoryManage-breakWord"},total_groups:{nosort:!0,label:"",type:"badgeCount",ngHide:"group.total_groups == 0",noLink:!0,awToolTip:"{{group.name | sanitize}} contains {{group.total_groups}} {{group.total_groups === 1 ? 'child' : 'children'}}"}},actions:{refresh:{mode:"all",awToolTip:"Refresh the page",ngClick:"refreshGroups()",ngShow:"socketStatus == 'error'",actionClass:"btn List-buttonDefault",buttonContent:"REFRESH"},launch:{mode:"all",ngDisabled:"!$parent.groupsSelected && !$parent.hostsSelected",ngClick:"$parent.setAdhocPattern()",awToolTip:"Select an inventory source by clicking the check box beside it. The inventory source can be a single group or host, a selection of multiple hosts, or a selection of multiple groups.",dataTipWatch:"adhocCommandTooltip",actionClass:"btn List-buttonDefault",buttonContent:"RUN COMMANDS",showTipWhenDisabled:!0,tooltipInnerClass:"Tooltip-wide",ngShow:"canAdhoc"},create:{mode:"all",ngClick:"createGroup()",awToolTip:"Create a new group",actionClass:"btn List-buttonSubmit",buttonContent:"&#43; ADD GROUP",ngShow:"canAdd",dataPlacement:"top"}},fieldActions:{columnClass:"col-lg-6 col-md-6 col-sm-6 col-xs-6 text-right",group_update:{mode:"all",ngClick:"updateGroup(group)",awToolTip:"{{ group.launch_tooltip }}",dataTipWatch:"group.launch_tooltip",ngShow:"(group.status !== 'running' && group.status !== 'pending' && group.status !== 'updating') && group.summary_fields.user_capabilities.start",ngClass:"group.launch_class",dataPlacement:"top"},cancel:{mode:"all",ngClick:"cancelUpdate(group.id)",awToolTip:"Cancel sync process",class:"red-txt",ngShow:"(group.status == 'running' || group.status == 'pending' || group.status == 'updating') && group.summary_fields.user_capabilities.start",dataPlacement:"top",iconClass:"fa fa-minus-circle"},copy:{mode:"all",ngClick:"copyMoveGroup(group.id)",awToolTip:"Copy or move group",ngShow:"group.id > 0 && group.summary_fields.user_capabilities.copy",dataPlacement:"top"},schedule:{mode:"all",ngClick:"scheduleGroup(group.id)",awToolTip:"{{ group.group_schedule_tooltip }}",ngClass:"group.scm_type_class",dataPlacement:"top",ngShow:"!(group.summary_fields.inventory_source.source === '')"},edit:{mode:"all",ngClick:"editGroup(group.id)",awToolTip:"Edit group",dataPlacement:"top",ngShow:"group.summary_fields.user_capabilities.edit"},view:{mode:"all",ngClick:"editGroup(group.id)",awToolTip:"View group",dataPlacement:"top",ngShow:"!group.summary_fields.user_capabilities.edit"},delete:{mode:"all",ngClick:"deleteGroup(group)",awToolTip:"Delete group",dataPlacement:"top",ngShow:"group.summary_fields.user_capabilities.delete"}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("InventoryHostsDefinition",[]).value("InventoryHosts",{name:"hosts",iterator:"host",editTitle:"{{ selected_group }}",listTitle:"HOSTS",searchSize:"col-lg-12 col-md-12 col-sm-12 col-xs-12",showTitle:!1,well:!0,index:!1,hover:!0,hasChildren:!0,class:"table-no-border",multiSelect:!0,trackBy:"host.id",fields:{active_failures:{label:"",iconOnly:!0,nosort:!0,ngClick:"noop()",awPopOver:"{{ host.job_status_html }}",dataTitle:"{{ host.job_status_title }}",awToolTip:"{{ host.badgeToolTip }}",dataPlacement:"top",icon:"{{ 'fa icon-job-' + host.active_failures }}",id:"active-failures-action",columnClass:"status-column List-staticColumn--smallStatus"},name:{key:!0,label:"Hosts",ngClick:"editHost(host.id)",ngClass:"{ 'host-disabled-label': !host.enabled }",columnClass:"col-lg-6 col-md-8 col-sm-8 col-xs-7",dataHostId:"{{ host.id }}",dataType:"host",class:"InventoryManage-breakWord"}},fieldActions:{columnClass:"col-lg-6 col-md-4 col-sm-4 col-xs-5 text-right",copy:{mode:"all",ngClick:"copyMoveHost(host.id)",awToolTip:"Copy or move host to another group",dataPlacement:"top",ngShow:"host.summary_fields.user_capabilities.edit"},edit:{ngClick:"editHost(host.id)",icon:"icon-edit",awToolTip:"Edit host",dataPlacement:"top",ngShow:"host.summary_fields.user_capabilities.edit"},view:{ngClick:"editHost(host.id)",awToolTip:"View host",dataPlacement:"top",ngShow:"!host.summary_fields.user_capabilities.edit"},delete:{ngClick:"deleteHost(host.id, host.name)",icon:"icon-trash",awToolTip:"Delete host",dataPlacement:"top",ngShow:"host.summary_fields.user_capabilities.delete"}},actions:{system_tracking:{buttonContent:"System Tracking",ngClick:"systemTracking()",awToolTip:"Select one or two hosts by clicking the checkbox beside the host. System tracking offers the ability to compare the results of two scan runs from different dates on one host or the same date on two hosts.",dataTipWatch:"systemTrackingTooltip",dataPlacement:"top",awFeature:"system_tracking",actionClass:"btn List-buttonDefault system-tracking",ngDisabled:"systemTrackingDisabled || !hostsSelected",showTipWhenDisabled:!0,tooltipInnerClass:"Tooltip-wide",ngShow:!0},refresh:{mode:"all",awToolTip:"Refresh the page",ngClick:"refreshGroups()",ngShow:"socketStatus == 'error'",actionClass:"btn List-buttonDefault",buttonContent:"REFRESH"},create:{mode:"all",ngClick:"createHost()",awToolTip:"Create a new host",actionClass:"btn List-buttonSubmit",buttonContent:"&#43; ADD HOST",ngShow:"canAdd",dataPlacement:"top"}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("InventorySourcesListDefinition",[]).value("InventorySourcesList",{name:"workflow_inventory_sources",iterator:"inventory_source",basePath:"inventory_sources",listTitle:"INVENTORY SOURCES",index:!1,hover:!0,fields:{name:{label:"Name",ngBind:"inventory_source.summary_fields.group.name",columnClass:"col-md-11",simpleTip:{awToolTip:"Inventory: {{inventory_source.summary_fields.inventory.name}}",dataPlacement:"top"}}},actions:{},fieldActions:{}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("JobEventsListDefinition",[]).factory("JobEventList",["i18n",function(i18n){return{name:"jobevents",iterator:"jobevent",editTitle:i18n._("JOB EVENTS"),index:!1,hover:!0,class:"condensed",hasChildren:!0,filterBy:"{ show: true }",navigationLinks:{events:{href:"/#/job_events/{{ job_id }}",label:i18n._("Events"),active:!0,icon:"icon-list-ul"},hosts:{href:"/#/job_host_summaries/{{ job_id }}",label:i18n._("Host Summary"),icon:"icon-laptop"}},fields:{created:{label:i18n._("Created On"),columnClass:"col-lg-1 col-md-1 hidden-sm hidden-xs",key:!0,nosort:!0,noLink:!0},status:{label:i18n._("Status"),showValue:!1,columnClass:"col-sm-1 col-xs-2 text-center",nosort:!0,ngClick:"viewJobEvent(jobevent.id)",awToolTip:"{{ jobevent.statusBadgeToolTip }}",dataPlacement:"top",badgeIcon:"fa icon-job-{{ jobevent.status }}",badgePlacement:"left",badgeToolTip:"{{ jobevent.statusBadgeToolTip }}",badgeTipPlacement:"top",badgeNgClick:"viewJobEvent(jobevent.id)"},event_display:{label:i18n._("Event"),hasChildren:!0,ngClick:"toggleChildren(jobevent.id, jobevent.related.children)",nosort:!0,ngClass:"{{ jobevent.class }}",appendHTML:"jobevent.event_detail"},host:{label:i18n._("Host"),ngBind:"jobevent.summary_fields.host.name",ngHref:"{{ jobevent.hostLink }}",nosort:!0,id:"job-event-host-header",class:"break",columnClass:"col-lg-2 hidden-sm hidden-xs"}},actions:{refresh:{mode:"all",awToolTip:"Refresh the page",ngClick:"refresh()",actionClass:"btn List-buttonDefault",buttonContent:i18n._("REFRESH")}},fieldActions:{columnClass:"col-sm-1 col-xs-2",view:{label:i18n._("View"),ngClick:"viewJobEvent(jobevent.id)",awToolTip:i18n._("View event details"),dataPlacement:"top"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("JobHostDefinition",[]).value("JobHostList",{name:"jobhosts",iterator:"jobhost",editTitle:"ALL SUMMARIES",class:"table-condensed",index:!1,hover:!0,navigationLinks:{ngHide:"host_id !== null",events:{href:"/#/job_events/{{ job_id }}",label:"Events",icon:"icon-list-ul"},hosts:{href:"/#/job_host_summariess/{{ job_id }}",label:"Host Summary",active:!0,icon:"icon-laptop"}},fields:{host:{label:"Host",key:!0,sourceModel:"host",sourceField:"name",ngBind:"jobhost.host_name",ngHref:"{{ jobhost.hostLinkTo }}"},status:{label:"Status",badgeNgHref:"{{ jobhost.statusLinkTo }}",badgeIcon:"fa icon-job-{{ jobhost.status }}",badgePlacement:"left",badgeToolTip:"{{ jobhost.statusBadgeToolTip }}",badgeTipPlacement:"top",ngHref:"{{ jobhost.statusLinkTo }}",awToolTip:"{{ jobhost.statusBadgeToolTip }}",dataPlacement:"top"},ok:{label:"Success"},changed:{label:"Changed"},failures:{label:"Failure"},dark:{label:"Unreachable"},skipped:{label:"Skipped"}},actions:{help:{awPopOver:"<dl>\n<dt>Success</dt><dd>Tasks successfully executed on the host.</dd>\n<dt>Changed</dt><dd>Actions taken on the host.</dd>\n<dt>Failure</dt><dd>Tasks that failed on the host.</dd>\n<dt>Unreachable</dt><dd>Times the ansible server could not reach the host.</dd>\n<dt>Skipped</dt><dd>Tasks bypassed and not performed on the host due to prior task failure or the host being unreachable.</dd>\n</dl>\n",dataPlacement:"left",dataContainer:"body",mode:"all",actionClass:"btn-xs btn-help",awToolTip:"Click for help",dataTitle:"Job Host Summary",id:"jobhost-help-button"},refresh:{mode:"all",awToolTip:"Refresh the page",ngClick:"refresh()",ngShow:"host_id == null",actionClass:"btn List-buttonDefault",buttonContent:"REFRESH"}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("JobsListDefinition",[]).value("JobsList",{name:"jobs",iterator:"job",editTitle:"JOBS",class:"table-condensed",index:!1,hover:!0,well:!1,fields:{id:{label:"ID",ngClick:"viewJobDetails(job)",key:!0,desc:!0,columnClass:"col-lg-1 col-md-1 col-sm-2 col-xs-2",awToolTip:"{{ job.status_tip }}",awTipPlacement:"top"},status:{label:"",columnClass:"col-lg-1 col-md-2 col-sm-2 col-xs-2",awToolTip:"{{ job.status_tip }}",awTipPlacement:"top",dataTitle:"{{ job.status_popover_title }}",icon:"icon-job-{{ job.status }}",iconOnly:!0,ngClick:"viewJobDetails(job)"},started:{label:"Started",noLink:!0,filter:"longDate",columnClass:"col-lg-2 col-md-2 hidden-xs"},type:{label:"Type",ngBind:"job.type_label",link:!1,columnClass:"col-lg-2 col-md-2 hidden-sm hidden-xs"},name:{label:"Name",columnClass:"col-md-3 col-xs-5",ngClick:"viewJobDetails(job)"}},actions:{},fieldActions:{submit:{mode:"all",icon:"icon-rocket",ngClick:"relaunchJob($event, job.id)",awToolTip:"Relaunch using the same parameters",dataPlacement:"top",ngHide:"job.type == 'system_job' "},cancel:{mode:"all",ngClick:"deleteJob(job.id)",awToolTip:"Cancel the job",dataPlacement:"top",ngShow:"job.status == 'running'"},delete:{mode:"all",ngClick:"deleteJob(job.id)",awToolTip:"Delete the job",dataPlacement:"top",ngShow:"job.status != 'running'"}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("OrganizationListDefinition",[]).value("OrganizationList",{name:"organizations",iterator:"organization",selectTitle:"Add Organizations",selectInstructions:'<p>Select existing organizations by clicking each organization or checking the related checkbox. When finished, click the blue <em>Select</em> button, located bottom right.</p><p>Create a new organization by clicking the <i class="fa fa-plus"></i> button.</p>',editTitle:"ORGANIZATIONS",hover:!0,index:!1,fields:{name:{key:!0,label:"Name",columnClass:"col-lg-4 col-md-6 col-sm-8 col-xs-8"},description:{label:"Description",columnClass:"hidden-sm hidden-xs",excludeModal:!0}},actions:{add:{mode:"all",ngClick:"addOrganization()",awToolTip:"Create a new organization",awFeature:"multiple_organizations",actionClass:"btn List-buttonSubmit",buttonContent:"&#43; ADD"}},fieldActions:{edit:{label:"Edit",ngClick:"editOrganization(organization.id)",icon:"icon-edit",class:"btn-xs btn-default",awToolTip:"Edit organization",dataPlacement:"top"},delete:{label:"Delete",ngClick:"deleteOrganization(organization.id, organization.name)",icon:"icon-trash",class:"btn-xs btn-danger",awToolTip:"Delete organization",dataPlacement:"top"}}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("PortalJobTemplatesListDefinition",[]).factory("PortalJobTemplateList",["i18n",function(i18n){return{name:"job_templates",iterator:"job_template",editTitle:i18n._("JOB TEMPLATES"),listTitle:i18n._("JOB TEMPLATES"),index:!1,hover:!0,well:!0,emptyListText:i18n._("There are no job templates to display at this time"),fields:{name:{key:!0,label:i18n._("Name"),columnClass:"col-lg-5 col-md-5 col-sm-9 col-xs-8",linkTo:"/#/templates/{{job_template.id}}"},description:{label:i18n._("Description"),columnClass:"col-lg-4 col-md-4 hidden-sm hidden-xs"}},actions:{},fieldActions:{submit:{label:i18n._("Launch"),mode:"all",ngClick:"submitJob(job_template.id)",awToolTip:i18n._("Start a job using this template"),dataPlacement:"top"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("PortalJobsListDefinition",[]).factory("PortalJobsList",["i18n",function(i18n){return{name:"jobs",iterator:"job",editTitle:i18n._("JOBS"),index:!1,hover:!0,well:!0,listTitle:i18n._("JOBS"),emptyListText:i18n._("There are no jobs to display at this time"),
fields:{status:{label:"",columnClass:"List-staticColumn--smallStatus",dataTitle:"{{ job.status_popover_title }}",icon:"icon-job-{{ job.status }}",iconOnly:!0,nosort:!0},name:{label:i18n._("Name"),columnClass:"col-lg-4 col-md-4 col-sm-4 col-xs-6 List-staticColumnAdjacent",linkTo:"/#/jobs/{{job.id}}"},finished:{label:i18n._("Finished"),noLink:!0,filter:"longDate",key:!0,desc:!0,columnClass:"col-lg-4 col-md-4 col-sm-3"}},actions:{}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ProjectsListDefinition",[]).factory("ProjectList",["i18n",function(i18n){return{name:"projects",iterator:"project",basePath:"projects",selectTitle:i18n._("Add Project"),editTitle:i18n._("PROJECTS"),listTitle:i18n._("PROJECTS"),selectInstructions:'<p>Select existing projects by clicking each project or checking the related checkbox. When finished, click the blue <em>Select</em> button, located bottom right.</p><p>Create a new project by clicking the <i class="fa fa-plus"></i> button.</p>',index:!1,hover:!0,fields:{status:{label:"",iconOnly:!0,ngClick:"showSCMStatus(project.id)",awToolTip:"{{ project.statusTip }}",dataTipWatch:"project.statusTip",dataPlacement:"right",icon:"icon-job-{{ project.statusIcon }}",columnClass:"List-staticColumn--smallStatus",nosort:!0,excludeModal:!0},name:{key:!0,label:i18n._("Name"),columnClass:"col-lg-4 col-md-4 col-sm-5 col-xs-7 List-staticColumnAdjacent",modalColumnClass:"col-md-8"},scm_type:{label:i18n._("Type"),ngBind:"project.type_label",excludeModal:!0,columnClass:"col-lg-2 col-md-2 col-sm-3 hidden-xs"},scm_revision:{label:i18n._("Revision"),excludeModal:!0,columnClass:"col-lg-4 col-md-2 col-sm-3 hidden-xs",class:"List-staticColumnAdjacent--monospace"},last_updated:{label:i18n._("Last Updated"),filter:"longDate",columnClass:"col-lg-3 col-md-3 hidden-sm hidden-xs",excludeModal:!0,nosort:!0}},actions:{refresh:{mode:"all",awToolTip:i18n._("Refresh the page"),ngClick:"refresh()",ngShow:"socketStatus === 'error'",actionClass:"btn List-buttonDefault",buttonContent:i18n._("REFRESH")},add:{mode:"all",ngClick:"addProject()",awToolTip:i18n._("Create a new project"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"canAdd"}},fieldActions:{columnClass:"col-lg-2 col-md-3 col-sm-4 col-xs-5",scm_update:{ngClick:"SCMUpdate(project.id, $event)",awToolTip:"{{ project.scm_update_tooltip }}",dataTipWatch:"project.scm_update_tooltip",ngClass:"project.scm_type_class",dataPlacement:"top",ngShow:"project.summary_fields.user_capabilities.start"},schedule:{mode:"all",ngClick:"editSchedules(project.id)",awToolTip:"{{ project.scm_schedule_tooltip }}",ngClass:"project.scm_type_class",dataPlacement:"top",ngShow:"project.summary_fields.user_capabilities.schedule"},edit:{ngClick:"editProject(project.id)",awToolTip:i18n._("Edit the project"),dataPlacement:"top",ngShow:"project.summary_fields.user_capabilities.edit"},view:{ngClick:"editProject(project.id)",awToolTip:i18n._("View the project"),dataPlacement:"top",ngShow:"!project.summary_fields.user_capabilities.edit",icon:"fa-eye"},delete:{ngClick:"deleteProject(project.id, project.name)",awToolTip:i18n._("Delete the project"),ngShow:"(project.status !== 'updating' && project.status !== 'running' && project.status !== 'pending')  && project.summary_fields.user_capabilities.delete",dataPlacement:"top"},cancel:{ngClick:"cancelUpdate(project.id, project.name)",awToolTip:i18n._("Cancel the SCM update"),ngShow:"(project.status == 'updating' || project.status == 'running' || project.status == 'pending') && project.summary_fields.user_capabilities.start",dataPlacement:"top"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ScheduledJobsDefinition",["sanitizeFilter"]).factory("ScheduledJobsList",["i18n",function(i18n){return{name:"schedules",iterator:"schedule",editTitle:i18n._("SCHEDULED JOBS"),hover:!0,well:!1,emptyListText:i18n._("No schedules exist"),fields:{enabled:{label:"",columnClass:"List-staticColumn--toggle",type:"toggle",ngClick:"toggleSchedule($event, schedule.id)",nosort:!0,awToolTip:"{{ schedule.play_tip }}",ngDisabled:"!schedule.summary_fields.user_capabilities.edit",dataTipWatch:"schedule.play_tip",dataPlacement:"top"},name:{label:i18n._("Name"),columnClass:"col-lg-4 col-md-5 col-sm-5 col-xs-7 List-staticColumnAdjacent",sourceModel:"unified_job_template",sourceField:"name",ngClick:"editSchedule(schedule)",awToolTip:"{{ schedule.nameTip | sanitize}}",dataTipWatch:"schedule.nameTip",dataPlacement:"top"},type:{label:i18n._("Type"),noLink:!0,columnClass:"col-lg-2 col-md-2 hidden-sm hidden-xs",sourceModel:"unified_job_template",sourceField:"unified_job_type",ngBind:"schedule.type_label",searchField:"unified_job_template__polymorphic_ctype__model"},next_run:{label:i18n._("Next Run"),noLink:!0,columnClass:"col-lg-3 col-md-2 col-sm-3 hidden-xs",filter:"longDate",key:!0}},actions:{},fieldActions:{columnClass:"col-lg-3 col-md-3 col-sm-3 col-xs-5",edit:{mode:"all",ngClick:"editSchedule(schedule)",awToolTip:i18n._("Edit the schedule"),dataPlacement:"top",ngShow:"schedule.summary_fields.user_capabilities.edit"},view:{mode:"all",ngClick:"editSchedule(schedule)",awToolTip:i18n._("View the schedule"),dataPlacement:"top",ngShow:"!schedule.summary_fields.user_capabilities.edit"},delete:{mode:"all",ngClick:"deleteSchedule(schedule.id)",awToolTip:i18n._("Delete the schedule"),dataPlacement:"top",ngShow:"schedule.summary_fields.user_capabilities.delete"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("SchedulesListDefinition",[]).factory("SchedulesList",["i18n",function(i18n){return{name:"schedules",iterator:"schedule",selectTitle:"",editTitle:"SCHEDULES",listTitle:"{{parentObject}} || SCHEDULES",index:!1,hover:!0,fields:{toggleSchedule:{ngDisabled:"!schedule.summary_fields.user_capabilities.edit",label:"",columnClass:"List-staticColumn--toggle",type:"toggle",ngClick:"toggleSchedule($event, schedule.id)",awToolTip:"{{ schedule.play_tip }}",dataTipWatch:"schedule.play_tip",dataPlacement:"right",nosort:!0},name:{key:!0,label:i18n._("Name"),ngClick:"editSchedule(schedule)",columnClass:"col-md-3 col-sm-3 col-xs-6"},dtstart:{label:i18n._("First Run"),filter:"longDate",columnClass:"List-staticColumn--schedulerTime hidden-sm hidden-xs"},next_run:{label:i18n._("Next Run"),filter:"longDate",columnClass:"List-staticColumn--schedulerTime hidden-xs"},dtend:{label:i18n._("Final Run"),filter:"longDate",columnClass:"List-staticColumn--schedulerTime hidden-xs"}},actions:{refresh:{mode:"all",awToolTip:i18n._("Refresh the page"),ngClick:"refreshSchedules()",actionClass:"btn List-buttonDefault",ngShow:"socketStatus == 'error'",buttonContent:i18n._("REFRESH")},add:{mode:"all",ngClick:"addSchedule()",awToolTip:i18n._("Add a new schedule"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"canAdd"}},fieldActions:{edit:{label:i18n._("Edit"),ngClick:"editSchedule(schedule)",icon:"icon-edit",awToolTip:i18n._("Edit schedule"),dataPlacement:"top",ngShow:"schedule.summary_fields.user_capabilities.edit"},view:{label:i18n._("View"),ngClick:"editSchedule(schedule)",awToolTip:i18n._("View schedule"),dataPlacement:"top",ngShow:"!schedule.summary_fields.user_capabilities.edit"},delete:{label:i18n._("Delete"),ngClick:"deleteSchedule(schedule.id)",icon:"icon-trash",awToolTip:i18n._("Delete schedule"),dataPlacement:"top",ngShow:"schedule.summary_fields.user_capabilities.delete"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("StreamListDefinition",[]).factory("StreamList",["i18n",function(i18n){return{name:"activities",iterator:"activity",basePath:"activity_stream",editTitle:i18n._("ACTIVITY STREAM"),listTitle:i18n._("ACTIVITY STREAM")+'<span ng-show="streamSubTitle"><div class="List-titleLockup"></div>{{streamSubTitle}}<span>',listTitleBadge:!1,emptyListText:i18n._("There are no events to display at this time"),selectInstructions:"",index:!1,hover:!0,class:"table-condensed",toolbarAuxAction:"<stream-dropdown-nav></stream-dropdown-nav>",fields:{timestamp:{label:i18n._("Time"),key:!0,desc:!0,noLink:!0,filter:"longDate",columnClass:"col-lg-3 col-md-2 col-sm-3 col-xs-3"},user:{label:i18n._("Initiated by"),ngBindHtml:"activity.user",sourceModel:"actor",sourceField:"username",columnClass:"col-lg-3 col-md-3 col-sm-3 col-xs-3"},description:{label:i18n._("Event"),ngBindHtml:"activity.description",nosort:!0,columnClass:"ActivityStream-eventColumnHeader col-lg-5 col-md-6 col-sm-4 col-xs-4"}},actions:{refresh:{mode:"all",id:"activity-stream-refresh-btn",awToolTip:i18n._("Refresh the page"),ngClick:"refreshStream()",actionClass:"btn List-buttonDefault ActivityStream-refreshButton",buttonContent:i18n._("REFRESH")}},fieldActions:{columnClass:"col-lg-1 col-md-1 col-sm-2 col-xs-2",view:{label:i18n._("View"),ngClick:"showDetail(activity.id)",icon:"fa-zoom-in",class:"btn-default btn-xs",awToolTip:i18n._("View event details"),dataPlacement:"top"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("TeamsListDefinition",[]).factory("TeamList",["i18n",function(i18n){return{name:"teams",iterator:"team",selectTitle:i18n._("Add Team"),editTitle:i18n._("TEAMS"),listTitle:i18n._("TEAMS"),selectInstructions:i18n.sprintf(i18n._("Click on a row to select it, and click Finished when done. Click the %s button to create a new team."),'<i class="icon-plus"></i> '),index:!1,hover:!0,fields:{name:{key:!0,label:i18n._("Name"),columnClass:"col-lg-3 col-md-4 col-sm-9 col-xs-9",modalColumnClass:"col-md-8"},description:{label:i18n._("Description"),columnClass:"col-lg-3 col-md-3 hidden-sm hidden-xs",excludeModal:!0},organization:{label:i18n._("Organization"),ngBind:"team.organization_name",sourceModel:"organization",sourceField:"name",columnClass:"col-md-3 hidden-sm hidden-xs",excludeModal:!0}},actions:{add:{mode:"all",ngClick:"addTeam()",awToolTip:i18n._("Create a new team"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"canAdd"}},fieldActions:{columnClass:"col-lg-3 col-md-2 col-sm-3 col-xs-3",edit:{label:i18n._("Edit"),ngClick:"editTeam(team.id)",icon:"icon-edit",class:"btn-xs btn-default",awToolTip:i18n._("Edit team"),dataPlacement:"top",ngShow:"team.summary_fields.user_capabilities.edit"},view:{label:i18n._("View"),ngClick:"editTeam(team.id)",class:"btn-xs btn-default",awToolTip:i18n._("View team"),dataPlacement:"top",ngShow:"!team.summary_fields.user_capabilities.edit"},delete:{label:i18n._("Delete"),ngClick:"deleteTeam(team.id, team.name)",icon:"icon-trash",class:"btn-xs btn-danger",awToolTip:i18n._("Delete team"),dataPlacement:"top",ngShow:"team.summary_fields.user_capabilities.delete"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("TemplatesListDefinition",[]).factory("TemplateList",["i18n",function(i18n){return{name:"templates",iterator:"template",basePath:"unified_job_templates",selectTitle:i18n._("Template"),editTitle:i18n._("TEMPLATES"),listTitle:i18n._("TEMPLATES"),selectInstructions:i18n.sprintf(i18n._("Click on a row to select it, and click Finished when done. Use the %s button to create a new job template."),'<i class="icon-plus"></i> '),index:!1,hover:!0,fields:{name:{key:!0,label:i18n._("Name"),columnClass:"col-lg-2 col-md-2 col-sm-4 col-xs-9",ngHref:"#/templates/{{template.type}}/{{template.id}}"},type:{label:i18n._("Type"),ngBind:"template.type_label",columnClass:"col-lg-2 col-md-2 col-sm-4 hidden-xs"},description:{label:i18n._("Description"),columnClass:"col-lg-2 hidden-md hidden-sm hidden-xs"},smart_status:{label:i18n._("Activity"),columnClass:"List-tableCell col-lg-2 col-md-2 hidden-sm hidden-xs",nosort:!0,ngInclude:"'/static/partials/job-template-smart-status.html'",type:"template"},labels:{label:i18n._("Labels"),type:"labels",nosort:!0,showDelete:!0,columnClass:"List-tableCell col-lg-2 col-md-4 hidden-sm hidden-xs"}},actions:{add:{mode:"all",type:"buttonDropdown",basePaths:["templates"],awToolTip:i18n._("Create a new template"),actionClass:"btn List-dropdownSuccess",buttonContent:"&#43; "+i18n._("ADD"),options:[{optionContent:i18n._("Job Template"),optionSref:"templates.addJobTemplate",ngShow:"canAddJobTemplate"},{optionContent:i18n._("Workflow Job Template"),optionSref:"templates.addWorkflowJobTemplate",ngShow:"canAddWorkflowJobTemplate"}],ngShow:"canAddJobTemplate || canAddWorkflowJobTemplate"}},fieldActions:{columnClass:"col-lg-2 col-md-3 col-sm-4 col-xs-3",submit:{label:i18n._("Launch"),mode:"all",ngClick:"submitJob(template)",awToolTip:i18n._("Start a job using this template"),dataPlacement:"top",ngShow:"template.summary_fields.user_capabilities.start"},schedule:{label:i18n._("Schedule"),mode:"all",ngClick:"scheduleJob(template)",awToolTip:i18n._("Schedule future job template runs"),dataPlacement:"top"},copy:{label:i18n._("Copy"),ngClick:"copyTemplate(template)",class:"btn-danger btn-xs",awToolTip:i18n._("Copy template"),dataPlacement:"top",ngShow:"template.summary_fields.user_capabilities.copy"},edit:{label:i18n._("Edit"),ngClick:"editJobTemplate(template)",awToolTip:i18n._("Edit template"),class:"btn-default btn-xs",dataPlacement:"top",ngShow:"template.summary_fields.user_capabilities.edit",editStateParams:["job_template_id","workflow_job_template_id"]},view:{label:i18n._("View"),ngClick:"editJobTemplate(template)",awToolTip:i18n._("View template"),class:"btn-default btn-xs",dataPlacement:"top",ngShow:"!template.summary_fields.user_capabilities.edit"},delete:{label:i18n._("Delete"),ngClick:"deleteJobTemplate(template)",class:"btn-danger btn-xs",awToolTip:i18n._("Delete template"),dataPlacement:"top",ngShow:"template.summary_fields.user_capabilities.delete"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("UserListDefinition",[]).factory("UserList",["i18n",function(i18n){return{name:"users",stateTree:"users",search:{order_by:"username"},iterator:"user",selectTitle:i18n._("Add Users"),editTitle:i18n._("USERS"),listTitle:i18n._("USERS"),selectInstructions:'<p>Select existing users by clicking each user or checking the related checkbox. When finished, click the blue <em>Select</em> button, located bottom right.</p> <p>When available, a brand new user can be created by clicking the <i class="fa fa-plus"></i> button.</p>',index:!1,hover:!0,fields:{username:{key:!0,label:i18n._("Username"),columnClass:"col-md-3 col-sm-3 col-xs-9"},first_name:{label:i18n._("First Name"),columnClass:"col-md-3 col-sm-3 hidden-xs"},last_name:{label:i18n._("Last Name"),columnClass:"col-md-3 col-sm-3 hidden-xs"}},actions:{add:{label:i18n._("Create New"),mode:"all",ngClick:"addUser()",basePaths:["organizations","users"],awToolTip:i18n._("Create a new user"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"canAdd"}},fieldActions:{columnClass:"col-md-3 col-sm-3 col-xs-3",edit:{label:i18n._("Edit"),ngClick:"editUser(user.id)",icon:"icon-edit",class:"btn-xs btn-default",awToolTip:i18n._("Edit user"),dataPlacement:"top",ngShow:"user.summary_fields.user_capabilities.edit"},view:{label:i18n._("View"),ngClick:"editUser(user.id)",class:"btn-xs btn-default",awToolTip:i18n._("View user"),dataPlacement:"top",ngShow:"!user.summary_fields.user_capabilities.edit"},delete:{label:i18n._("Delete"),ngClick:"deleteUser(user.id, user.username)",icon:"icon-trash",class:"btn-xs btn-danger",awToolTip:i18n._("Delete user"),dataPlacement:"top",ngShow:"user.summary_fields.user_capabilities.delete"}}}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ChildrenHelper",["RestServices","Utilities"]).factory("ToggleChildren",["$location","Store",function($location,Store){return function(params){function updateExpand(key,expand){var found=!1;local_child_store.every(function(child,i){return child.key!==key||(local_child_store[i].expand=expand,found=!0,!1)}),found||local_child_store.push({key:key,expand:expand})}function updateShow(key,show){var found=!1;local_child_store.every(function(child,i){return child.key!==key||(local_child_store[i].show=show,found=!0,!1)}),found||local_child_store.push({key:key,show:show})}function expand(node){var i;for(i=node+1;i<set.length;i++)set[i].parent===set[node].id&&(updateShow(set[i].key,!0),set[i].show=!0);set[node].ngicon="fa fa-minus-square-o node-toggle"}function collapse(node){var i,has_children=!1;for(i=node+1;i<set.length;i++)set[i].parent===set[node].id&&(set[i].show=!1,has_children=!0,updateShow(set[i].key,!1),set[i].related.children&&collapse(i));set[node].ngicon=has_children?"fa fa-plus-square-o node-toggle":"fa fa-square-o node-toggle"}var clicked,local_child_store,scope=params.scope,list=params.list,id=params.id,set=scope[list.name],path=$location.path();local_child_store=Store(path+"_children"),local_child_store||(local_child_store=[]),set.every(function(row,i){return row.id!==id||(clicked=i,!1)}),/plus-square-o/.test(set[clicked].ngicon)?(expand(clicked),updateExpand(set[clicked].key,!0)):/minus-square-o/.test(set[clicked].ngicon)&&(collapse(clicked),updateExpand(set[clicked].key,!1)),Store(path+"_children",local_child_store)}}])},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("CredentialsHelper",["Utilities"]).factory("KindChange",["Empty","i18n",function(Empty,i18n){return function(params){var collapse,id,scope=params.scope,reset=params.reset;if($(".popover").each(function(){$(this).remove()}),$(".tooltip").each(function(){$(this).hide()}),scope.usernameLabel=i18n._("Username"),scope.aws_required=!1,scope.email_required=!1,scope.rackspace_required=!1,scope.sshKeyDataLabel=i18n._("Private Key"),scope.username_required=!1,scope.key_required=!1,scope.project_required=!1,scope.subscription_required=!1,scope.key_description=i18n.sprintf(i18n._("Paste the contents of the SSH private key file.%s or click to close%s"),'<div class="popover-footer"><span class="key">Esc</span>',"</div>"),scope.host_required=!1,scope.password_required=!1,scope.hostLabel="",scope.passwordLabel=i18n._("Password"),$(".popover").each(function(){$(this).remove()}),$(".tooltip").each(function(){$(this).hide()}),scope.usernameLabel=i18n._("Username"),scope.aws_required=!1,scope.email_required=!1,scope.rackspace_required=!1,scope.sshKeyDataLabel=i18n._("Private Key"),scope.username_required=!1,scope.key_required=!1,scope.project_required=!1,scope.domain_required=!1,scope.subscription_required=!1,scope.key_description=i18n._("Paste the contents of the SSH private key file."),scope.host_required=!1,scope.password_required=!1,scope.hostLabel="",scope.projectLabel="",scope.domainLabel="",scope.project_required=!1,scope.passwordLabel=i18n._("Password (API Key)"),scope.projectPopOver="<p>"+i18n._("The project value")+"</p>",scope.hostPopOver="<p>"+i18n._("The host value")+"</p>",scope.ssh_key_data_api_error="",!Empty(scope.kind))switch(scope.kind.value){case"aws":scope.aws_required=!0;break;case"rax":scope.rackspace_required=!0,scope.username_required=!0;break;case"ssh":scope.usernameLabel=i18n._("Username"),scope.becomeUsernameLabel=i18n._("Privilege Escalation Username"),scope.becomePasswordLabel=i18n._("Privilege Escalation Password");break;case"scm":scope.sshKeyDataLabel=i18n._("SCM Private Key"),scope.passwordLabel=i18n._("Password");break;case"gce":scope.usernameLabel=i18n._("Service Account Email Address"),scope.sshKeyDataLabel=i18n._("RSA Private Key"),scope.email_required=!0,scope.key_required=!0,scope.project_required=!0,scope.key_description=i18n._("Paste the contents of the PEM file associated with the service account email."),scope.projectLabel=i18n._("Project"),scope.project_required=!1,scope.projectPopOver="<p>"+i18n._("The Project ID is the GCE assigned identification. It is constructed as two words followed by a three digit number.  Such as: ")+"</p><p>adjective-noun-000</p>";break;case"azure":scope.sshKeyDataLabel=i18n._("Management Certificate"),scope.subscription_required=!0,scope.key_required=!0,scope.key_description=i18n._("Paste the contents of the PEM file that corresponds to the certificate you uploaded in the Microsoft Azure console.");break;case"azure_rm":scope.usernameLabel=i18n._("Username"),scope.subscription_required=!0,scope.passwordLabel=i18n._("Password"),scope.azure_rm_required=!0;break;case"vmware":scope.username_required=!0,scope.host_required=!0,scope.password_required=!0,scope.hostLabel="vCenter Host",scope.passwordLabel=i18n._("Password"),scope.hostPopOver=i18n._("Enter the hostname or IP address which corresponds to your VMware vCenter.");break;case"openstack":scope.hostLabel=i18n._("Host (Authentication URL)"),scope.projectLabel=i18n._("Project (Tenant Name)"),scope.domainLabel=i18n._("Domain Name"),scope.password_required=!0,scope.project_required=!0,scope.host_required=!0,scope.username_required=!0,scope.projectPopOver="<p>"+i18n._("This is the tenant name.  This value is usually the same  as the username.")+"</p>",scope.hostPopOver="<p>"+i18n._("The host to authenticate with.")+"<br />"+i18n.sprintf(i18n._("For example, %s"),"https://openstack.business.com/v2.0/");break;case"satellite6":scope.username_required=!0,scope.password_required=!0,scope.passwordLabel=i18n._("Password"),scope.host_required=!0,scope.hostLabel=i18n._("Satellite 6 URL"),scope.hostPopOver=i18n.sprintf(i18n._("Enter the URL which corresponds to your %sRed Hat Satellite 6 server. %sFor example, %s"),"<br />","<br />","https://satellite.example.org");break;case"cloudforms":scope.username_required=!0,scope.password_required=!0,scope.passwordLabel=i18n._("Password"),scope.host_required=!0,scope.hostLabel=i18n._("CloudForms URL"),scope.hostPopOver=i18n.sprintf(i18n._("Enter the URL for the virtual machine which %scorresponds to your CloudForm instance. %sFor example, %s"),"<br />","<br />","https://cloudforms.example.org");break;case"net":scope.username_required=!0,scope.password_required=!1,scope.passwordLabel=i18n._("Password"),scope.sshKeyDataLabel=i18n._("SSH Key")}reset&&(scope.access_key=null,scope.secret_key=null,scope.api_key=null,scope.username=null,scope.password=null,scope.password_confirm=null,scope.ssh_key_data=null,scope.ssh_key_unlock=null,scope.ssh_key_unlock_confirm=null,scope.become_username=null,scope.become_password=null,scope.authorize=!1,scope.authorize_password=null),collapse=$("#credential_kind").parent().find(".panel-collapse").first(),id=collapse.attr("id"),Empty(scope.kind)||""===scope.kind.value?$("#"+id+"-icon").hasClass("icon-plus")&&scope.accordionToggle("#"+id):$("#"+id+"-icon").hasClass("icon-minus")&&scope.accordionToggle("#"+id)}}]).factory("BecomeMethodChange",["Empty","i18n",function(Empty,i18n){return function(params){console.log("become method has changed");var scope=params.scope;if(!Empty(scope.kind))switch(scope.kind.value){case"aws":scope.aws_required=!0;break;case"rax":scope.rackspace_required=!0,scope.username_required=!0;break;case"ssh":scope.usernameLabel=i18n._("Username"),scope.becomeUsernameLabel=i18n._("Privilege Escalation Username"),scope.becomePasswordLabel=i18n._("Privilege Escalation Password");break;case"scm":scope.sshKeyDataLabel=i18n._("SCM Private Key"),scope.passwordLabel=i18n._("Password");break;case"gce":scope.usernameLabel=i18n._("Service Account Email Address"),scope.sshKeyDataLabel=i18n._("RSA Private Key"),scope.email_required=!0,scope.key_required=!0,scope.project_required=!0,scope.key_description=i18n._("Paste the contents of the PEM file associated with the service account email."),scope.projectLabel=i18n._("Project"),scope.project_required=!1,scope.projectPopOver="<p>"+i18n._("The Project ID is the GCE assigned identification. It is constructed as two words followed by a three digit number.  Such as: ")+"</p><p>adjective-noun-000</p>";break;case"azure":scope.sshKeyDataLabel=i18n._("Management Certificate"),scope.subscription_required=!0,scope.key_required=!0,scope.key_description=i18n._("Paste the contents of the PEM file that corresponds to the certificate you uploaded in the Microsoft Azure console.");break;case"azure_rm":scope.usernameLabel=i18n._("Username"),scope.subscription_required=!0,scope.passwordLabel=i18n._("Password"),scope.azure_rm_required=!0;break;case"vmware":scope.username_required=!0,scope.host_required=!0,scope.password_required=!0,scope.hostLabel="vCenter Host",scope.passwordLabel=i18n._("Password"),scope.hostPopOver=i18n._("Enter the hostname or IP address which corresponds to your VMware vCenter.");break;case"openstack":scope.hostLabel=i18n._("Host (Authentication URL)"),scope.projectLabel=i18n._("Project (Tenant Name)"),scope.domainLabel=i18n._("Domain Name"),scope.password_required=!0,scope.project_required=!0,scope.host_required=!0,scope.username_required=!0,scope.projectPopOver="<p>"+i18n._("This is the tenant name.  This value is usually the same  as the username.")+"</p>",scope.hostPopOver="<p>"+i18n._("The host to authenticate with.")+"<br />"+i18n.sprintf(i18n._("For example, %s"),"https://openstack.business.com/v2.0/");break;case"satellite6":scope.username_required=!0,scope.password_required=!0,scope.passwordLabel=i18n._("Password"),scope.host_required=!0,scope.hostLabel=i18n._("Satellite 6 URL"),scope.hostPopOver=i18n.sprintf(i18n._("Enter the URL which corresponds to your %sRed Hat Satellite 6 server. %sFor example, %s"),"<br />","<br />","https://satellite.example.org");break;case"cloudforms":scope.username_required=!0,scope.password_required=!0,scope.passwordLabel=i18n._("Password"),scope.host_required=!0,scope.hostLabel=i18n._("CloudForms URL"),scope.hostPopOver=i18n.sprintf(i18n._("Enter the URL for the virtual machine which %scorresponds to your CloudForm instance. %sFor example, %s"),"<br />","<br />","https://cloudforms.example.org");break;case"net":scope.username_required=!0,scope.password_required=!1,scope.passwordLabel=i18n._("Password"),scope.sshKeyDataLabel=i18n._("SSH Key")}}}]).factory("OwnerChange",[function(){return function(params){var scope=params.scope,owner=scope.owner;"team"===owner?(scope.team_required=!0,scope.user_required=!1,scope.user=null,scope.user_username=null):(scope.team_required=!1,scope.user_required=!0,scope.team=null,scope.team_name=null)}}]).factory("FormSave",["$rootScope","$location","Alert","Rest","ProcessErrors","Empty","GetBasePath","CredentialForm","ReturnToCaller","Wait","$state","i18n",function($rootScope,$location,Alert,Rest,ProcessErrors,Empty,GetBasePath,CredentialForm,ReturnToCaller,Wait,$state,i18n){return function(params){var fld,url,scope=params.scope,mode=params.mode,form=CredentialForm,data={};for(fld in form.fields)"access_key"!==fld&&"secret_key"!==fld&&"ssh_username"!==fld&&"ssh_password"!==fld&&("organization"!==fld||scope[fld]?null===scope[fld]?data[fld]="":data[fld]=scope[fld]:data.user=$rootScope.current_user.id);switch(data.kind=scope.kind.value,null===scope.become_method||"undefined"==typeof scope.become_method?(data.become_method="",data.become_username="",data.become_password=""):data.become_method=scope.become_method.value?scope.become_method.value:"",data.kind){case"ssh":data.password=scope.ssh_password;break;case"aws":data.username=scope.access_key,data.password=scope.secret_key;break;case"rax":data.password=scope.api_key;break;case"gce":data.username=scope.email_address,data.project=scope.project;break;case"azure":data.username=scope.subscription}Wait("start"),"add"===mode?(url=GetBasePath("credentials"),Rest.setUrl(url),Rest.post(data).success(function(data){scope.addedItem=data.id,Wait("stop");var base=$location.path().replace(/^\//,"").split("/")[0];"credentials"===base?$state.go("credentials.edit",{credential_id:data.id},{reload:!0}):ReturnToCaller(1)}).error(function(data,status){Wait("stop"),status&&400===status&&data&&data.ssh_key_unlock&&("gce"===scope.kind.value||"azure"===scope.kind.value)?scope.ssh_key_data_api_error=i18n._("Encrypted credentials are not supported."):ProcessErrors(scope,data,status,form,{hdr:i18n._("Error!"),msg:i18n._("Failed to create new Credential. POST status: ")+status})})):(url=GetBasePath("credentials")+scope.id+"/",Rest.setUrl(url),Rest.put(data).success(function(){Wait("stop"),$state.go($state.current,{},{reload:!0})}).error(function(data,status){Wait("stop"),ProcessErrors(scope,data,status,form,{hdr:i18n._("Error!"),msg:i18n._("Failed to update Credential. PUT status: ")+status})}))}}])}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("EventsHelper",["RestServices","Utilities","JobEventDataDefinition","JobEventsFormDefinition"]).factory("EventView",["$rootScope","$location","$log","$stateParams","Rest","Alert","GenerateForm","Prompt","ProcessErrors","GetBasePath","FormatDate","JobEventDataForm","Empty","JobEventsForm",function($rootScope,$location,$log,$stateParams,Rest,Alert,GenerateForm,Prompt,ProcessErrors,GetBasePath,FormatDate,JobEventDataForm,Empty,JobEventsForm){return function(params){var scope,event_id=params.event_id,generator=GenerateForm,form=angular.copy(JobEventsForm),defaultUrl=GetBasePath("base")+"job_events/"+event_id+"/";Rest.setUrl(defaultUrl),Rest.get().success(function(data){var i,n,fld,rows,txt,cDate;if($.isEmptyObject(data.event_data)||!data.event_data.res||"string"==typeof data.event_data.res)for(fld in form.fields)switch(fld){case"start":case"end":case"delta":case"msg":case"stdout":case"stderr":case"msg":case"results":case"module_name":case"module_args":case"rc":delete form.fields[fld]}!$.isEmptyObject(data.event_data)&&data.event_data.res&&"string"==typeof data.event_data.res||delete form.fields.traceback;for(fld in form.fields)switch(fld){case"start":case"end":case"delta":case"msg":case"stdout":case"stderr":case"msg":case"rc":data.event_data&&data.event_data.res&&Empty(data.event_data.res[fld])?delete form.fields[fld]:"textarea"===form.fields[fld].type&&(n=data.event_data.res[fld].match(/\n/g),rows=n?n.length:1,rows=rows>10?10:rows,rows=rows<3?3:rows,form.fields[fld].rows=rows);break;case"results":if(data.event_data&&data.event_data.res&&void 0===data.event_data.res[fld])delete form.fields[fld];else if(Array.isArray(data.event_data.res[fld])&&0!==data.event_data.res[fld].length){for(txt="",i=0;i<data.event_data.res[fld].length;i++)txt+=data.event_data.res[fld][i];""===txt?delete form.fields[fld]:(n=txt.match(/\n/g),rows=n?n.length:1,rows=rows>10?10:rows,rows=rows<3?3:rows,form.fields[fld].rows=rows)}else delete form.fields[fld];break;case"module_name":case"module_args":data.event_data&&data.event_data.res&&(void 0!==data.event_data.res.invocation&&void 0!==data.event_data.res.invocation[fld]||delete form.fields[fld])}scope=generator.inject(form,{mode:"edit",modal:!0,related:!1}),generator.reset(),scope.formModalAction=function(){$("#form-modal").modal("hide")},scope.formModalActionLabel="OK",scope.formModalCancelShow=!1,scope.formModalInfo="View JSON",$("#form-modal .btn-success").removeClass("btn-success").addClass("btn-none"),$("#form-modal").addClass("skinny-modal"),scope.formModalHeader=data.event_display.replace(/^\u00a0*/g,""),scope.formModalInfoAction=function(){var generator=GenerateForm,scope=generator.inject(JobEventDataForm,{mode:"edit",modal:!0,related:!1,modal_selector:"#form-modal2",modal_body_id:"form-modal2-body",modal_title_id:"formModal2Header"});generator.reset(),scope.formModal2Header=data.event_display.replace(/^\u00a0*/g,""),scope.event_data=JSON.stringify(data.event_data,null,"\t"),scope.formModal2ActionLabel="OK",scope.formModal2CancelShow=!1,scope.formModal2Info=!1,scope.formModalInfo="View JSON",
scope.formModal2Action=function(){$("#form-modal2").modal("hide")},$("#form-modal2 .btn-success").removeClass("btn-success").addClass("btn-none")},"string"==typeof data.event_data.res&&(scope.traceback=data.event_data.res);for(fld in form.fields)switch(fld){case"status":data.failed?scope.status="error":data.changed?scope.status="changed":scope.status="success";break;case"created":cDate=new Date(data.created),scope.created=FormatDate(cDate);break;case"host":data.summary_fields&&data.summary_fields.host&&(scope.host=data.summary_fields.host.name);break;case"id":case"task":case"play":scope[fld]=data[fld];break;case"start":case"end":data.event_data&&data.event_data.res&&!Empty(data.event_data.res[fld])&&(scope[fld]=data.event_data.res[fld]);break;case"results":if(Array.isArray(data.event_data.res[fld])&&data.event_data.res[fld].length>0){for(txt="",i=0;i<data.event_data.res[fld].length;i++)txt+=data.event_data.res[fld][i];""!==txt&&(scope[fld]=txt)}break;case"msg":case"stdout":case"stderr":case"delta":case"rc":data.event_data&&data.event_data.res&&void 0!==data.event_data.res[fld]&&(scope[fld]=data.event_data.res[fld]);break;case"module_name":case"module_args":data.event_data.res&&data.event_data.res.invocation&&(scope[fld]=data.event_data.res.invocation[fld])}scope.$$phase||scope.$digest()}).error(function(data,status){$("#form-modal").modal("hide"),ProcessErrors(scope,data,status,form,{hdr:"Error!",msg:"Failed to retrieve event: "+event_id+". GET status: "+status})})}}])}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(114),_main2=_interopRequireDefault(_main);exports.default=angular.module("GroupsHelper",["RestServices","Utilities",_main2.default.name,"GroupListDefinition",_main2.default.name,"GroupsHelper","InventoryHelper","SelectionHelper","JobSubmissionHelper","PromptDialog","CredentialsListDefinition","InventoryStatusDefinition","VariablesHelper","SchedulesListDefinition","StandardOutHelper","SchedulesHelper"]).factory("GetSourceTypeOptions",["Rest","ProcessErrors","GetBasePath",function(Rest,ProcessErrors,GetBasePath){return function(params){var scope=params.scope,variable=params.variable;void 0===scope[variable]&&(scope[variable]=[],Rest.setUrl(GetBasePath("inventory_sources")),Rest.options().success(function(data){var i,choices=data.actions.GET.source.choices;for(i=0;i<choices.length;i++)"file"!==choices[i][0]&&scope[variable].push({label:choices[i][1],value:choices[i][0]});scope.cloudCredentialRequired=!1,scope.$emit("sourceTypeOptionsReady")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve options for inventory_sources.source. OPTIONS status: "+status})}))}}]).factory("ViewUpdateStatus",["$state","Rest","ProcessErrors","GetBasePath","Alert","Wait","Empty","Find",function($state,Rest,ProcessErrors,GetBasePath,Alert,Wait,Empty,Find){return function(params){var scope=params.scope,group_id=params.group_id,group=Find({list:scope.groups,key:"id",val:group_id});scope.removeSourceReady&&scope.removeSourceReady(),scope.removeSourceReady=scope.$on("SourceReady",function(e,source){var update_id=source.summary_fields.current_update?source.summary_fields.current_update.id:source.summary_fields.last_update.id;$state.go("inventorySyncStdout",{id:update_id})}),group&&(Empty(group.source)||(Empty(group.status)||"never updated"===group.status?Alert("No Status Available",'<div>An inventory sync has not been performed for the selected group. Start the process by clicking the <i class="fa fa-refresh"></i> button.</div>',"alert-info",null,null,null,null,!0):(Wait("start"),Rest.setUrl(group.related.inventory_source),Rest.get().success(function(data){scope.$emit("SourceReady",data)}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve inventory source: "+group.related.inventory_source+" GET returned status: "+status})}))))}}]).factory("GetHostsStatusMsg",[function(){return function(params){var tip,failures,html_class,active_failures=params.active_failures,total_hosts=params.total_hosts;return active_failures>0?(tip=total_hosts+(1===total_hosts?" host":" hosts")+". "+active_failures+" with failed jobs.",html_class="error",failures=!0):(failures=!1,0===total_hosts?(tip="Contains 0 hosts.",html_class="none"):(tip=total_hosts+(1===total_hosts?" host":" hosts")+". No job failures",html_class="success")),{tooltip:tip,failures:failures,class:html_class}}}]).factory("GetSyncStatusMsg",["Empty",function(Empty){return function(params){var stat,stat_class,status_tip,status=params.status,source=params.source,has_inventory_sources=params.has_inventory_sources,launch_class="",launch_tip="Start sync process",schedule_tip="Schedule future inventory syncs";switch(stat=status,stat_class=stat,status){case"never updated":stat="never",stat_class="na",status_tip='Sync not performed. Click <i class="fa fa-refresh"></i> to start it now.';break;case"none":case"ok":case"":launch_class="btn-disabled",stat="n/a",stat_class="na",status_tip='Cloud source not configured. Click <i class="fa fa-pencil"></i> to update.',launch_tip="Cloud source not configured.";break;case"canceled":status_tip="Sync canceled. Click to view log.";break;case"failed":status_tip="Sync failed. Click to view log.";break;case"successful":status_tip="Sync completed. Click to view log.";break;case"pending":status_tip="Sync pending.",launch_class="btn-disabled",launch_tip="Sync pending";break;case"updating":case"running":launch_class="btn-disabled",launch_tip="Sync running",status_tip="Sync running. Click to view log."}return has_inventory_sources&&Empty(source)&&(launch_class="btn-disabled",status_tip="Managed by an external cloud source.",launch_tip="Can only be updated by running a sync on the parent group."),has_inventory_sources===!1&&Empty(source)&&(launch_class="btn-disabled",status_tip='Cloud source not configured. Click <i class="fa fa-pencil"></i> to update.',launch_tip="Cloud source not configured."),{class:stat_class,tooltip:status_tip,status:stat,launch_class:launch_class,launch_tip:launch_tip,schedule_tip:schedule_tip}}}]).factory("GroupsCancelUpdate",["Empty","Rest","ProcessErrors","Alert","Wait","Find",function(Empty,Rest,ProcessErrors,Alert,Wait,Find){return function(params){var scope=params.scope,id=params.id,group=params.group;scope.removeCancelUpdate&&scope.removeCancelUpdate(),scope.removeCancelUpdate=scope.$on("CancelUpdate",function(e,url){Rest.setUrl(url),Rest.post().success(function(){Wait("stop")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. POST status: "+status})})}),scope.removeCheckCancel&&scope.removeCheckCancel(),scope.removeCheckCancel=scope.$on("CheckCancel",function(e,last_update,current_update){var url=current_update?current_update:last_update;url+="cancel/",Rest.setUrl(url),Rest.get().success(function(data){data.can_cancel?scope.$emit("CancelUpdate",url):Wait("stop")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. GET status: "+status})})}),Empty(group)&&(group=Find({list:scope.groups,key:"id",val:id}),scope.selected_group_id=group.id),!group||"running"!==group.status&&"pending"!==group.status||(Wait("start"),Rest.setUrl(group.related.inventory_source),Rest.get().success(function(data){scope.$emit("CheckCancel",data.related.last_update,data.related.current_update)}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+group.related.inventory_source+" failed. GET status: "+status})}))}}]).factory("GroupsEdit",["$filter","$rootScope","$location","$log","$stateParams","$compile","Rest","Alert","GroupForm","GenerateForm","Prompt","ProcessErrors","GetBasePath","SetNodeName","ParseTypeChange","GetSourceTypeOptions","InventoryUpdate","Empty","Wait","GetChoices","UpdateGroup","SourceChange","Find","ParseVariableString","ToJSON","GroupsScheduleListInit","SetSchedulesInnerDialogSize","CreateSelect2",function($filter,$rootScope,$location,$log,$stateParams,$compile,Rest,Alert,GroupForm,GenerateForm,Prompt,ProcessErrors,GetBasePath,SetNodeName,ParseTypeChange,GetSourceTypeOptions,InventoryUpdate,Empty,Wait,GetChoices,UpdateGroup,SourceChange,Find,ParseVariableString,ToJSON,GroupsScheduleListInit,SetSchedulesInnerDialogSize,CreateSelect2){return function(params){function waitStop(){Wait("stop")}function textareaResize(textareaID){var textArea,formHeight,model,windowHeight,offset,rows;for(textArea=$("#"+textareaID),properties_scope.codeMirror&&(model=textArea.attr("ng-model"),properties_scope[model]=properties_scope.codeMirror.getValue(),properties_scope.codeMirror.destroy()),textArea.attr("rows",1),formHeight=$("#group_form").height(),windowHeight=$("#group-modal-dialog").height()-20,offset=Math.floor(windowHeight-formHeight),rows=Math.floor(offset/24),rows=rows<6?6:rows,textArea.attr("rows",rows);rows>6&&$("#group_form").height()>$("#group-modal-dialog").height();)rows--,textArea.attr("rows",rows);ParseTypeChange({scope:properties_scope,field_id:textareaID,onReady:waitStop})}function initSourceChange(){parent_scope.showSchedulesTab=!("edit"!==mode||!sources_scope.source||"manual"===sources_scope.source.value),SourceChange({scope:sources_scope,form:GroupForm})}var defaultUrl,choicesReady,elem,x,y,ww,wh,maxrows,group,parent_scope=params.scope,group_id=params.group_id,mode=params.mode,inventory_id=params.inventory_id,generator=GenerateForm,group_created=!1,master={},modal_scope=parent_scope.$new(),properties_scope=parent_scope.$new(),sources_scope=parent_scope.$new(),schedules_url="";defaultUrl="edit"===mode?GetBasePath("groups")+group_id+"/":null!==group_id?GetBasePath("groups")+group_id+"/children/":GetBasePath("inventory")+inventory_id+"/groups/",$("#properties-tab").empty(),$("#sources-tab").empty(),$("#schedules-list").empty(),$("#schedules-form").empty(),$("#schedules-detail").empty(),elem=document.getElementById("group-modal-dialog"),$compile(elem)(modal_scope);var form_scope=generator.inject(GroupForm,{mode:mode,id:"properties-tab",related:!1,scope:properties_scope}),source_form_scope=generator.inject(GroupForm,{mode:mode,id:"sources-tab",related:!1,scope:sources_scope});GetSourceTypeOptions({scope:sources_scope,variable:"source_type_options"}),sources_scope.source=GroupForm.fields.source.default,sources_scope.sourcePathRequired=!1,sources_scope[GroupForm.fields.source_vars.parseTypeName]="yaml",sources_scope.update_cache_timeout=0,properties_scope.parseType="yaml",ww=$(document).width(),wh=$("body").height(),ww>1199?(x=675,y=800>wh?wh-15:800,maxrows=18):ww<=1199&&ww>=768?(x=550,y=770>wh?wh-15:770,maxrows=12):(x=ww-20,y=770>wh?wh-15:770,maxrows=10),$("#group-modal-dialog").dialog({buttons:{Save:function(){modal_scope.saveGroup()},Cancel:function(){modal_scope.cancelModal()}},modal:!0,width:x,height:y,autoOpen:!1,minWidth:440,title:"edit"===mode?"Edit Group":"Add Group",closeOnEscape:!1,create:function(){$('.ui-dialog[aria-describedby="group-modal-dialog"]').find(".ui-dialog-titlebar button").empty().attr({class:"close"}).text("x"),$('.ui-dialog[aria-describedby="group-modal-dialog"]').find(".ui-dialog-buttonset button").each(function(){var c,h,i,l;l=$(this).text(),"Cancel"===l?(h="fa-times",c="btn btn-default",i="group-close-button",$(this).attr({class:c,id:i}).html('<i class="fa '+h+'"></i> Cancel')):"Save"===l&&(h="fa-check",c="btn btn-primary",i="group-save-button",$(this).attr({class:c,id:i}).html('<i class="fa '+h+'"></i> Save'))})},resizeStop:function(){var w,dialog=$('.ui-dialog[aria-describedby="group-modal-dialog"]'),titleHeight=dialog.find(".ui-dialog-titlebar").outerHeight(),buttonHeight=dialog.find(".ui-dialog-buttonpane").outerHeight(),content=dialog.find("#group-modal-dialog");content.width(dialog.width()-28),content.css({height:dialog.height()-titleHeight-buttonHeight-10}),"Properties"===$("#group_tabs .active a").text()?textareaResize("group_variables",properties_scope):"Schedule"===$("#group_tabs .active a").text()&&(w=$("#group_tabs").width()-18,$("#schedules-overlay").width(w),$("#schedules-form-container").width(w),SetSchedulesInnerDialogSize())},close:function(){$(".tooltip").each(function(){$(this).remove()}),$(".popover").each(function(){$(this).remove()}),properties_scope.codeMirror&&properties_scope.codeMirror.destroy(),sources_scope.codeMirror&&sources_scope.codeMirror.destroy(),$("#properties-tab").empty(),$("#sources-tab").empty(),$("#schedules-list").empty(),$("#schedules-form").empty(),$("#schedules-detail").empty(),$("#group-modal-dialog").hide(),$("#group-modal-dialog").dialog("destroy"),modal_scope.cancelModal()},open:function(){function updateButtonStatus(isValid){$('.ui-dialog[aria-describedby="group-modal-dialog"]').find(".btn-primary").prop("disabled",!isValid)}form_scope.$watch("group_form.$valid",updateButtonStatus),source_form_scope.$watch("source_form.$valid",updateButtonStatus),$("#group_name").focus(),Wait("stop")}}),$('#group_tabs a[data-toggle="tab"]').on("show.bs.tab",function(e){"Properties"===$(e.target).text()?(Wait("start"),setTimeout(function(){textareaResize("group_variables")},300)):"Source"===$(e.target).text()?sources_scope.source&&"ec2"===sources_scope.source.value?(Wait("start"),ParseTypeChange({scope:sources_scope,variable:"source_vars",parse_variable:GroupForm.fields.source_vars.parseTypeName,field_id:"source_source_vars",onReady:waitStop})):!sources_scope.source||"vmware"!==sources_scope.source.value&&"openstack"!==sources_scope.source.value?sources_scope.source&&"custom"===sources_scope.source.value&&(Wait("start"),ParseTypeChange({scope:sources_scope,variable:"extra_vars",parse_variable:GroupForm.fields.extra_vars.parseTypeName,field_id:"source_extra_vars",onReady:waitStop})):(Wait("start"),ParseTypeChange({scope:sources_scope,variable:"inventory_variables",parse_variable:GroupForm.fields.inventory_variables.parseTypeName,field_id:"source_inventory_variables",onReady:waitStop})):"Schedule"===$(e.target).text()&&$("#schedules-overlay").hide()}),modal_scope.groupVariablesLoadedRemove&&modal_scope.groupVariablesLoadedRemove(),modal_scope.groupVariablesLoadedRemove=modal_scope.$on("groupVariablesLoaded",function(){"edit"===mode&&group.has_inventory_sources&&Empty(group.summary_fields.inventory_source.source)&&sources_scope.source&&"manual"!==sources_scope.source.value?modal_scope.showSourceTab=!1:modal_scope.showSourceTab=!0,modal_scope.showSchedulesTab=!("edit"!==mode||!sources_scope.source||"manual"===sources_scope.source.value),"edit"===mode&&modal_scope.showSourceTab&&GroupsScheduleListInit({scope:modal_scope,url:schedules_url}),$("#group_tabs a:first").tab("show"),Wait("start"),$("#group-modal-dialog").dialog("open"),setTimeout(function(){textareaResize("group_variables",properties_scope)},300)}),modal_scope.removeLoadSourceData&&modal_scope.removeLoadSourceData(),modal_scope.removeLoadSourceData=modal_scope.$on("LoadSourceData",function(){sources_scope.source_url?(Rest.setUrl(sources_scope.source_url),Rest.get().success(function(data){var fld,i,j,flag,found,set,opts,list,form;form=GroupForm;for(fld in form.fields){if("checkbox_group"===fld)for(i=0;i<form.fields[fld].fields.length;i++)flag=form.fields[fld].fields[i],void 0!==data[flag.name]&&(sources_scope[flag.name]=data[flag.name],master[flag.name]=sources_scope[flag.name]);if("source"===fld){for(found=!1,data.source=""===data.source?"manual":data.source,i=0;i<sources_scope.source_type_options.length;i++)sources_scope.source_type_options[i].value===data.source&&(sources_scope.source=sources_scope.source_type_options[i],found=!0);found&&"manual"!==sources_scope.source.value?sources_scope.groupUpdateHide=!1:sources_scope.groupUpdateHide=!0,master.source=sources_scope.source}else"source_vars"===fld?(sources_scope.source_vars=ParseVariableString(data.source_vars),master.source_vars=sources_scope.variables):"inventory_script"===fld?(data.summary_fields.inventory_script=data.summary_fields.source_script,sources_scope.inventory_script=data.source_script,master.inventory_script=sources_scope.inventory_script):"source_regions"===fld?""===data[fld]?(sources_scope[fld]=data[fld],master[fld]=sources_scope[fld]):(sources_scope[fld]=data[fld].split(","),master[fld]=sources_scope[fld]):void 0!==data[fld]&&(sources_scope[fld]=data[fld],master[fld]=sources_scope[fld]);form.fields[fld].sourceModel&&data.summary_fields&&data.summary_fields[form.fields[fld].sourceModel]&&(sources_scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField],master[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField])}if(initSourceChange(),data.source_regions){if("ec2"===data.source||"rax"===data.source||"gce"===data.source||"azure"===data.source){for("ec2"===data.source?set=sources_scope.ec2_regions:"rax"===data.source?set=sources_scope.rax_regions:"gce"===data.source?set=sources_scope.gce_regions:"azure"===data.source&&(set=sources_scope.azure_regions),opts=[],list=data.source_regions.split(","),i=0;i<list.length;i++)for(j=0;j<set.length;j++)list[i]===set[j].value&&opts.push({id:set[j].value,text:set[j].label});master.source_regions=opts,CreateSelect2({element:"#source_source_regions",opts:opts})}}else master.source_regions=[{id:"all",text:"All"}];if(data.group_by&&"ec2"===data.source){for(set=sources_scope.ec2_group_by,opts=[],list=data.group_by.split(","),i=0;i<list.length;i++)for(j=0;j<set.length;j++)list[i]===set[j].value&&opts.push({id:set[j].value,text:set[j].label});master.group_by=opts,CreateSelect2({element:"#source_group_by",opts:opts})}sources_scope.group_update_url=data.related.update,modal_scope.$emit("groupVariablesLoaded")}).error(function(data,status){sources_scope.source="",ProcessErrors(modal_scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve inventory source. GET status: "+status})})):modal_scope.$emit("groupVariablesLoaded")}),sources_scope.removeScopeSourceTypeOptionsReady&&sources_scope.removeScopeSourceTypeOptionsReady(),sources_scope.removeScopeSourceTypeOptionsReady=sources_scope.$on("sourceTypeOptionsReady",function(){"add"===mode&&(sources_scope.source=Find({list:sources_scope.source_type_options,key:"value",val:""}),modal_scope.showSchedulesTab=!1)}),modal_scope.removeChoicesComplete&&modal_scope.removeChoicesComplete(),modal_scope.removeChoicesComplete=modal_scope.$on("choicesCompleteGroup",function(){Rest.setUrl(defaultUrl),Rest.get().success(function(data){group=data;for(var fld in GroupForm.fields)data[fld]&&(properties_scope[fld]=data[fld],master[fld]=properties_scope[fld]);schedules_url=data.related.inventory_source+"schedules/",properties_scope.variable_url=data.related.variable_data,sources_scope.source_url=data.related.inventory_source,modal_scope.$emit("LoadSourceData")}).error(function(data,status){ProcessErrors(modal_scope,data,status,{hdr:"Error!",msg:"Failed to retrieve group: "+defaultUrl+". GET status: "+status})})}),choicesReady=0,sources_scope.removeChoicesReady&&sources_scope.removeChoicesReady(),sources_scope.removeChoicesReady=sources_scope.$on("choicesReadyGroup",function(){CreateSelect2({element:"#source_source",multiple:!1}),choicesReady++,2===choicesReady&&("edit"===mode?modal_scope.$emit("choicesCompleteGroup"):(properties_scope.variables="---",master.variables=properties_scope.variables,modal_scope.$emit("groupVariablesLoaded")))}),GetChoices({scope:sources_scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"rax_regions",choice_name:"rax_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:sources_scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"ec2_regions",choice_name:"ec2_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:sources_scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"gce_regions",choice_name:"gce_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:sources_scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"azure_regions",choice_name:"azure_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:sources_scope,url:GetBasePath("inventory_sources"),field:"group_by",variable:"ec2_group_by",choice_name:"ec2_group_by_choices",callback:"choicesReadyGroup"}),Wait("start"),parent_scope.removeAddTreeRefreshed&&parent_scope.removeAddTreeRefreshed(),parent_scope.removeAddTreeRefreshed=parent_scope.$on("GroupTreeRefreshed",function(){Wait("stop");try{$("#group-modal-dialog").dialog("close")}catch(e){}}),modal_scope.removeSaveComplete&&modal_scope.removeSaveComplete(),modal_scope.removeSaveComplete=modal_scope.$on("SaveComplete",function(e,error){error||modal_scope.cancelModal()}),modal_scope.removeFormSaveSuccess&&modal_scope.removeFormSaveSuccess(),modal_scope.removeFormSaveSuccess=modal_scope.$on("formSaveSuccess",function(){var regions,r,i,group_by,parseError=!1,data={group:group_id,source:sources_scope.source&&"manual"!==sources_scope.source.value?sources_scope.source.value:"",source_path:sources_scope.source_path,credential:sources_scope.credential,overwrite:sources_scope.overwrite,overwrite_vars:sources_scope.overwrite_vars,source_script:sources_scope.inventory_script,update_on_launch:sources_scope.update_on_launch,update_cache_timeout:sources_scope.update_cache_timeout||0};if(sources_scope.source_regions){for(regions=$("#source_source_regions").select2("data"),r=[],i=0;i<regions.length;i++)r.push(regions[i].id);data.source_regions=r.join()}if(sources_scope.source&&"ec2"===sources_scope.source.value){for(data.instance_filters=sources_scope.instance_filters,group_by=$("#source_group_by").select2("data"),r=[],i=0;i<group_by.length;i++)r.push(group_by[i].id);data.group_by=r.join()}sources_scope.source&&"ec2"===sources_scope.source.value&&(data.source_vars=ToJSON(sources_scope.envParseType,sources_scope.source_vars,!0)),sources_scope.source&&"custom"===sources_scope.source.value&&(data.source_vars=ToJSON(sources_scope.envParseType,sources_scope.extra_vars,!0)),!sources_scope.source||"vmware"!==sources_scope.source.value&&"openstack"!==sources_scope.source.value||(data.source_vars=ToJSON(sources_scope.envParseType,sources_scope.inventory_variables,!0)),sources_scope.source&&"custom"===sources_scope.source.value&&delete data.credential,parseError||(Rest.setUrl(sources_scope.source_url),Rest.put(data).success(function(){modal_scope.$emit("SaveComplete",!1)}).error(function(data,status){$("#group_tabs a:eq(1)").tab("show"),ProcessErrors(sources_scope,data,status,GroupForm,{hdr:"Error!",msg:"Failed to update group inventory source. PUT status: "+status})}))}),modal_scope.cancelModal=function(){try{$("#group-modal-dialog").dialog("close")}catch(e){}Wait("stop")},modal_scope.saveGroup=function(){Wait("start");var fld,data,json_data;try{json_data=ToJSON(properties_scope.parseType,properties_scope.variables,!0),data={};for(fld in GroupForm.fields)data[fld]=properties_scope[fld];data.inventory=inventory_id,Rest.setUrl(defaultUrl),"edit"===mode||"add"===mode&&group_created?Rest.put(data).success(function(){modal_scope.$emit("formSaveSuccess")}).error(function(data,status){$("#group_tabs a:eq(0)").tab("show"),ProcessErrors(properties_scope,data,status,GroupForm,{hdr:"Error!",msg:"Failed to update group: "+group_id+". PUT status: "+status})}):Rest.post(data).success(function(data){group_created=!0,group_id=data.id,sources_scope.source_url=data.related.inventory_source,modal_scope.$emit("formSaveSuccess")}).error(function(data,status){$("#group_tabs a:eq(0)").tab("show"),ProcessErrors(properties_scope,data,status,GroupForm,{hdr:"Error!",msg:"Failed to create group: "+group_id+". POST status: "+status})})}catch(e){}},modal_scope.updateGroup=function(){"manual"===sources_scope.source||null===sources_scope.source?Alert("Missing Configuration","The selected group is not configured for updates. You must first edit the group, provide Source settings, and then run an update.","alert-info"):"updating"===sources_scope.status?Alert("Update in Progress","<div>The inventory update process is currently running for group <em>"+$filter("sanitize")(sources_scope.summary_fields.group.name)+"</em>. Use the Refresh button to monitor the status.</div>","alert-info",null,null,null,null,!0):InventoryUpdate({scope:parent_scope,group_id:group_id,url:properties_scope.group_update_url,group_name:properties_scope.name,group_source:sources_scope.source.value})},sources_scope.sourceChange=function(){sources_scope.credential_name="",sources_scope.credential="",sources_scope.credential_name_api_error&&delete sources_scope.credential_name_api_error,initSourceChange()}}}])}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _listGenerator=__webpack_require__(115),_listGenerator2=_interopRequireDefault(_listGenerator),_toolbarButton=__webpack_require__(117),_toolbarButton2=_interopRequireDefault(_toolbarButton),_generatorHelpers=__webpack_require__(118),_generatorHelpers2=_interopRequireDefault(_generatorHelpers),_main=__webpack_require__(122),_main2=_interopRequireDefault(_main);exports.default=angular.module("listGenerator",[_generatorHelpers2.default.name,_main2.default.name]).factory("generateList",_listGenerator2.default).directive("toolbarButton",_toolbarButton2.default)},function(module,exports,__webpack_require__){(function(_,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default=["$location","$compile","$rootScope","Attr","Icon","Column","DropDown","NavigationLink","SelectIcon","ActionButton","i18n",function($location,$compile,$rootScope,Attr,Icon,Column,DropDown,NavigationLink,SelectIcon,ActionButton,i18n){return{setList:function(list){this.list=list},setOptions:function(options){this.options=options},attr:Attr,icon:Icon,has:function(key){return!(!this.form[key]||null===this.form[key]||void 0===this.form[key])},buildHTML:function(list,options){return this.setList(list),this.build(options)},build:function(options){function buildTable(){var extraClasses=list.class,multiSelect=list.multiSelect?"multi-select-list":null,multiSelectExtended=list.multiSelectExtended?"true":"false";return"summary"===options.mode&&(extraClasses+=" table-summary"),$("<table>").attr("id",list.name+"_table").addClass("List-table").addClass(extraClasses).attr("multi-select-list",multiSelect).attr("is-extended",multiSelectExtended)}this.list=options.list,this.options=options;var base,action,fld,cnt,field_action,fAction,itm,html="",list=this.list;if("lookup"!==options.mode&&options.title!==!1&&list.title!==!1&&void 0!==list.listTitle&&(html+='<div class="List-header" >',html+='<div class="List-title">',list.listTitle&&options.listTitle!==!1&&(html+='<div class="List-titleText">'+list.listTitle+"</div>",list.listTitleBadge="boolean"!=typeof list.listTitleBadge||list.listTitleBadge!==!1,list.listTitleBadge&&(html+='<span class="badge List-titleBadge">{{ '+list.iterator+"_dataset.count }}</span>")),html+="</div>",options.cancelButton===!0&&(html+='<div class="Form-exitHolder">',html+='<button class="Form-exit" ng-click="formCancel()">',html+='<i class="fa fa-times-circle"></i>',html+="</button></div>\n"),html+="</div>"),"edit"===options.mode&&list.editInstructions&&(html+='<div class="alert alert-info alert-block">\n',html+='<button type="button" class="close" data-dismiss="alert"><i class="fa fa-times-circle"></i></button>\n',html+="<strong>Hint: </strong>"+list.editInstructions+"\n",html+="</div>\n"),options.instructions?html+='<div class="instructions alert alert-info">'+options.instructions+"</div>\n":list.instructions&&(html+='<div class="instructions alert alert-info">'+list.instructions+"</div>\n"),"lookup"!==options.mode&&(void 0===list.well||list.well)){html+='<div class="'+list.name+'List List-well">',html+='<div class="List-actionHolder">',html+='<div class="List-actions">',html+="<div ng-include=\"'"+(0,_templateUrl.templateUrl)("shared/list-generator/list-actions")+"'\">";for(action in list.actions)list.actions[action]=_.defaults(list.actions[action],{dataPlacement:"top"});html+="</div>",list.toolbarAuxAction&&(html+='<div class="List-auxAction">'+list.toolbarAuxAction+"</div>"),html+="\n</div>",html+="</div>"}if(html+=list.searchRowActions?"<div class='row'><div class=\"col-lg-8 col-md-8 col-sm-8 col-xs-12\">":"",list.searchRowActions&&!list.searchSize&&(list.searchSize="col-lg-7 col-md-12 col-sm-12 col-xs-12"),void 0!==options.showSearch&&options.showSearch!==!0||(html+='\n                    <div ng-hide="'+list.name+'.length === 0 && (searchTags | isEmpty)">\n                        <smart-search\n                            django-model="'+list.name+'"\n                            search-size="'+list.searchSize+'"\n                            base-path="'+(list.basePath||list.name)+'"\n                            iterator="'+list.iterator+'"\n                            dataset="'+list.iterator+'_dataset"\n                            list="list"\n                            collection="'+list.name+'"\n                            default-params="'+list.iterator+'_default_params"\n                            query-set="'+list.iterator+'_queryset"\n                            search-tags="searchTags">\n                        </smart-search>\n                    </div>\n                        '),list.searchRowActions){html+="</div><div class='col-lg-4 col-md-4 col-sm-4 col-xs-12'>";var actionButtons="";Object.keys(list.searchRowActions||{}).forEach(function(act){actionButtons+=ActionButton(list.searchRowActions[act])}),html+='\n                            <div class="list-actions">\n                                '+actionButtons+"\n                            </div>\n                        ",html+="</div></div>"}options.showSearch!==!1&&(html+='\n                        <div class="row" ng-show="'+list.name+'.length === 0 && !(searchTags | isEmpty)">\n                            <div class="col-lg-12 List-searchNoResults">No records matched your search.</div>\n                        </div>\n                        '),void 0!==options.showEmptyPanel&&options.showEmptyPanel!==!0||(html+='<div class="List-noItems" ng-show="'+list.name+'.length === 0 && (searchTags | isEmpty)">',html+=list.emptyListText?list.emptyListText:i18n._("PLEASE ADD ITEMS TO THIS LIST"),html+="</div>"),"lookup"!==options.mode&&list.showTitle&&(html+='<div class="form-title">',html+="edit"===options.mode||"summary"===options.mode?list.editTitle:list.addTitle,html+="</div>\n"),html+='<div class="list-table-container" ng-show="'+list.name+'.length > 0"',html+=list.awCustomScroll?" aw-custom-scroll ":"",html+=">\n";var table=buildTable(),innerTable="";options.skipTableHead||(innerTable+=this.buildHeader(options)),innerTable+="lookup"===options.mode?'<tbody ng-init="selection.'+list.iterator+" = {id: $parent."+list.iterator+", name: $parent."+list.iterator+'_name}">':'"<tbody>\n"',innerTable+='<tr ng-class="['+list.iterator,innerTable+="lookup"===options.mode||"select"===options.mode?".success_class":".active_class",list.multiSelect&&(innerTable+=", "+list.iterator+".isSelected ? 'is-selected-row' : ''"),innerTable+=']" ',innerTable+='id="{{ '+list.iterator+'.id }}" ',innerTable+='class="List-tableRow '+list.iterator+'_class" ',innerTable+="ng-class-odd=\"'List-tableRow--oddRow'\" ",innerTable+="ng-class-even=\"'List-tableRow--evenRow'\" ",innerTable+='ng-repeat="'+list.iterator+" in "+list.name,innerTable+=list.trackBy?" track by "+list.trackBy:"",innerTable+=list.orderBy?" | orderBy:'"+list.orderBy+"'":"",
innerTable+=list.filterBy?" | filter: "+list.filterBy:"",innerTable+='">\n',list.index&&(innerTable+='<td class="index-column hidden-xs List-tableCell">{{ $index + (('+list.iterator+"_page - 1) * "+list.iterator+"_page_size) + 1 }}.</td>\n"),list.multiSelect&&(innerTable+='<td class="col-xs-1 select-column List-staticColumn--smallStatus"><select-list-item item="'+list.iterator+'"></select-list-item></td>'),"lookup"===options.mode&&(innerTable+="radio"===options.input_type?'<td class="List-tableCell"> <input type="radio" ng-model="'+list.iterator+'.checked" ng-value="1" ng-false-value="0" name="check_'+list.iterator+"_{{"+list.iterator+'.id}}" ng-click="toggle_row('+list.iterator+'.id)"></td>':'<td class="List-tableCell select-column List-staticColumn--smallStatus"><input type="checkbox" ng-model="'+list.iterator+'.checked" name="check_{{'+list.iterator+'.id }}" ng-click="toggle_'+list.iterator+"("+list.iterator+'.id, true)" ng-true-value="1" ng-false-value="0" id="check_'+list.iterator+"_{{"+list.iterator+'.id}}" /></td>'),cnt=2,base=list.base?list.base:list.name,base=base.replace(/^\//,"");for(fld in list.fields)cnt++,void 0!==list.fields[fld].searchOnly&&list.fields[fld].searchOnly!==!1||"lookup"===options.mode&&list.fields[fld].excludeModal===!0||(innerTable+=Column({list:list,fld:fld,options:options,base:base}));if("select"===options.mode)innerTable+="radio"===options.input_type?'<td class="List-tableCell"><input type="radio" ng-model="'+list.iterator+'.checked" name="check_{{'+list.iterator+'.id }}" ng-click="toggle_'+list.iterator+"("+list.iterator+'.id, true)" ng-value="1" ng-false-value="0" id="check_{{'+list.iterator+'.id}}" /></td>':'<td class="List-tableCell"><input type="checkbox" ng-model="'+list.iterator+'.checked" name="check_{{'+list.iterator+'.id }}" ng-click="toggle_'+list.iterator+"("+list.iterator+'.id, true)" ng-true-value="1" ng-false-value="0" id="check_{{'+list.iterator+'.id}}" /></td>';else if(("edit"===options.mode||"summary"===options.mode)&&list.fieldActions){innerTable+='<td class="List-actionsContainer"><div class="List-actionButtonCell List-tableCell">';var handleEditStateParams=function(stateParams){var matchingConditions=[];return angular.forEach(stateParams,function(stateParam){matchingConditions.push("$stateParams['"+stateParam+("'] == "+list.iterator+".id"))}),matchingConditions};for(field_action in list.fieldActions)if("columnClass"!==field_action)if(list.fieldActions[field_action].type&&"DropDown"===list.fieldActions[field_action].type)innerTable+=DropDown({list:list,fld:field_action,options:options,base:base,type:"fieldActions",td:!1});else{if(fAction=list.fieldActions[field_action],innerTable+='<button id="',innerTable+=fAction.id?fAction.id:field_action+"-action",innerTable+='" ',innerTable+=fAction.href?'href="'+fAction.href+'" ':"",innerTable+=fAction.ngHref?'ng-href="'+fAction.ngHref+'" ':"",innerTable+='class="List-actionButton ',innerTable+="delete"===field_action||"cancel"===field_action?"List-actionButton--delete":"",innerTable+='" ',"edit"===field_action)if(list.fieldActions[field_action].editStateParams){var matchingConditions=handleEditStateParams(list.fieldActions[field_action].editStateParams);innerTable+="ng-class=\"{'List-editButton--selected' : "+matchingConditions.join(" || ")+'}"'}else innerTable+="ng-class=\"{'List-editButton--selected' : $stateParams['"+list.iterator+"_id'] == "+list.iterator+'.id}"';innerTable+=fAction.awPopOver?'aw-pop-over="'+fAction.awPopOver+'" ':"",innerTable+=fAction.dataPlacement?Attr(fAction,"dataPlacement"):"",innerTable+=fAction.dataTitle?Attr(fAction,"dataTitle"):"";for(itm in fAction)"ngHref"!==itm&&"href"!==itm&&"label"!==itm&&"icon"!==itm&&"class"!==itm&&"iconClass"!==itm&&"dataPlacement"!==itm&&"awPopOver"!==itm&&"dataTitle"!==itm&&(innerTable+=Attr(fAction,itm));innerTable+=">",innerTable+=fAction.iconClass?'<i class="'+fAction.iconClass+'"></i>':SelectIcon({action:field_action}),innerTable+="</button>"}innerTable+="</div></td>\n"}return innerTable+="</tr>\n",innerTable+="</tbody>\n",table.html(innerTable),html+=table.prop("outerHTML"),html+="</div><!-- table container -->\n","select"!==options.mode||void 0!==options.selectButton&&!options.selectButton||(html+='<div class="navigation-buttons">\n',html+=' <button class="btn btn-sm btn-primary pull-right" id="select_btn" aw-tool-tip="Complete your selection" ng-click="finishSelection()" ng-disabled="disableSelectBtn"><i class="fa fa-check"></i> Select</button>\n',html+="</div>\n"),void 0!==options.paginate&&options.paginate!==!0||(html+='<paginate\n                    base-path="'+(list.basePath||list.name)+'"\n                    collection="'+list.name+'"\n                    dataset="'+list.iterator+'_dataset"\n                    iterator="'+list.iterator+'"\n                    query-set="'+list.iterator+'_queryset"',html+=list.maxVisiblePages?'max-visible-pages="'+list.maxVisiblePages+'"':"",html+="></paginate></div>"),html},buildHeader:function(options){function buildSelectAll(){return $("<th>").addClass("col-xs-1 select-column List-tableHeader List-staticColumn--smallStatus").append($("<select-all>").attr("selections-empty","selectedItems.length === 0").attr("items-length",list.name+".length").attr("label",""))}var fld,html,list=this.list;if(void 0===options&&(options=this.options),html="<thead>\n",html+='<tr class="List-tableHeaderRow">\n',list.index&&(html+='<th class="col-lg-1 col-md-1 col-sm-2 hidden-xs List-tableHeader">#</th>\n'),list.multiSelect?html+=buildSelectAll().prop("outerHTML"):"lookup"===options.mode&&(html+='<th class="List-tableHeader  select-column List-staticColumn--smallStatus"></th>'),"lookup"!==options.mode)for(fld in list.fields){var customClass=list.fields[fld].columnClass||"";html+='<th\n                                base-path="'+(list.basePath||list.name)+'"\n                                collection="'+list.name+'"\n                                dataset="'+list.iterator+'_dataset"\n                                column-sort\n                                column-field="'+(list.fields[fld].searchField||fld)+'"\n                                column-iterator="'+list.iterator+'"\n                                column-no-sort="'+list.fields[fld].nosort+'"\n                                column-label="'+list.fields[fld].label+'"\n                                column-custom-class="'+customClass+'"\n                                query-set="'+list.iterator+'_queryset">\n                            </th>'}if("lookup"===options.mode){var _customClass=list.fields.name.modalColumnClass||"";html+='<th\n                            base-path="'+(list.basePath||list.name)+'"\n                            collection="'+list.name+'"\n                            dataset="'+list.iterator+'_dataset"\n                            column-sort\n                            column-field="name"\n                            column-iterator="'+list.iterator+'"\n                            column-no-sort="'+list.fields.name.nosort+'"\n                            column-label="'+list.fields.name.label+'"\n                            column-custom-class="'+_customClass+'"\n                            query-set="'+list.iterator+'_queryset">\n                        </th>',list.fields.info&&(_customClass=list.fields.name.modalColumnClass||"",html+='<th\n                                    class="List-tableHeader--info"\n                                    base-path="'+(list.basePath||list.name)+'"\n                                    collection="'+list.name+'"\n                                    dataset="'+list.iterator+'_dataset"\n                                    column-sort\n                                    column-field="info"\n                                    column-iterator="'+list.iterator+'"\n                                    column-no-sort="'+list.fields.info.nosort+'"\n                                    column-label="'+list.fields.info.label+'"\n                                    column-custom-class="'+_customClass+'"\n                                    query-set="'+list.iterator+'_queryset">\n                                </th>')}return"select"===options.mode?html+='<th class="List-tableHeader col-lg-1 col-md-1 col-sm-2 col-xs-2">Select</th>':"edit"===options.mode&&list.fieldActions&&(html+='<th class="List-tableHeader List-tableHeader--actions actions-column',html+=list.fieldActions&&list.fieldActions.columnClass?" "+list.fieldActions.columnClass:"",html+='">',html+=void 0===list.fieldActions.label||list.fieldActions.label?i18n._("Actions"):"",html+="</th>\n"),html+="</tr>\n",html+="</thead>\n"},wrapPanel:function(html){return'<div class="Panel">'+html+"</div>"},insertFormView:function(){return'<div ui-view="form"></div>'}}}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";function templateUrl(path){return _templateUrl(null,path)}function _templateUrl($sce,path,isTrusted){isTrusted=isTrusted!==!1;var parts=["","static/partials"];parts.push(path);var url=parts.join("/")+".partial.html";return isTrusted&&$sce&&(url=$sce.trustAsResourceUrl(url)),url}Object.defineProperty(exports,"__esModule",{value:!0}),exports.templateUrl=templateUrl,exports.default=["$sce",function($sce){return _.partial(_templateUrl,$sce)}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$compile","Attr","SelectIcon",function($compile,Attr,SelectIcon){return{restrict:"A",scope:{},link:function(scope,element,attrs){var toolbar=attrs.toolbar;if(toolbar&&(attrs.class="btn-xs btn-primary",attrs.iconSize="fa-lg"),element.addClass("btn"),_.isEmpty(attrs.class)?element.addClass("btn-sm"):element.addClass(attrs.class),attrs.awPopOver&&element.addClass("help-link-white"),attrs.iconName&&_.isEmpty(attrs.id)&&element.attr("id",attrs.iconName+"_btn"),_.isEmpty(attrs.img)||$("<img>").attr("src",$basePath+"assets/"+attrs.img).css({width:"12px",height:"12px"}).appendTo(element),_.isEmpty(attrs.iconClass)){var icon=SelectIcon({action:attrs.iconName,size:attrs.iconSize});$(icon).appendTo(element)}else $("<i>").addClass(attrs.iconClass).appendTo(element);toolbar||_.isEmpty(attrs.label)||element.text(attrs.label)}}}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(119),_main2=_interopRequireDefault(_main);exports.default=angular.module("GeneratorHelpers",[_main2.default.name]).factory("Attr",function(){return function(obj,key,fld){var i,s,result,value="string"==typeof obj[key]?obj[key].replace(/[\'\"]/g,"&quot;"):obj[key];if(/^ng/.test(key))result="ng-"+key.replace(/^ng/,"").toLowerCase()+'="'+value+'" ';else if(/^data|^aw/.test(key)&&"awPopOver"!==key){for(s="",i=0;i<key.length;i++)s+=/[A-Z]/.test(key.charAt(i))?"-"+key.charAt(i).toLowerCase():key.charAt(i);result=s+'="'+value+'" '}else switch(key){case"trueValue":result="ng-true-value=\"'"+value+"'\" ";break;case"falseValue":result="ng-false-value=\"'"+value+"'\" ";break;case"awPopOver":result='<a id="awp-'+fld+'" href="" aw-pop-over=\''+value+"' ",result+=obj.dataPlacement?'data-placement="'+obj.dataPlacement+'" ':"",result+=obj.dataContainer?'data-container="'+obj.dataContainer+'" ':"",result+=obj.dataTitle?'over-title="'+obj.dataTitle+'" ':"",result+=obj.dataTrigger?'data-trigger="'+obj.dataTrigger+'" ':"",result+=obj.awPopOverWatch?'aw-pop-over-watch="'+obj.awPopOverWatch+'" ':"",result+='class="help-link" ',result+='><i class="fa fa-question-circle"></i></a> ';break;case"columnShow":result='ng-show="'+value+'" ';break;case"iconName":result='icon-name="'+value+'" ';break;case"iconSize":result='icon-size="'+value+'" ';break;case"icon":result='<i class="fa fa-'+value,result+=obj.iconSize?" "+obj.iconSize:"",result+='"></i>';break;case"autocomplete":result='autocomplete="',result+=value?"true":"false",result+='" ';break;case"columnClass":result='class="',result+=value,result+='"';break;case"awLookupWhen":result='ng-attr-awlookup="'+value+'" ';break;default:result=key+'="'+value+'" '}return result}}).factory("Icon",function(){return function(icon){return'<i class="fa '+icon+'"></i> '}}).factory("SelectIcon",["Icon",function(Icon){return function(params){var icon,action=params.action,size=params.size;switch(action){case"system_tracking":icon="fa-crosshairs";break;case"help":icon="fa-question-circle";break;case"add":case"create":icon="fa-plus";break;case"edit":icon="fa-pencil";break;case"delete":icon="fa-trash-o";break;case"group_update":icon="fa-refresh";break;case"scm_update":icon="fa-cloud-download";break;case"run":case"rerun":case"submit":icon="icon-launch";break;case"launch":icon="icon-launch";break;case"stream":icon="fa-clock-o";break;case"socket":icon="fa-power-off";break;case"refresh":icon="fa-refresh";break;case"close":icon="fa-arrow-left";break;case"form_submit":icon="fa-check-square-o";break;case"properties":icon="fa-pencil";break;case"reset":icon="fa-undo";break;case"view":icon="fa-search-plus";break;case"sync_status":icon="fa-cloud";break;case"schedule":icon="fa-calendar";break;case"question_cancel":icon="fa-times";break;case"job_details":icon="fa-list-ul";break;case"test":icon="fa-bell-o";break;case"copy":icon="fa-copy";break;case"cancel":icon="fa-minus-circle"}return icon+=size?" "+size:"",Icon(icon)}}]).factory("NavigationLink",["Attr","Icon",function(Attr,Icon){return function(link){var html="<a ";return html+=link.href?Attr(link,"href"):"",html+=link.ngClick?Attr(link,"ngClick"):"",html+=link.ngShow?Attr(link,"ngShow"):"",html+=">",html+=link.icon?Icon(link.icon):"",html+=link.label?link.label:"",html+="</a>\n"}}]).factory("DropDown",["Attr","Icon",function(Attr,Icon){return function(params){var i,html,field,name,list=params.list,fld=params.fld;for(field=params.field?params.field:params.type?list[params.type][fld]:list.fields[fld],name=field.label.replace(/ /g,"_"),html=void 0===params.td||params.td!==!1?'<td class="'+fld+'-column">\n':"",html+='<div class="dropdown">\n',html+='<a href="" class="toggle',html+='" ',html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+=field.ngShow?'ng-show="'+field.ngShow+'" ':"",html+='data-toggle="dropdown" ',html+=">",html+=field.icon?Icon(field.icon):"",html+=field.label,html+=' <span class="caret"></span></a>\n',html+='<ul class="dropdown-menu pull-right" role="menu" aria-labelledby="dropdownMenu1">\n',i=0;i<field.options.length;i++)html+='<li role="presentation"><a role="menuitem" tabindex="-1" ',html+=field.options[i].ngClick?'ng-click="'+field.options[i].ngClick+'" ':"",html+=field.options[i].ngHref?'ng-href="'+field.options[i].ngHref+'" ':"",html+=field.options[i].ngShow?'ng-show="'+field.options[i].ngShow+'" ':"",html+=field.options[i].ngHide?'ng-hide="'+field.options[i].ngHide+'" ':"",html+='href="">'+field.options[i].label+"</a></li>\n";return html+="</ul>\n",html+="</div>\n",html+=void 0===params.td||params.td!==!1?"</td>\n":""}}]).factory("BadgeCount",[function(){return function(params){var list=params.list,fld=params.fld,field=list.fields[fld],html="";return html='<td class="'+fld+"-column",html+=field.columnClass?" "+field.columnClass:"",html+='">\n',field.noLink||(html+='<a ng-href="'+field.ngHref+'" aw-tool-tip="'+field.awToolTip+'"',html+=field.dataPlacement?' data-placement="'+field.dataPlacement+'"':"",html+=">"),html+='<span class="badge List-titleBadge"',html+=' aw-tool-tip="'+field.awToolTip+'"',html+=field.dataPlacement?' data-placement="'+field.dataPlacement+'"':"",html+=field.class?" "+field.class:"",html+=field.ngHide?'" ng-hide="'+field.ngHide:"",html+='">',html+="{{ "+list.iterator+"."+fld+" }}",html+="</span>",html+=field.badgeLabel?" "+field.badgeLabel:"",html+="</a>\n",html+="</td>\n"}}]).factory("Badge",[function(){return function(field){var i,html="";if(field.badges)for(i=0;i<field.badges.length;i++)field.badges[i].toolTip&&(html+='<a href="" aw-tool-tip="'+field.badges[i].toolTip+'"',html+=field.badges[i].toolTipPlacement?' data-placement="'+field.badges[i].toolTipPlacement+'"':"",html+=field.badges[i].badgeShow?' ng-show="'+field.badges[i].badgeShow+'"':"",html+=">"),html+="<i ",html+=field.badges[i].badgeShow?'ng-show="'+field.badges[i].badgeShow+'" ':"",html+=' class="field-badge '+field.badges[i].icon,html+=field.badges[i].badgeClass?" "+field.badges[i].badgeClass:"",html+='"></i>',field.badges[i].toolTip&&(html+="</a>"),html+="\n";else field.badgeCustom===!0?html+=field.badgeIcon:(field.badgeToolTip&&(html+="<a ",html+=field.badgeNgHref?'ng-href="'+field.badgeNgHref+'" ':'href=""',html+=field.ngClick?'ng-click="'+field.ngClick+'" ':"",html+=' aw-tool-tip="'+field.badgeToolTip+'"',html+=field.badgeTipPlacement?' data-placement="'+field.badgeTipPlacement+'"':"",html+=field.badgeTipWatch?' data-tip-watch="'+field.badgeTipWatch+'"':"",html+=field.badgeShow?' ng-show="'+field.badgeShow+'"':"",html+=">"),html+="<i ",html+=field.badgeShow?'ng-show="'+field.badgeShow+'" ':"",html+=' class="fa '+field.badgeIcon,html+=field.badgeClass?" "+field.badgeClass:"",html+='"></i>',field.badgeToolTip&&(html+="</a>"),html+="\n");return html}}]).factory("BuildLink",["Attr","Icon",function(Attr,Icon){return function(params){var html="",field=params.field,list=params.list,base=params.base,fld=params.fld;return html+=field.linkTo?'<a href="'+field.linkTo+'" ':field.ngClick?'<a href="" '+Attr(field,"ngClick")+" ":field.ngHref?'<a ng-href="'+field.ngHref+'" ':field.link||field.key&&(void 0===field.link||field.link)?'<a href="#/'+base+"/{{"+list.iterator+'.id }}" ':'<a href=""',field.awDroppable&&(html+=Attr(field,"awDroppable"),html+=field.dataAccept?Attr(field,"dataAccept"):""),field.awDraggable&&(html+=Attr(field,"awDraggable"),html+=field.dataContainment?Attr(field,"dataContainment"):"",html+=field.dataTreeId?Attr(field,"dataTreeId"):"",html+=field.dataGroupId?Attr(field,"dataGroupId"):"",html+=field.dataHostId?Attr(field,"dataHostId"):"",html+=field.dataType?Attr(field,"dataType"):""),field.awToolTip&&(html+=Attr(field,"awToolTip"),html+=field.dataPlacement&&!field.awPopOver?Attr(field,"dataPlacement"):"",html+=field.dataTipWatch?Attr(field,"dataTipWatch"):"",html+=field.awTipPlacement?Attr(field,"awTipPlacement"):""),field.awPopOver&&(html+='aw-pop-over="'+field.awPopOver+'" ',html+=field.dataPlacement?'data-placement="'+field.dataPlacement+'" ':"",html+=field.dataTitle?'over-title="'+field.dataTitle+'" ':""),html+=field.ngClass?Attr(field,"ngClass"):"",html+=field.ngEllipsis?'data-ng-bind="'+list.iterator+"."+fld+'" data-ellipsis ':"",html+=">",field.ngShowIcon?html+='<i ng-show="'+field.ngShowIcon+'" class="'+field.icon+'"></i> ':field.icon&&(html+=Icon(field.icon)+" "),field.ngBindHtml||field.iconOnly||field.ngEllipsis||void 0!==field.showValue&&field.showValue!==!0||(html+=field.ngBind?"{{ "+field.ngBind:"{{"+list.iterator+"."+fld,html+=field.filter?" | "+field.filter+" }}":" }}"),field.text&&(html+=field.text),html+="</a>",field.alt_text&&(html+=" &nbsp"+field.alt_text),html}}]).factory("Template",["Attr",function(Attr){return function(field){var ngClass=field.ngClass?Attr(field,"ngClass"):null,classList=field.columnClass?Attr(field,"columnClass"):null,ngInclude=field.ngInclude?Attr(field,"ngInclude"):null,attrs=_.compact([ngClass,classList,ngInclude]);return"<td "+attrs.join(" ")+"></td>"}}]).factory("Column",["i18n","Attr","Icon","DropDown","Badge","BadgeCount","BuildLink","Template",function(i18n,Attr,Icon,DropDown,Badge,BadgeCount,BuildLink,Template){return function(params){var classList,list=params.list,fld=params.fld,options=params.options,base=params.base,field=list.fields[fld],html="";if(void 0!==field.type&&"DropDown"===field.type)html=DropDown(params);else if("role"===field.type)classList=field.columnClass?Attr(field,"columnClass"):"",html+="\n<td "+classList+'>\n    <role-list delete-target="'+list.iterator+'" class="RoleList">\n    </role-list>\n</td>\n                ';else if("team_roles"===field.type)classList=field.columnClass?Attr(field,"columnClass"):"",html+="\n<td "+classList+'>\n    <role-list delete-target="'+list.iterator+'" class="RoleList" team-role-list="true">\n    </role-list>\n</td>\n                ';else if("labels"===field.type){var showDelete=void 0===field.showDelete||field.showDelete;classList=field.columnClass?Attr(field,"columnClass"):"",html+="\n<td "+classList+'>\n    <labels-list class="LabelList" show-delete="'+showDelete+'">\n    </labels-list>\n</td>\n                    '}else"owners"===field.type?(classList=field.columnClass?Attr(field,"columnClass"):"",html+="\n<td "+classList+">\n    <owner-list></owner-list>\n</td>\n                "):"badgeCount"===field.type?html=BadgeCount(params):"badgeOnly"===field.type?html=Badge(field):"template"===field.type?html=Template(field):"toggle"===field.type?(html+='<td class="List-tableCell '+fld+"-column",html+=field.class?" "+field.class:"",html+=field.columnClass?" "+field.columnClass:"",html+="\"><div class='ScheduleToggle' ng-class='{\"is-on\": "+list.iterator+".",html+=field.flag?field.flag:"enabled",html+=field.ngDisabled?', "ScheduleToggle--disabled": '+field.ngDisabled:"",html+="}' aw-tool-tip='"+field.awToolTip+"' data-placement='"+field.dataPlacement+"' data-tip-watch='"+field.dataTipWatch+"'><button ",html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+="ng-show='"+list.iterator+".",html+=field.flag?field.flag:"enabled",html+="' class='ScheduleToggle-switch is-on' ng-click='"+field.ngClick+"'>"+i18n._("ON")+"</button><button ",html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+="ng-show='!"+list.iterator+".",html+=field.flag?field.flag:"enabled",html+="' class='ScheduleToggle-switch' ng-click='"+field.ngClick+"'>"+i18n._("OFF")+"</button></div></td>"):(html+='<td class="List-tableCell '+fld+"-column",html+=field.class?" "+field.class:"","lookup"===options.mode&&field.modalColumnClass?html+=" "+field.modalColumnClass:field.columnClass&&(html+=" "+field.columnClass),html+='" ',html+=field.columnNgClass?' ng-class="'+field.columnNgClass+'"':"",html+="lookup"===options.mode||"select"===options.mode?' ng-click="toggle_row('+list.iterator+'.id)"':"",html+=field.columnShow?Attr(field,"columnShow"):"",html+=field.ngBindHtml?'ng-bind-html="'+field.ngBindHtml+'" ':"",html+=field.columnClick?'ng-click="'+field.columnClick+'" ':"",html+=field.awEllipsis?"aw-ellipsis ":"",html+=">\n",html+=field.ngShow?"<span "+Attr(field,"ngShow")+">":"","lookup"!==options.mode&&(field.badges||field.badgeIcon&&field.badgePlacement&&"left"===field.badgePlacement)&&(html+=Badge(field)),list.hasChildren&&field.hasChildren&&(html+='<div class="level level-{{ '+list.iterator+'.event_level }}"><a href="" ng-click="toggle('+list.iterator+'.id)"> <i class="{{ '+list.iterator+'.ngicon }}"></i></a></div>'),"groups"===list.name&&(html+='<div class="group-name">'),"hosts"===list.name&&(html+='<div class="host-name">'),!(field.key||field.link||field.linkTo||field.ngClick||field.ngHref||field.awToolTip||field.awPopOver)||"lookup"===options.mode||"select"===options.mode||field.noLink||field.ngBindHtml?(field.simpleTip&&(html+='<span aw-tool-tip="'+field.simpleTip.awToolTip+'" data-placement='+field.simpleTip.dataPlacement+">"),field.ngShowIcon?html+='<i ng-show="'+field.ngShowIcon+'" class="'+field.icon+'"></i> ':field.icon&&(html+=Icon(field.icon)+" "),field.ngBindHtml||field.iconOnly||void 0!==field.showValue&&field.showValue!==!0||(html+=field.ngBind?"{{ "+field.ngBind:"{{ "+list.iterator+"."+fld,html+=field.filter?" | "+field.filter+" }}":" }}"),field.text&&(html+=field.text),field.simpleTip&&(html+="</span>")):field.noLink===!0||(field.icons?field.icons.forEach(function(icon,idx){var key,i=field.icons[idx];for(key in i)field[key]=i[key];html+=BuildLink({list:list,field:field,fld:fld,base:field.linkBase||base})+" "}):html+=field.smartStatus?"<aw-smart-status></aw-smart-status>":BuildLink({list:list,field:field,fld:fld,base:field.linkBase||base})),"hosts"!==list.name&&"groups"!==list.name||(html+="</div>"),html+=field.ngShow?"</span>":"",html+=field.appendHTML?'<div ng-show="'+field.appendHTML+' !== null" ng-bind-html="'+field.appendHTML+'" class="level-{{ '+list.iterator+'.event_level }}-detail" ></div>\n':"","lookup"!==options.mode&&field.badgeIcon&&field.badgePlacement&&"left"!==field.badgePlacement&&(html+=Badge(field)));return html+="</td>\n"}}]).factory("HelpCollapse",function(){return function(params){var hdr=params.hdr,content=params.content,show=params.show,ngHide=params.ngHide,idx=params.idx,bind=params.bind,html="";return html+='<div class="panel-group collapsible-help" ',html+=show?'ng-show="'+show+'" ':"",html+=ngHide?'ng-hide="'+ngHide+'" ':"",html+=">\n",html+='<div class="panel panel-default">\n',html+='<div class="panel-heading" ng-click="accordionToggle(\'#accordion'+idx+"')\">\n",html+='<h4 class="panel-title">\n',html+=hdr,html+='<i class="fa fa-minus pull-right collapse-help-icon" id="accordion'+idx+'-icon"></i>',html+="</h4>\n",html+="</div>\n",html+='<div id="accordion'+idx+'" class="panel-collapse collapse in">\n',html+='<div class="panel-body" ',html+=bind?'ng-bind-html="'+bind+'" ':"",html+=">\n",html+=bind?"":content,html+="</div>\n",html+="</div>\n",html+="</div>\n",html+="</div>\n"}}).factory("ActionButton",function(){return function(options){var html="";return html+="<button ",html+=options.mode?'mode="'+options.mode+'" ':"",html+=options.awToolTip?'aw-tool-tip="'+options.awToolTip+'" ':"",html+=options.dataTipWatch?'data-tip-watch="'+options.dataTipWatch+'" ':"",html+=options.dataPlacement?'data-placement="'+options.dataPlacement+'" ':"",html+=options.dataContainer?'data-container="'+options.dataContainer+'" ':"",html+=options.actionClass?'class="'+options.actionClass+'" ':"",html+=options.dataTitle?'data-title="'+options.dataTitle+'" ':"",html+=options.ngDisabled?'ng-disabled="'+options.ngDisabled+'" ':"",html+=options.ngClick?'ng-click="$eval('+options.ngClick+')" ':"",html+=options.ngShow?'ng-show="'+options.ngShow+'" ':"",html+=options.ngHide?'ng-hide="'+options.ngHide+'" ':"",html+=options.awFeature?'aw-feature="'+options.awFeature+'" ':"",html+=">",html+="<span>",html+=options.buttonContent?options.buttonContent:"",html+="</span>",html+="</button>"}})}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _smartStatus=__webpack_require__(120),_smartStatus2=_interopRequireDefault(_smartStatus);exports.default=angular.module("systemStatus",[]).directive("awSmartStatus",_smartStatus2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _smartStatus=__webpack_require__(121),_smartStatus2=_interopRequireDefault(_smartStatus);exports.default=["templateUrl",function(templateUrl){return{scope:{jobs:"=",templateType:"=?"},templateUrl:templateUrl("smart-status/smart-status"),restrict:"E",controller:_smartStatus2.default}}]},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$filter",function($scope,$filter){function isFailureState(status){return"failed"===status||"error"===status||"canceled"===status}function init(){var firstJobStatus,detailsBaseUrl,singleJobStatus=!0,recentJobs=$scope.jobs;if(recentJobs){detailsBaseUrl="undefined"!=typeof $scope.templateType&&"workflow_job_template"===$scope.templateType?"/#/workflows/":"/#/jobs/";var sparkData=_.sortBy(recentJobs.map(function(job){var data={};return"successful"===job.status?(data.value=1,data.smartStatus='<i class="fa DashboardList-status SmartStatus-tooltip--success"></i>  '+job.status.toUpperCase()):isFailureState(job.status)?(data.value=-1,data.smartStatus='<i class="fa DashboardList-status SmartStatus-tooltip--failed"></i>  '+job.status.toUpperCase()):(data.value=0,data.smartStatus='<i class="fa DashboardList-status SmartStatus-tooltip--running"></i>  '+job.status.toUpperCase()),data.jobId=job.id,data.sortDate=job.finished||"running"+data.jobId,data.finished=$filter("longDate")(job.finished)||job.status+"",data.status_tip="JOB ID: "+data.jobId+"<br>STATUS: "+data.smartStatus+"<br>FINISHED: "+data.finished,data.detailsUrl=detailsBaseUrl+data.jobId,singleJobStatus&&(isFailureState(job.status)||"successful"===job.status)&&(firstJobStatus?isFailureState(firstJobStatus)&&isFailureState(job.status)||firstJobStatus===job.status||(singleJobStatus=!1):firstJobStatus=job.status),data}),"sortDate").reverse();$scope.singleJobStatus=singleJobStatus,$scope.sparkArray=sparkData}}$scope.$watchCollection("jobs",function(){init()})}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _multiSelectList=__webpack_require__(123),_multiSelectList2=_interopRequireDefault(_multiSelectList),_selectListItem=__webpack_require__(125),_selectListItem2=_interopRequireDefault(_selectListItem),_main=__webpack_require__(126),_main2=_interopRequireDefault(_main);exports.default=angular.module("multiSelectList",[_main2.default.name]).directive("multiSelectList",_multiSelectList2.default).directive("selectListItem",_selectListItem2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _multiSelectList=__webpack_require__(124),_multiSelectList2=_interopRequireDefault(_multiSelectList);exports.default=[function(){return{restrict:"A",scope:{},controller:_multiSelectList2.default}}]},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope",function($scope){function rebuildSelections(){var _items=_($scope.items).chain();$scope.selection.selectedItems=_items.filter(function(item){return item.isSelected}).pluck("value").value(),$scope.selection.deselectedItems=_items.pluck("value").difference($scope.selection.selectedItems).value(),$scope.$emit("multiSelectList.selectionChanged",$scope.selection)}$scope.items=[],$scope.selection={isExtended:!1,selectedItems:[],deselectedItems:[]},Object.defineProperty($scope.selection,"length",{get:function(){return this.selectedItems.length}}),this.registerItem=function(item){var foundItem=_.find($scope.items,function(existingItem){return existingItem.id===item.id});if(foundItem)return foundItem;var decoratedItem=this.decorateItem(item);return $scope.items=$scope.items.concat(decoratedItem),decoratedItem},this.deregisterItem=function(leavingItem){$scope.items=$scope.items.filter(function(item){return leavingItem!==item}),rebuildSelections()},this.decorateItem=function(item){return{isSelected:!1,id:item.id,value:item}},this.selectAll=function(){$scope.items.forEach(function(item){item.isSelected=!0}),rebuildSelections()},this.deselectAll=function(){$scope.items.forEach(function(item){item.isSelected=!1}),$scope.selection.isExtended=!1,rebuildSelections()},this.deselectAllExtended=function(){$scope.selection.isExtended=!1,rebuildSelections()},this.selectAllExtended=function(){$scope.selection.isExtended=!0,rebuildSelections()},this.selectItem=function(item){item.isSelected=!0,rebuildSelections()},this.deselectItem=function(item){item.isSelected=!1,rebuildSelections()}}]}).call(exports,__webpack_require__(2))},function(module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=[function(){return{restrict:"E",scope:{item:"=item"},require:"^multiSelectList",template:'<input type="checkbox" data-multi-select-list-item ng-model="item.isSelected" ng-click="userInteractionSelect()">',link:function(scope,element,attrs,multiSelectList){scope.decoratedItem=multiSelectList.registerItem(scope.item),scope.$watch("item.isSelected",function(value){value===!0?multiSelectList.selectItem(scope.decoratedItem):value===!1&&multiSelectList.deselectItem(scope.decoratedItem)}),scope.userInteractionSelect=function(){scope.$emit("selectedOrDeselected",scope.decoratedItem)}}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_templateUrl2=_interopRequireDefault(_templateUrl);exports.default=angular.module("templateUrl",[]).factory("templateUrl",_templateUrl2.default)},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(114),_main2=_interopRequireDefault(_main);exports.default=angular.module("HostsHelper",["RestServices","Utilities",_main2.default.name,"HostListDefinition",_main2.default.name,"HostsHelper","InventoryHelper","InventoryFormDefinition","SelectionHelper","HostGroupsFormDefinition","VariablesHelper","ModalDialog","StandardOutHelper","GroupListDefinition"]).factory("SetEnabledMsg",[function(){return function(host){host.has_inventory_sources?host.enabledToolTip=host.enabled?"Host is available":"Host is not available":host.enabledToolTip=host.enabled?"Host is available. Click to toggle.":"Host is not available. Click to toggle."}}]).factory("SetHostStatus",["SetEnabledMsg",function(SetEnabledMsg){return function(host){host.activeFailuresLink="/#/hosts/"+host.id+"/job_host_summaries/?inventory="+host.inventory+"&host_name="+encodeURI(host.name),host.has_active_failures===!0?(host.badgeToolTip="Most recent job failed. Click to view jobs.",host.active_failures="failed"):host.has_active_failures===!1&&null===host.last_job?(host.has_active_failures="none",host.badgeToolTip="No job data available.",host.active_failures="n/a"):host.has_active_failures===!1&&null!==host.last_job&&(host.badgeToolTip="Most recent job successful. Click to view jobs.",host.active_failures="success"),host.enabled_flag=host.enabled,SetEnabledMsg(host)}}]).factory("SetStatus",["$filter","SetEnabledMsg","Empty",function($filter,SetEnabledMsg,Empty){return function(params){function ellipsis(a){return a.length>25?a.substr(0,25)+"...":a}function noRecentJobs(){title="No job data",html="<p>No recent job data available for this host.</p>\n"}function setMsg(host){var j,job,jobs;if(host.has_active_failures===!0||host.has_active_failures===!1&&null!==host.last_job)if(host.has_active_failures===!0?(host.badgeToolTip="Most recent job failed. Click to view jobs.",host.active_failures="error"):(host.badgeToolTip="Most recent job successful. Click to view jobs.",host.active_failures="successful"),host.summary_fields.recent_jobs.length>0){for(jobs=host.summary_fields.recent_jobs.sort(function(a,b){return-1*(a-b)}),title="Recent Jobs",html='<table class="table table-condensed flyout" style="width: 100%">\n',html+="<thead>\n",html+="<tr>\n",html+="<th>Status</th>\n",html+="<th>Finished</th>\n",html+="<th>Name</th>\n",html+="</tr>\n",html+="</thead>\n",html+="<tbody>\n",j=0;j<jobs.length;j++){job=jobs[j],html+="<tr>\n";var iconStatus="successful"===job.status?"success":"failed";html+='<td><a href="#/jobs/'+job.id+'"><i class="fa DashboardList-status SmartStatus-tooltip--'+iconStatus+" icon-job-"+job.status+'"></i></a></td>\n',html+="<td>"+$filter("longDate")(job.finished).replace(/ /,"<br />")+"</td>\n",html+='<td class="break"><a href="#/jobs/'+job.id+'" aw-tool-tip="'+job.status.charAt(0).toUpperCase()+job.status.slice(1)+'. Click for details" data-placement="top">'+ellipsis(job.name)+"</a></td>\n",html+="</tr>\n"}html+="</tbody>\n",html+="</table>\n"}else noRecentJobs();else host.has_active_failures===!1&&null===host.last_job&&(host.badgeToolTip="No job data available.",host.active_failures="none",noRecentJobs());host.job_status_html=html,host.job_status_title=title}var i,html,title,scope=params.scope,host=params.host;if(Empty(host))for(i=0;i<scope.hosts.length;i++)setMsg(scope.hosts[i]),SetEnabledMsg(scope.hosts[i]);else setMsg(host),SetEnabledMsg(host)}}]).factory("HostsReload",["$stateParams","Empty","InventoryHosts","GetBasePath","Wait","SetHostStatus","SetStatus","ApplyEllipsis",function($stateParams,Empty,InventoryHosts,GetBasePath,Wait,SetHostStatus,SetStatus,ApplyEllipsis){return function(params){var scope=params.scope,parent_scope=params.parent_scope;scope.removeHostsReloadPostRefresh&&scope.removeHostsReloadPostRefresh(),scope.removeHostsReloadPostRefresh=scope.$on("PostRefresh",function(e,set){if("hosts"===set){for(var i=0;i<scope.hosts.length;i++)scope.hosts[i].enabled_flag=scope.hosts[i].enabled;SetStatus({scope:scope}),setTimeout(function(){ApplyEllipsis("#hosts_table .host-name a")},2500),Wait("stop"),parent_scope&&parent_scope.$emit("HostReloadComplete")}})}}]).factory("HostsCopy",["$compile","Rest","ProcessErrors","CreateDialog","GetBasePath","Wait","generateList","GroupList",function($compile,Rest,ProcessErrors,CreateDialog,GetBasePath,Wait,GenerateList,GroupList){return function(params){var buttonSet,url,host,host_id=params.host_id,group_scope=params.group_scope,parent_scope=params.host_scope,parent_group=group_scope.selected_group_id,scope=parent_scope.$new();buttonSet=[{label:"Cancel",onClick:function(){scope.cancel()},icon:"fa-times",class:"btn btn-default",id:"host-copy-cancel-button"},{label:"OK",onClick:function(){scope.performCopy()},icon:"fa-check",class:"btn btn-primary",id:"host-copy-ok-button"}],scope.removeHostCopyPostRefresh&&scope.removeHostCopyPostRefresh(),scope.removeHostCopyPostRefresh=scope.$on("PostRefresh",function(){scope.copy_groups.forEach(function(row,i){scope.copy_groups[i].checked="0"}),Wait("stop"),$("#host-copy-dialog").dialog("open"),$("#host-copy-ok-button").attr("disabled","disabled"),$(document).on("keydown",function(e){8!==e.which||$(e.target).is('input[type="text"], textarea')||e.preventDefault()})}),scope.removeHostCopyDialogReady&&scope.removeHostCopyDialogReady(),scope.removeCopyDialogReady=scope.$on("HostCopyDialogReady",function(){GenerateList.inject(GroupList,{mode:"lookup",id:"copy-host-select-container",scope:scope})}),scope.removeShowDialog&&scope.removeShowDialog(),scope.removeShowDialog=scope.$on("ShowDialog",function(){var d;scope.name=host.name,scope.copy_choice="copy",d=angular.element(document.getElementById("host-copy-dialog")),$compile(d)(scope),CreateDialog({id:"host-copy-dialog",scope:scope,buttons:buttonSet,width:650,height:650,minWidth:600,title:"Copy or Move Host",callback:"HostCopyDialogReady",onClose:function(){scope.cancel()}})}),Wait("start"),url=GetBasePath("hosts")+host_id+"/",Rest.setUrl(url),Rest.get().success(function(data){host=data,scope.$emit("ShowDialog")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. GET returned: "+status})}),scope.cancel=function(){$(document).off("keydown");try{$("#host-copy-dialog").dialog("close")}catch(e){}scope.$destroy()},scope["toggle_"+GroupList.iterator]=function(id){var count=0,list=GroupList;scope[list.name].forEach(function(row,i){row.id===id?row.checked?scope[list.name][i].success_class="success":scope[list.name][i].success_class="":(scope[list.name][i].checked=0,scope[list.name][i].success_class="")}),scope[list.name].forEach(function(row){row.checked&&count++}),0===count?$("#host-copy-ok-button").attr("disabled","disabled"):$("#host-copy-ok-button").removeAttr("disabled")},scope.performCopy=function(){var target,url,list=GroupList;Wait("start"),scope.use_root_group?target=null:scope[list.name].every(function(row){return 1!==row.checked||(target=row,!1)}),"move"===scope.copy_choice?(scope.removeHostRemove&&scope.removeHostRemove(),scope.removeHostRemove=scope.$on("RemoveHost",function(){parent_group>0?(url=GetBasePath("groups")+parent_group+"/hosts/",Rest.setUrl(url),Rest.post({id:host.id,disassociate:1}).success(function(){scope.cancel()}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to remove "+host.name+" from group "+parent_group+". POST returned: "+status})})):scope.cancel()}),url=GetBasePath("groups")+target.id+"/hosts/",Rest.setUrl(url),Rest.post(host).success(function(){scope.$emit("RemoveHost")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to add "+host.name+" to "+target.name+". POST returned: "+status})})):(url=GetBasePath("groups")+target.id+"/hosts/",Rest.setUrl(url),Rest.post(host).success(function(){scope.cancel()}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to add "+host.name+" to "+target.name+". POST returned: "+status})}))}}}])}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($,_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=angular.module("JobDetailHelper",["Utilities","RestServices","ModalDialog"]).factory("DigestEvent",["$rootScope","$log","UpdatePlayStatus","UpdateHostStatus","AddHostResult","GetElapsed","UpdateTaskStatus","JobIsFinished","AddNewTask","AddNewPlay",function($rootScope,$log,UpdatePlayStatus,UpdateHostStatus,AddHostResult,GetElapsed,UpdateTaskStatus,JobIsFinished,AddNewTask,AddNewPlay){return function(params){function getMsg(event){var msg="";return event.event_data&&event.event_data.res&&(msg="object"===_typeof(event.event_data.res)?event.event_data.res.msg:event.event_data.res),msg}var msg,scope=params.scope,event=params.event;switch($log.debug("processing event: "+event.id),$log.debug(event),event.event){case"playbook_on_start":JobIsFinished(scope)||(scope.job_status.started=event.created,scope.job_status.status="running");break;case"playbook_on_play_start":AddNewPlay({scope:scope,event:event});break;case"playbook_on_setup":AddNewTask({scope:scope,event:event});break;case"playbook_on_task_start":AddNewTask({scope:scope,event:event});break;case"runner_on_ok":case"runner_on_async_ok":msg=getMsg(event),UpdateHostStatus({scope:scope,name:event.host_name,host_id:event.host,task_id:event.parent,status:event.failed?"failed":event.changed?"changed":"successful",id:event.id,created:event.created,modified:event.modified,message:msg,counter:event.counter,item:event.event_data&&event.event_data.res?event.event_data.res.item:""});break;case"playbook_on_no_hosts_matched":UpdatePlayStatus({scope:scope,play_id:event.parent,failed:!1,changed:!1,modified:event.modified,no_hosts:!0});break;case"runner_on_unreachable":msg=getMsg(event),UpdateHostStatus({scope:scope,name:event.host_name,host_id:event.host,task_id:event.parent,status:"unreachable",id:event.id,created:event.created,modified:event.modified,message:msg,counter:event.counter,item:event.event_data&&event.event_data.res?event.event_data.res.item:""});break;case"runner_on_error":case"runner_on_async_failed":msg=getMsg(event),UpdateHostStatus({scope:scope,name:event.host_name,host_id:event.host,task_id:event.parent,status:"failed",id:event.id,created:event.created,modified:event.modified,message:msg,counter:event.counter,item:event.event_data&&event.event_data.res?event.event_data.res.item:""});break;case"runner_on_no_hosts":UpdateTaskStatus({scope:scope,failed:event.failed,changed:event.changed,task_id:event.parent,modified:event.modified,no_hosts:!0});break;case"runner_on_skipped":msg=getMsg(event),UpdateHostStatus({scope:scope,name:event.host_name,host_id:event.host,task_id:event.parent,status:"skipped",id:event.id,created:event.created,modified:event.modified,message:msg,counter:event.counter,item:event.event_data&&event.event_data.res?event.event_data.res.item:""})}}}]).factory("JobIsFinished",[function(){return function(scope){return"failed"===scope.job_status.status||"canceled"===scope.job_status.status||"error"===scope.job_status.status||"successful"===scope.job_status.status}}]).factory("GetElapsed",[function(){return function(params){var dt1,dt2,sec,hours,min,start=params.start,end=params.end;return dt1=new Date(start),dt2=new Date(end),dt2.getTime()!==dt1.getTime()?(sec=Math.floor((dt2.getTime()-dt1.getTime())/1e3),hours=Math.floor(sec/3600),sec-=3600*hours,(""+hours).length<2&&(hours=("00"+hours).substr(-2,2)),min=Math.floor(sec/60),sec-=60*min,min=("00"+min).substr(-2,2),sec=("00"+sec).substr(-2,2),hours+":"+min+":"+sec):"00:00:00"}}]).factory("SetActivePlay",[function(){return function(params){var newActivePlay,key,scope=params.scope,activeList=[];for(key in scope.jobData.plays)scope.jobData.plays[key].taskCount>0&&activeList.push(key);activeList.length>0&&(newActivePlay=scope.jobData.plays[activeList[activeList.length-1]].id,newActivePlay&&scope.activePlay&&newActivePlay!==scope.activePlay&&(scope.jobData.plays[scope.activePlay].tasks={},scope.jobData.plays[scope.activePlay].playActiveClass="",scope.activeTask=null),newActivePlay&&(scope.activePlay=newActivePlay,scope.jobData.plays[scope.activePlay].playActiveClass="JobDetail-tableRow--selected"))}}]).factory("SetActiveTask",[function(){return function(params){var key,newActiveTask,scope=params.scope,activeList=[];for(key in scope.jobData.plays[scope.activePlay].tasks)(scope.jobData.plays[scope.activePlay].tasks[key].reportedHosts>0||"no-matching-hosts"===scope.jobData.plays[scope.activePlay].tasks[key].status)&&activeList.push(key);activeList.length>0&&(newActiveTask=scope.jobData.plays[scope.activePlay].tasks[activeList[activeList.length-1]].id,newActiveTask&&scope.activeTask&&newActiveTask!==scope.activeTask&&scope.activeTask&&void 0!==scope.jobData.plays[scope.activePlay].tasks[scope.activeTask]&&(scope.jobData.plays[scope.activePlay].tasks[scope.activeTask].taskActiveClass="",scope.jobData.plays[scope.activePlay].tasks[scope.activeTask].hostResults={}),newActiveTask&&(scope.activeTask=newActiveTask,scope.jobData.plays[scope.activePlay].tasks[scope.activeTask].taskActiveClass="JobDetail-tableRow--selected"))}}]).factory("AddNewPlay",["SetActivePlay",function(SetActivePlay){return function(params){var status,status_text,scope=params.scope,event=params.event;status=event.failed?"failed":event.changed?"changed":"successful",status_text=event.failed?"Failed":event.changed?"Changed":"OK",scope.jobData.plays[event.id]={id:event.id,name:event.play,created:event.created,status:status,status_text:status_text,elapsed:"00:00:00",hostCount:0,taskCount:0,fistTask:null,unreachableCount:0,status_tip:"Event ID: "+event.id+"<br />Status: "+status_text,tasks:{}},SetActivePlay({scope:scope})}}]).factory("AddNewTask",["UpdatePlayStatus","SetActivePlay","SetActiveTask",function(UpdatePlayStatus,SetActivePlay,SetActiveTask){return function(params){var status,status_text,scope=params.scope,event=params.event;status=event.failed?"failed":event.changed?"changed":"successful",status_text=event.failed?"Failed":event.changed?"Changed":"OK",scope.jobData.plays[event.parent].tasks[event.id]={id:event.id,play_id:event.parent,name:event.task?event.task:event.event_display,status:status,status_text:status_text,status_tip:"Event ID: "+event.id+"<br />Status: "+status_text,created:event.created,modified:event.modified,hostCount:scope.jobData.plays[event.parent]?scope.jobData.plays[event.parent].hostCount:0,reportedHosts:0,successfulCount:0,failedCount:0,changedCount:0,skippedCount:0,unreachableCount:0,successfulStyle:{display:"none"},failedStyle:{display:"none"},changedStyle:{display:"none"},skippedStyle:{display:"none"},unreachableStyle:{display:"none"},hostResults:{}},void 0!==scope.jobData.plays[event.parent].firstTask&&null!==scope.jobData.plays[event.parent].firstTask||(scope.jobData.plays[event.parent].firstTask=event.id),scope.jobData.plays[event.parent].taskCount++,SetActivePlay({scope:scope}),SetActiveTask({scope:scope}),UpdatePlayStatus({scope:scope,play_id:event.parent,failed:event.failed,changed:event.changed,modified:event.modified})}}]).factory("UpdateJobStatus",["GetElapsed","Empty","JobIsFinished","longDateFilter",function(GetElapsed,Empty,JobIsFinished,longDateFilter){return function(params){var scope=params.scope,failed=params.failed,modified=params.modified,started=params.started,finished=params.finished;failed&&"failed"!==scope.job_status.status&&"error"!==scope.job_status.status&&"canceled"!==scope.job_status.status&&(scope.job_status.status="failed"),JobIsFinished(scope)&&!Empty(modified)&&(scope.job_status.finished=longDateFilter(modified)),!Empty(started)&&Empty(scope.job_status.started)&&(scope.job_status.started=longDateFilter(modified)),Empty(scope.job_status.finished)||Empty(scope.job_status.started)||(scope.job_status.elapsed=GetElapsed({start:started,end:finished}))}}]).factory("UpdatePlayStatus",["GetElapsed","UpdateJobStatus",function(GetElapsed,UpdateJobStatus){return function(params){var play,scope=params.scope,failed=params.failed,changed=params.changed,id=params.play_id,modified=params.modified,no_hosts=params.no_hosts;void 0!==scope.jobData.plays[id]&&(play=scope.jobData.plays[id],failed?(play.status="failed",play.status_text="Failed"):"changed"!==play.status&&"failed"!==play.status&&(no_hosts?(play.status="no-matching-hosts",play.status_text="No matching hosts"):(play.status=changed?"changed":failed?"failed":"successful",play.status_text=changed?"Changed":failed?"Failed":"OK")),play.taskCount=play.taskCount>0?play.taskCount:1,play.status_tip="Event ID: "+play.id+"<br />Status: "+play.status_text,play.finished=modified,play.elapsed=GetElapsed({start:play.created,end:modified})),UpdateJobStatus({scope:scope,failed:null,modified:modified})}}]).factory("UpdateTaskStatus",["UpdatePlayStatus","GetElapsed",function(UpdatePlayStatus,GetElapsed){return function(params){var play,task,scope=params.scope,failed=params.failed,changed=params.changed,id=params.task_id,modified=params.modified,no_hosts=params.no_hosts;for(play in scope.jobData.plays)scope.jobData.plays[play].tasks[id]&&(task=scope.jobData.plays[play].tasks[id]);task&&(no_hosts?(task.status="no-matching-hosts",task.status_text="No matching hosts"):failed?(task.status="failed",task.status_text="Failed"):"changed"!==task.status&&"failed"!==task.status&&(task.status=failed?"failed":changed?"changed":"successful",task.status_text=failed?"Failed":changed?"Changed":"OK"),task.status_tip="Event ID: "+task.id+"<br />Status: "+task.status_text,task.finished=params.modified,task.elapsed=GetElapsed({start:task.created,end:modified}),UpdatePlayStatus({scope:scope,failed:failed,changed:changed,play_id:task.play_id,modified:modified,no_hosts:no_hosts}))}}]).factory("UpdateHostStatus",["UpdateTaskStatus","AddHostResult",function(UpdateTaskStatus,AddHostResult){return function(params){var scope=params.scope,status=params.status,name=params.name,event_id=params.id,host_id=params.host_id,task_id=params.task_id,modified=params.modified,created=params.created,msg=params.message,item=params.item,counter=params.counter;void 0!==scope.jobData.hostSummaries[host_id]?(scope.jobData.hostSummaries[host_id].ok+="successful"===status?1:0,scope.jobData.hostSummaries[host_id].changed+="changed"===status?1:0,scope.jobData.hostSummaries[host_id].unreachable+="unreachable"===status?1:0,scope.jobData.hostSummaries[host_id].failed+="failed"===status?1:0,"failed"!==status&&"unreachable"!==status||(scope.jobData.hostSummaries[host_id].status="failed")):scope.jobData.hostSummaries[host_id]={id:host_id,name:name,ok:"successful"===status?1:0,changed:"changed"===status?1:0,unreachable:"unreachable"===status?1:0,failed:"failed"===status?1:0,status:"failed"===status||"unreachable"===status?"failed":"successful"},UpdateTaskStatus({scope:scope,task_id:task_id,failed:"failed"===status||"unreachable"===status,changed:"changed"===status,modified:modified}),AddHostResult({scope:scope,task_id:task_id,host_id:host_id,event_id:event_id,status:status,name:name,created:created,counter:counter,message:msg,item:item})}}]).factory("AddHostResult",["SetTaskStyles","SetActivePlay","SetActiveTask",function(SetTaskStyles,SetActivePlay,SetActiveTask){return function(params){var task,play,play_id,scope=params.scope,task_id=params.task_id,host_id=params.host_id,event_id=params.event_id,status=params.status,created=params.created,counter=params.counter,name=params.name,msg=params.message,item=params.item,status_text="";switch(status){case"successful":status_text="OK";break;case"changed":status_text="Changed";break;case"failed":status_text="Failed";break;case"unreachable":status_text="Unreachable";break;case"skipped":status_text="Skipped"}"object"===("undefined"==typeof item?"undefined":_typeof(item))&&(item=JSON.stringify(item));for(play in scope.jobData.plays)for(task in scope.jobData.plays[play].tasks)parseInt(task,10)===parseInt(task_id,10)&&(play_id=parseInt(play,10));play_id&&(scope.jobData.plays[play_id].tasks[task_id].hostResults[event_id]={id:event_id,status:status,status_text:status_text,host_id:host_id,task_id:task_id,name:name,created:created,counter:counter,msg:msg,item:item},"unreachable"===status&&scope.jobData.plays[play_id].unreachableCount++,task=scope.jobData.plays[play_id].tasks[task_id],task_id===scope.jobData.plays[play_id].firstTask&&(scope.jobData.plays[play_id].hostCount++,task.hostCount++),task.reportedHosts+=1,task.failedCount+="failed"===status?1:0,task.changedCount+="changed"===status?1:0,task.successfulCount+="successful"===status?1:0,task.skippedCount+="skipped"===status?1:0,task.unreachableCount+="unreachable"===status?1:0,SetTaskStyles({task:task}),SetActivePlay({scope:scope}),SetActiveTask({scope:scope}))}}]).factory("SetTaskStyles",[function(){return function(params){var diff,task=params.task;task.missingCount=task.hostCount-(task.failedCount+task.changedCount+task.skippedCount+task.successfulCount+task.unreachableCount),task.missingCount<0&&(task.hostCount=task.failedCount+task.changedCount+task.skippedCount+task.successfulCount+task.unreachableCount),task.missingPct=task.hostCount>0?Math.ceil(100*(task.missingCount/task.hostCount)):0,task.failedPct=task.hostCount>0?Math.ceil(100*(task.failedCount/task.hostCount)):0,task.changedPct=task.hostCount>0?Math.ceil(100*(task.changedCount/task.hostCount)):0,task.skippedPct=task.hostCount>0?Math.ceil(100*(task.skippedCount/task.hostCount)):0,task.successfulPct=task.hostCount>0?Math.ceil(100*(task.successfulCount/task.hostCount)):0,task.unreachablePct=task.hostCount>0?Math.ceil(100*(task.unreachableCount/task.hostCount)):0,task.missingPct=task.missingPct>100?100:task.missingPct,task.failedPct=task.failedPct>100?100:task.failedPct,task.changedPct=task.changedPct>100?100:task.changedPct,task.skippedPct=task.skippedPct>100?100:task.skippedPct,task.successfulPct=task.successfulPct>100?100:task.successfulPct,task.unreachablePct=task.unreachablePct>100?100:task.unreachablePct,diff=task.failedPct+task.changedPct+task.skippedPct+task.successfulPct+task.unreachablePct+task.missingPct-100,diff>0&&(task.failedPct>diff?task.failedPct=task.failedPct-diff:task.changedPct>diff?task.changedPct=task.changedPct-diff:task.skippedPct>diff?task.skippedPct=task.skippedPct-diff:task.successfulPct>diff?task.successfulPct=task.successfulPct-diff:task.unreachablePct>diff?task.unreachablePct=task.unreachablePct-diff:task.missingPct>diff&&(task.missingPct=task.missingPct-diff)),task.successfulStyle=task.successfulPct>0?{display:"inline-block"}:{display:"none"},task.changedStyle=task.changedPct>0?{display:"inline-block"}:{display:"none"},task.skippedStyle=task.skippedPct>0?{display:"inline-block"}:{display:"none"},task.failedStyle=task.failedPct>0?{display:"inline-block"}:{display:"none"},task.unreachableStyle=task.unreachablePct>0?{display:"inline-block"}:{display:"none"},task.missingStyle=task.missingPct>0?{display:"inline-block"}:{display:"none"}}}]).factory("LoadPlays",["Rest","ProcessErrors","GetElapsed","SelectPlay","JobIsFinished",function(Rest,ProcessErrors,GetElapsed,SelectPlay,JobIsFinished){return function(params){var url,scope=params.scope,callback=params.callback;scope.plays=[],scope.playsLoading=!0,Rest.setUrl(url),Rest.get().success(function(data){scope.next_plays=data.next,scope.plays=[],data.results.forEach(function(event,idx){var status,status_text,start,end,elapsed;status=event.failed?"failed":event.changed?"changed":"successful",status_text=event.failed?"Failed":event.changed?"Changed":"OK",start=event.started,idx<data.results.length-1?end=data.results[idx+1].started:JobIsFinished(scope)&&(end=scope.job_status.finished),elapsed=end?GetElapsed({start:start,end:end}):"00:00:00",scope.plays.push({id:event.id,name:event.play,created:start,finished:end,status:status,status_text:status_text,status_tip:"Event ID: "+event.id+"<br />Status: "+status_text,elapsed:elapsed,hostCount:0,fistTask:null,playActiveClass:"",unreachableCount:event.unreachable_count?event.unreachable_count:0})}),SelectPlay({scope:scope,id:scope.plays.length>0?scope.plays[0].id:null,callback:callback}),scope.playsLoading=!1}).error(function(data){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})}}]).factory("SelectPlay",["LoadTasks",function(LoadTasks){return function(params){var scope=params.scope,id=params.id,callback=params.callback;scope.selectedPlay=id,scope.plays.forEach(function(play,idx){play.id===scope.selectedPlay?scope.plays[idx].playActiveClass="JobDetail-tableRow--selected":scope.plays[idx].playActiveClass=""}),LoadTasks({scope:scope,callback:callback,clear:!0})}}]).factory("LoadTasks",["Rest","ProcessErrors","GetElapsed","SelectTask","SetTaskStyles",function(Rest,ProcessErrors,GetElapsed,SelectTask,SetTaskStyles){return function(params){var url,play,scope=params.scope,callback=params.callback;scope.tasks=[],scope.selectedPlay?(url=scope.job.url+"job_tasks/?event_id="+scope.selectedPlay,scope.plays.every(function(p,idx){return p.id!==scope.selectedPlay||(play=scope.plays[idx],!1)}),scope.tasksLoading=!0,Rest.setUrl(url),Rest.get().success(function(data){scope.next_tasks=data.next,scope.tasks=[],data.results.forEach(function(event,idx){var end,elapsed,status,status_text;void 0!==play.firstTask&&null!==play.firstTask||(play.firstTask=event.id,play.hostCount=event.host_count?event.host_count:0),idx<data.results.length-1?end=data.results[idx+1].created:scope.plays.every(function(play){return play.id!==scope.selectedPlay||(end=play.finished,!1)}),elapsed=end?GetElapsed({start:event.created,end:end}):"00:00:00",status=event.failed?"failed":event.changed?"changed":"successful",status_text=event.failed?"Failed":event.changed?"Changed":"OK",scope.tasks.push({id:event.id,play_id:scope.selectedPlay,name:event.name,status:status,status_text:status_text,status_tip:"Event ID: "+event.id+"<br />Status: "+status_text,created:event.created,modified:event.modified,finished:end,elapsed:elapsed,hostCount:event.host_count?event.host_count:0,reportedHosts:event.reported_hosts?event.reported_hosts:0,successfulCount:event.successful_count?event.successful_count:0,failedCount:event.failed_count?event.failed_count:0,changedCount:event.changed_count?event.changed_count:0,skippedCount:event.skipped_count?event.skipped_count:0,unreachableCount:event.unreachable_count?event.unreachable_count:0,taskActiveClass:""}),play.firstTask!==event.id&&(scope.tasks[scope.tasks.length-1].hostCount=play.hostCount),SetTaskStyles({task:scope.tasks[scope.tasks.length-1]})}),SelectTask({scope:scope,id:scope.tasks.length>0?scope.tasks[0].id:null,callback:callback}),scope.tasksLoading=!1}).error(function(data){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})):SelectTask({scope:scope,id:null,callback:callback})}}]).factory("SelectTask",["JobDetailService",function(JobDetailService){return function(params){var scope=params.scope,id=params.id;scope.selectedTask=id,scope.tasks.forEach(function(task,idx){task.id===scope.selectedTask?scope.tasks[idx].taskActiveClass="JobDetail-tableRow--selected":scope.tasks[idx].taskActiveClass=""}),null!==scope.selectedTask?(params={parent:scope.selectedTask,event__startswith:"runner",page_size:scope.hostResultsMaxRows,order:"host_name,counter"},JobDetailService.getRelatedJobEvents(scope.job.id,params).success(function(res){scope.hostResults=JobDetailService.processHostEvents(res.results),scope.hostResultsLoading=!1})):(scope.hostResults=[],scope.hostResultsLoading=!1)}}]).factory("DrawGraph",["DonutChart",function(DonutChart){return function(params){var count=params.count,graph_data=[];count.ok.length>0&&graph_data.push({label:"OK",value:count.ok.length,color:"#5CB85C"}),count.changed.length>0&&graph_data.push({label:"CHANGED",value:count.changed.length,color:"#FF9900"}),count.unreachable.length>0&&graph_data.push({label:"UNREACHABLE",value:count.unreachable.length,color:"#FF0000"}),count.failures.length>0&&graph_data.push({label:"FAILED",value:count.failures.length,color:"#D9534F"}),DonutChart({data:graph_data})}}]).factory("DonutChart",[function(){return function(params){var colors,total,job_detail_chart,dataset=params.data,element=$("#graph-section");return colors=_.map(dataset,function(d){return d.color}),total=d3.sum(dataset.map(function(d){return d.value})),job_detail_chart=nv.models.pieChart().margin({bottom:15}).x(function(d){return d.label+": "+Math.floor(d.value/total*100)+"%"}).y(function(d){return d.value}).showLabels(!1).showLegend(!0).growOnHover(!1).labelThreshold(.01).tooltipContent(function(x,y){return"<p>"+x+"</p><p>"+Math.floor(y.replace(",",""))+" HOSTS </p>"}).color(colors),job_detail_chart.legend.rightAlign(!1),job_detail_chart.legend.margin({top:5,right:450,left:0,bottom:0}),d3.select(element.find("svg")[0]).datum(dataset).transition().duration(350).call(job_detail_chart).style({"font-family":"Open Sans","font-style":"normal","font-weight":400,src:"url(/static/assets/OpenSans-Regular.ttf)",width:600,height:300,color:"#848992"}),d3.select(element.find(".nv-noData")[0]).style({"text-anchor":"start"}),job_detail_chart}}]).factory("DrawPlays",[function(){return function(params){function listSort(a,b){return parseInt(a,10)<parseInt(b,10)?-1:parseInt(a,10)>parseInt(b,10)?1:0}var key,keys,scope=params.scope,idx=0,result=[],newKeys=[],plays=scope.jobData.plays,filteredListX=[],filteredListB=[];for(key in plays)plays[key].taskCount>0&&(filteredListX[key]=plays[key]);for(keys=Object.keys(filteredListB),keys.sort(function(a,b){return listSort(a,b)}).reverse(),idx=0;idx<scope.playsMaxRows&&idx<keys.length;idx++)newKeys.push(keys[idx]);for(newKeys.sort(function(a,b){return listSort(a,b)}),idx=0;idx<newKeys.length;)result.push(filteredListB[newKeys[idx]]),idx++;setTimeout(function(){scope.$apply(function(){scope.plays=result,scope.selectedPlay=scope.activePlay,scope.liveEventProcessing&&$("#plays-table-detail").scrollTop($("#plays-table-detail").prop("scrollHeight"))})})}}]).factory("DrawTasks",[function(){return function(params){function listSort(a,b){return parseInt(a,10)<parseInt(b,10)?-1:parseInt(a,10)>parseInt(b,10)?1:0}var idx,key,keys,newKeys,tasks,t,scope=params.scope,result=[],filteredListX=[],filteredListB=[];if(scope.activePlay&&scope.jobData.plays[scope.activePlay]){tasks=scope.jobData.plays[scope.activePlay].tasks;for(key in tasks)t=tasks[key],(t.reportedHosts>0||t.hostCount>0||t.successfulCount>0||t.failedCount>0||t.changedCount>0||t.skippedCount>0||t.unreachableCount>0)&&(filteredListX[key]=tasks[key]);
for(keys=Object.keys(filteredListB),keys.sort(function(a,b){return listSort(a,b)}).reverse(),newKeys=[],idx=0;result.length<scope.tasksMaxRows&&idx<keys.length;idx++)newKeys.push(keys[idx]);for(newKeys.sort(function(a,b){return listSort(a,b)}),idx=0;idx<newKeys.length;)result.push(filteredListB[newKeys[idx]]),idx++}setTimeout(function(){scope.$apply(function(){scope.tasks=result,scope.selectedTask=scope.activeTask,scope.liveEventProcessing&&$("#tasks-table-detail").scrollTop($("#tasks-table-detail").prop("scrollHeight"))})})}}]).factory("DrawHostResults",[function(){return function(params){var hostResults,keys,scope=params.scope,result=[],filteredListB=[],idx=0;if(scope.activePlay&&scope.activeTask&&scope.jobData.plays[scope.activePlay]&&scope.jobData.plays[scope.activePlay].tasks[scope.activeTask])for(hostResults=scope.jobData.plays[scope.activePlay].tasks[scope.activeTask].hostResults,keys=Object.keys(filteredListB),keys.sort(function(a,b){if(filteredListB[a].name===filteredListB[b].name){if(filteredListB[a].counter<filteredListB[b].counter)return-1;if(filteredListB[a].counter>filteredListB[b].counter)return 1}else{if(filteredListB[a].name<filteredListB[b].name)return-1;if(filteredListB[a].name>filteredListB[b].name)return 1}return 0});idx<keys.length&&result.length<scope.hostResultsMaxRows;)result.push(filteredListB[keys[idx]]),idx++;setTimeout(function(){scope.$apply(function(){scope.hostResults=result,scope.liveEventProcessing&&$("#hosts-table-detail").scrollTop($("#hosts-table-detail").prop("scrollHeight"))})})}}]).factory("UpdateDOM",["DrawPlays","DrawTasks","DrawHostResults",function(DrawPlays,DrawTasks,DrawHostResults){return function(params){var scope=params.scope;scope.pauseLiveEvents||(DrawPlays({scope:scope}),DrawTasks({scope:scope}),DrawHostResults({scope:scope})),setTimeout(function(){scope.playsLoading=!1,scope.tasksLoading=!1,scope.hostResultsLoading=!1},100)}}])}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("JobSubmissionHelper",["RestServices","Utilities","CredentialFormDefinition","CredentialsListDefinition","JobSubmissionHelper","JobTemplateFormDefinition","ModalDialog","FormGenerator","JobVarsPromptFormDefinition"]).factory("CreateLaunchDialog",["$compile","CreateDialog","Wait","ParseTypeChange",function($compile,CreateDialog,Wait,ParseTypeChange){return function(params){var buttons,e,scope=params.scope,html=params.html,callback=params.callback||"PlaybookLaunchFinished";html+="</form>",$("#password-modal").empty().html(html),$("#password-modal").find("#job_extra_vars").before(scope.helpContainer),e=angular.element(document.getElementById("password-modal")),$compile(e)(scope),scope.prompt_for_vars===!0&&ParseTypeChange({scope:scope,field_id:"job_extra_vars",variable:"extra_vars"}),buttons=[{label:"Cancel",onClick:function(){$("#password-modal").dialog("close")},icon:"fa-times",class:"btn btn-default",id:"password-cancel-button"},{label:"Launch",onClick:function(){scope.$emit(callback),$("#password-modal").dialog("close")},icon:"fa-check",class:"btn btn-primary",id:"password-accept-button"}],CreateDialog({id:"password-modal",scope:scope,buttons:buttons,width:620,height:700,minWidth:500,title:"Launch Configuration",callback:"DialogReady",onOpen:function(){Wait("stop")}}),scope.removeDialogReady&&scope.removeDialogReady(),scope.removeDialogReady=scope.$on("DialogReady",function(){$("#password-modal").dialog("open"),$("#password-accept-button").attr("ng-disabled","job_launch_form.$invalid"),e=angular.element(document.getElementById("password-accept-button")),$compile(e)(scope)})}}]).factory("PromptForPasswords",["CredentialForm",function(CredentialForm){return function(params){var fld,field,scope=params.scope,callback=params.callback||"PasswordsAccepted",url=params.url,form=CredentialForm,html=params.html||"";scope.passwords=params.passwords,html+='<div class="alert alert-info">Launching this job requires the passwords listed below. Enter and confirm each password before continuing.</div>\n',scope.passwords.forEach(function(password){field=form.fields[password],fld=password,scope[fld]="",html+='<div class="form-group prepend-asterisk">\n',html+='<label for="'+fld+'">'+field.label+"</label>\n",html+='<input type="password" ',html+='ng-model="'+fld+'" ',html+='name="'+fld+'" ',html+='class="password-field form-control input-sm" ',html+=field.associated?"ng-change=\"clearPWConfirm('"+field.associated+"')\" ":"",html+="required ",html+=" >",html+='<div class="error" ng-show="job_launch_form.'+fld+".$dirty && job_launch_form."+fld+'.$error.required">Please enter a password.</div>\n',html+='<div class="error api-error" ng-bind="'+fld+'_api_error"></div>\n',html+="</div>\n",field.associated&&(fld=field.associated,field=form.fields[field.associated],scope[fld]="",html+='<div class="form-group prepend-asterisk">\n',html+='<label for="'+fld+'"> '+field.label+"</label>\n",html+='<input type="password" ',html+='ng-model="'+fld+'" ',html+='name="'+fld+'" ',html+='class="form-control input-sm" ',html+='ng-change="checkStatus()" ',html+="required ",html+=field.awPassMatch?'awpassmatch="'+field.associated+'" ':"",html+="/>",html+='<div class="error" ng-show="job_launch_form.'+fld+".$dirty && job_launch_form."+fld+'.$error.required">Please confirm the password.</span>\n',html+=field.awPassMatch?'<span class="error" ng-show="job_launch_form.'+fld+'.$error.awpassmatch">This value does not match the password you entered previously.  Please confirm that password.</div>\n':"",html+='<div class="error api-error" ng-bind="'+fld+'_api_error"></div>\n',html+="</div>\n")}),scope.$emit(callback,html,url),scope.clearPWConfirm=function(fld){scope[fld]="",scope.job_launch_form[fld].$setValidity("awpassmatch",!1),scope.checkStatus()},scope.checkStatus=function(){scope.job_launch_form.$invalid?$("#password-accept-button").attr({disabled:"disabled"}):$("#password-accept-button").removeAttr("disabled")}}}]).factory("CheckPasswords",["Rest","GetBasePath","ProcessErrors","Empty",function(Rest,GetBasePath,ProcessErrors,Empty){return function(params){var scope=params.scope,callback=params.callback,credential=params.credential,passwords=[];Empty(credential)||(Rest.setUrl(GetBasePath("credentials")+credential),Rest.get().success(function(data){"ssh"===data.kind&&("ASK"===data.password&&passwords.push("ssh_password"),"ASK"===data.ssh_key_unlock&&passwords.push("ssh_key_unlock"),"ASK"===data.become_password&&passwords.push("become_password"),"ASK"===data.vault_password&&passwords.push("vault_password")),scope.$emit(callback,passwords)}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to get job template details. GET returned status: "+status})}))}}]).factory("ProjectUpdate",["PromptForPasswords","LaunchJob","Rest","$location","GetBasePath","ProcessErrors","Alert","Wait",function(PromptForPasswords,LaunchJob,Rest,$location,GetBasePath,ProcessErrors,Alert,Wait){return function(params){var project,scope=params.scope,project_id=params.project_id,url=GetBasePath("projects")+project_id+"/update/";scope.removeUpdateSubmitted&&scope.removeUpdateSubmitted(),scope.removeUpdateSubmitted=scope.$on("UpdateSubmitted",function(){Wait("stop"),/\d$/.test($location.path())&&$location.path("/projects"),"error"===scope.socketStatus&&(Alert("Update Started",'<div>The request to start the SCM update process was submitted. To monitor the update status, refresh the page by clicking the <i class="fa fa-refresh"></i> button.</div>',"alert-info",null,null,null,null,!0),scope.refresh&&scope.refresh())}),scope.removePromptForPasswords&&scope.removePromptForPasswords(),scope.removePromptForPasswords=scope.$on("PromptForPasswords",function(){PromptForPasswords({scope:scope,passwords:project.passwords_needed_to_update,callback:"StartTheUpdate"})}),scope.removeStartTheUpdate&&scope.removeStartTheUpdate(),scope.removeStartTheUpdate=scope.$on("StartTheUpdate",function(e,passwords){LaunchJob({scope:scope,url:url,passwords:passwords,callback:"UpdateSubmitted"})}),Wait("start"),Rest.setUrl(url),Rest.get().success(function(data){project=data,project.can_update?project.passwords_needed_to_updated?(Wait("stop"),scope.$emit("PromptForPasswords")):scope.$emit("StartTheUpdate",{}):Alert("Permission Denied","You do not have access to update this project. Please contact your system administrator.","alert-danger")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to lookup project "+url+" GET returned: "+status})})}}]).factory("InventoryUpdate",["PromptForPasswords","LaunchJob","Rest","GetBasePath","ProcessErrors","Alert","Wait",function(PromptForPasswords,LaunchJob,Rest,GetBasePath,ProcessErrors,Alert,Wait){return function(params){var inventory_source,scope=params.scope,url=params.url;scope.removeUpdateSubmitted&&scope.removeUpdateSubmitted(),scope.removeUpdateSubmitted=scope.$on("UpdateSubmitted",function(){Wait("stop"),"error"===scope.socketStatus&&(Alert("Sync Started",'<div>The request to start the inventory sync process was submitted. To monitor the status refresh the page by clicking the <i class="fa fa-refresh"></i> button.</div>',"alert-info",null,null,null,null,!0),scope.refreshGroups?scope.refreshGroups():scope.refresh&&scope.refresh())}),scope.removePromptForPasswords&&scope.removePromptForPasswords(),scope.removePromptForPasswords=scope.$on("PromptForPasswords",function(){PromptForPasswords({scope:scope,passwords:inventory_source.passwords_needed_to_update,callback:"StartTheUpdate"})}),scope.removeStartTheUpdate&&scope.removeStartTheUpdate(),scope.removeStartTheUpdate=scope.$on("StartTheUpdate",function(e,passwords){LaunchJob({scope:scope,url:url,passwords:passwords,callback:"UpdateSubmitted"})}),Wait("start"),Rest.setUrl(url),Rest.get().success(function(data){inventory_source=data,data.can_update?data.passwords_needed_to_update?(Wait("stop"),scope.$emit("PromptForPasswords")):scope.$emit("StartTheUpdate",{}):(Wait("stop"),Alert("Permission Denied","You do not have access to run the inventory sync. Please contact your system administrator.","alert-danger"))}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to get inventory source "+url+" GET returned: "+status})})}}])}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("JobTemplatesHelper",["Utilities"]).factory("CallbackHelpInit",["$location","GetBasePath","Rest","JobTemplateForm","GenerateForm","$stateParams","ProcessErrors","ParseTypeChange","ParseVariableString","Empty","InventoryList","CredentialList","ProjectList","Wait",function($location,GetBasePath,Rest,JobTemplateForm,GenerateForm,$stateParams,ProcessErrors,ParseTypeChange,ParseVariableString,Empty,InventoryList,CredentialList,ProjectList,Wait){return function(params){var scope=params.scope,defaultUrl=GetBasePath("job_templates"),form=JobTemplateForm(),master={},id=$stateParams.job_template_id;CredentialList=_.cloneDeep(CredentialList),scope.setCallbackHelp=function(){scope.callback_help='<p>With a provisioning callback URL and a host config key a host can contact Tower and request a configuration update using this job template. The request from the host must be a POST. Here is an example using curl:</p>\n<pre>curl --data "host_config_key='+scope.example_config_key+'" '+scope.callback_server_path+GetBasePath("job_templates")+scope.example_template_id+"/callback/</pre>\n<p>Note the requesting host must be defined in the inventory associated with the job template. If Tower fails to locate the host, the request will be denied.</p><p>Successful requests create an entry on the Jobs page, where results and history can be viewed.</p>"},scope.removeNewMD5Generated&&scope.removeNewMD5Generated(),scope.removeNewMD5Generated=scope.$on("NewMD5Generated",function(){scope.configKeyChange()}),scope.configKeyChange=function(){scope.example_config_key=scope.host_config_key,scope.setCallbackHelp()},scope.callback_server_path=$location.protocol()+"://"+$location.host()+($location.port()?":"+$location.port():""),scope.example_config_key="5a8ec154832b780b9bdef1061764ae5a",scope.example_template_id="N",scope.setCallbackHelp(),scope.fillJobTemplate=function(){Rest.setUrl(defaultUrl+id),Rest.get().success(function(data){scope.job_template_obj=data,scope.name=data.name;var fld,i;for(fld in form.fields){if("variables"!==fld&&"survey"!==fld&&null!==data[fld]&&void 0!==data[fld]){if("select"===form.fields[fld].type)if(scope[fld+"_options"]&&scope[fld+"_options"].length>0)for(i=0;i<scope[fld+"_options"].length;i++)data[fld]===scope[fld+"_options"][i].value&&(scope[fld]=scope[fld+"_options"][i]);else scope[fld]=data[fld];else scope[fld]=data[fld],Empty(data.summary_fields.survey)||(scope.survey_exists=!0);master[fld]=scope[fld]}if("variables"===fld&&(scope.variables=ParseVariableString(data.extra_vars),master.variables=scope.variables),"lookup"===form.fields[fld].type&&data.summary_fields[form.fields[fld].sourceModel]&&(scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField],master[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]),"checkbox_group"===form.fields[fld].type)for(var j=0;j<form.fields[fld].fields.length;j++)scope[form.fields[fld].fields[j].name]=data[form.fields[fld].fields[j].name]}Wait("stop"),scope.url=data.url,scope.survey_enabled=data.survey_enabled,scope.ask_variables_on_launch=!!data.ask_variables_on_launch,master.ask_variables_on_launch=scope.ask_variables_on_launch,scope.ask_limit_on_launch=!!data.ask_limit_on_launch,master.ask_limit_on_launch=scope.ask_limit_on_launch,scope.ask_tags_on_launch=!!data.ask_tags_on_launch,master.ask_tags_on_launch=scope.ask_tags_on_launch,scope.ask_skip_tags_on_launch=!!data.ask_skip_tags_on_launch,master.ask_skip_tags_on_launch=scope.ask_skip_tags_on_launch,scope.ask_job_type_on_launch=!!data.ask_job_type_on_launch,master.ask_job_type_on_launch=scope.ask_job_type_on_launch,scope.ask_inventory_on_launch=!!data.ask_inventory_on_launch,master.ask_inventory_on_launch=scope.ask_inventory_on_launch,scope.ask_credential_on_launch=!!data.ask_credential_on_launch,master.ask_credential_on_launch=scope.ask_credential_on_launch,data.host_config_key&&(scope.example_config_key=data.host_config_key),scope.example_template_id=id,scope.setCallbackHelp(),scope.callback_url=scope.callback_server_path+(data.related.callback?data.related.callback:GetBasePath("job_templates")+id+"/callback/"),master.callback_url=scope.callback_url,scope.can_edit=data.summary_fields.user_capabilities.edit,"scan"!==scope.job_type.value||scope.project&&""!==scope.project||scope.playbook&&""!==scope.playbook||scope.resetProjectToDefault(),scope.$emit("jobTemplateLoaded",data.related.cloud_credential,master)}).error(function(data,status){ProcessErrors(scope,data,status,form,{hdr:"Error!",msg:"Failed to retrieve job template: "+$stateParams.id+". GET status: "+status})})}}}])}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(114),_main2=_interopRequireDefault(_main);exports.default=angular.module("JobsHelper",["Utilities","RestServices","FormGenerator","JobSummaryDefinition","InventoryHelper","GeneratorHelpers","JobSubmissionHelper","StandardOutHelper","AdhocHelper",_main2.default.name]).factory("RelaunchJob",["RelaunchInventory","RelaunchPlaybook","RelaunchSCM","RelaunchAdhoc",function(RelaunchInventory,RelaunchPlaybook,RelaunchSCM,RelaunchAdhoc){return function(params){var scope=params.scope,id=params.id,type=params.type,name=params.name;"inventory_update"===type?RelaunchInventory({scope:scope,id:id}):"ad_hoc_command"===type?RelaunchAdhoc({scope:scope,id:id,name:name}):"job"===type||"system_job"===type||"workflow_job"===type?RelaunchPlaybook({scope:scope,id:id,name:name,job_type:type}):"project_update"===type&&RelaunchSCM({scope:scope,id:id})}}]).factory("JobStatusToolTip",[function(){return function(status){var toolTip;switch(status){case"successful":case"success":toolTip="There were no failed tasks.";break;case"failed":toolTip="Some tasks encountered errors.";break;case"canceled":toolTip="Stopped by user request.";break;case"new":toolTip="In queue, waiting on task manager.";break;case"waiting":toolTip="SCM Update or Inventory Update is executing.";break;case"pending":toolTip="Not in queue, waiting on task manager.";break;case"running":toolTip="Playbook tasks executing."}return toolTip}}]).factory("JobsListUpdate",[function(){return function(params){var scope=params.scope,parent_scope=params.parent_scope,list=params.list;scope[list.name].forEach(function(item,item_idx){var fld,field,itm=scope[list.name][item_idx];list.fields.type&&parent_scope.type_choices.forEach(function(choice){choice.value===item.type&&(itm.type_label=choice.label)}),parent_scope.status_choices.forEach(function(status){status.value===item.status&&(itm.status_label=status.label)}),"completed_jobs"===list.name||"running_jobs"===list.name?itm.status_tip=itm.status_label+". Click for details.":"queued_jobs"===list.name&&(itm.status_tip="Pending");for(field in list.fields)fld=list.fields[field],fld.sourceModel&&itm.summary_fields[fld.sourceModel]&&(itm[field]=itm.summary_fields[fld.sourceModel][fld.sourceField])})}}]).factory("DeleteJob",["$state","Find","GetBasePath","Rest","Wait","ProcessErrors","Prompt","Alert","$filter","i18n",function($state,Find,GetBasePath,Rest,Wait,ProcessErrors,Prompt,Alert,$filter,i18n){return function(params){var action,jobs,url,action_label,hdr,scope=params.scope,id=params.id,job=params.job,callback=params.callback;job||(scope.completed_jobs?jobs=scope.completed_jobs:scope.running_jobs?jobs=scope.running_jobs:scope.queued_jobs?jobs=scope.queued_jobs:scope.all_jobs?jobs=scope.all_jobs:scope.jobs&&(jobs=scope.jobs),job=Find({list:jobs,key:"id",val:id})),"pending"===job.status||"running"===job.status||"waiting"===job.status?(url=job.related.cancel,action_label="cancel",hdr=i18n._("Cancel")):(url=job.url,action_label="delete",hdr=i18n._("Delete")),action=function(){Wait("start"),Rest.setUrl(url),"cancel"===action_label?Rest.post().success(function(){$("#prompt-modal").modal("hide"),callback?scope.$emit(callback,action_label):($state.reload(),Wait("stop"))}).error(function(obj,status){Wait("stop"),$("#prompt-modal").modal("hide"),403===status&&Alert("Error",obj.detail)}):Rest.destroy().success(function(){$("#prompt-modal").modal("hide"),callback?scope.$emit(callback,action_label):($state.reload(),Wait("stop"))}).error(function(obj,status){Wait("stop"),$("#prompt-modal").modal("hide"),403===status&&Alert("Error",obj.detail)})},scope.removeCancelNotAllowed&&scope.removeCancelNotAllowed(),scope.removeCancelNotAllowed=scope.$on("CancelNotAllowed",function(){Wait("stop"),Alert("Job Completed","The request to cancel the job could not be submitted. The job already completed.","alert-info")}),scope.removeCancelJob&&scope.removeCancelJob(),scope.removeCancelJob=scope.$on("CancelJob",function(){var cancelBody='<div class="Prompt-bodyQuery">'+i18n._("Submit the request to cancel?")+"</div>",deleteBody='<div class="Prompt-bodyQuery">'+i18n._("Are you sure you want to delete the job below?")+'</div><div class="Prompt-bodyTarget">#'+id+" "+$filter("sanitize")(job.name)+"</div>";Prompt({hdr:hdr,body:"cancel"===action_label||"new"===job.status?cancelBody:deleteBody,action:action,actionText:"cancel"===action_label||"new"===job.status?"OK":"DELETE"})}),"cancel"===action_label?(Rest.setUrl(url),Rest.get().success(function(data){data.can_cancel?scope.$emit("CancelJob"):scope.$emit("CancelNotAllowed")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. GET returned: "+status})})):scope.$emit("CancelJob")}}]).factory("RelaunchInventory",["Find","Wait","Rest","InventoryUpdate","ProcessErrors","GetBasePath",function(Find,Wait,Rest,InventoryUpdate,ProcessErrors,GetBasePath){return function(params){var scope=params.scope,id=params.id,url=GetBasePath("inventory_sources")+id+"/";Wait("start"),Rest.setUrl(url),Rest.get().success(function(data){InventoryUpdate({scope:scope,url:data.related.update,group_name:data.summary_fields.group.name,group_source:data.source,tree_id:null,group_id:data.group})}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve inventory source: "+url+" GET returned: "+status})})}}]).factory("RelaunchPlaybook",["InitiatePlaybookRun",function(InitiatePlaybookRun){return function(params){var scope=params.scope,id=params.id,job_type=params.job_type;InitiatePlaybookRun({scope:scope,id:id,relaunch:!0,job_type:job_type})}}]).factory("RelaunchSCM",["ProjectUpdate",function(ProjectUpdate){return function(params){var scope=params.scope,id=params.id;ProjectUpdate({scope:scope,project_id:id})}}]).factory("RelaunchAdhoc",["AdhocRun",function(AdhocRun){return function(params){var scope=params.scope,id=params.id;AdhocRun({scope:scope,project_id:id,relaunch:!0})}}])}).call(exports,__webpack_require__(1))},function(module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("LoadConfigHelper",["Utilities"]).factory("LoadConfig",["$log","$rootScope","$http","$location","GetBasePath","ProcessErrors","Rest","Store",function($log,$rootScope,$http,$location,GetBasePath,ProcessErrors,Rest,Store){return function(){var configSettings={tooltip_delay:{show:500,hide:100},password_length:8,password_hasLowercase:!0,password_hasUppercase:!1,password_hasNumber:!0,password_hasSymbol:!1,variable_edit_modes:{yaml:{mode:"text/x-yaml",matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,lineNumbers:!0,gutters:["CodeMirror-lint-markers"],lint:!0},json:{mode:"application/json",styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumbers:!0,gutters:["CodeMirror-lint-markers"],lint:!0}}},configInit=function(){$rootScope.loginConfig&&$rootScope.loginConfig.resolve("config loaded"),$rootScope.$emit("ConfigReady"),global.$AnsibleConfig=configSettings,Store("AnsibleConfig",global.$AnsibleConfig),$rootScope.$emit("LoadConfig")};$http({method:"GET",url:"/api"}).success(function(response){response.custom_logo?(configSettings.custom_logo=!0,$rootScope.custom_logo=response.custom_logo):configSettings.custom_logo=!1,response.custom_login_info?(configSettings.custom_login_info=response.custom_login_info,$rootScope.custom_login_info=response.custom_login_info):configSettings.custom_login_info=!1,configInit()}).error(function(error){$log.debug(error),configInit()})}}])}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){(function($,global,jsyaml){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(24),__webpack_require__(134),__webpack_require__(135),__webpack_require__(136),__webpack_require__(137),__webpack_require__(138),__webpack_require__(139),__webpack_require__(140),exports.default=angular.module("ParseHelper",["Utilities","AngularCodeMirrorModule"]).factory("ParseTypeChange",["Alert","AngularCodeMirror",function(Alert,AngularCodeMirror){return function(params){function removeField(fld){scope[fld]=scope[fld+"codeMirror"].getValue(),$("#cm-"+fld+"-container > .CodeMirror").empty().remove()}function createField(onChange,onReady,fld){scope[fld+"codeMirror"]=AngularCodeMirror(readOnly),scope[fld+"codeMirror"].addModes(global.$AnsibleConfig.variable_edit_modes),scope[fld+"codeMirror"].showTextArea({scope:scope,model:fld,element:field_id,lineNumbers:!0,mode:scope[pfld],onReady:onReady,onChange:onChange})}var scope=params.scope,field_id=params.field_id,fld=params.variable?params.variable:"variables",pfld=params.parse_variable?params.parse_variable:"parseType",onReady=params.onReady,onChange=params.onChange,readOnly=params.readOnly;createField(onChange,onReady,fld),scope.parseTypeChange=function(model,fld){var json_obj;if("json"===scope[model])try{removeField(fld),json_obj=jsyaml.load(scope[fld]),$.isEmptyObject(json_obj)?scope[fld]="{}":scope[fld]=JSON.stringify(json_obj,null," "),createField(onReady,onChange,fld)}catch(e){Alert("Parse Error","Failed to parse valid YAML. "+e.message),setTimeout(function(){scope.$apply(function(){scope[model]="yaml",createField(onReady,onChange,fld)})},500)}else try{removeField(fld),json_obj=JSON.parse(scope[fld]),$.isEmptyObject(json_obj)?scope[fld]="---":scope[fld]=jsyaml.safeDump(json_obj),createField(onReady,onChange,fld)}catch(e){Alert("Parse Error","Failed to parse valid JSON. "+e.message),setTimeout(function(){scope.$apply(function(){scope[model]="json",createField(onReady,onChange,fld)})},500)}}}}])}).call(exports,__webpack_require__(1),function(){return this}(),__webpack_require__(25))},function(module,exports,__webpack_require__){!function(mod){mod(__webpack_require__(24))}(function(CodeMirror){"use strict";function expressionAllowed(stream,state,backUp){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(state.lastType)||"quasi"==state.lastType&&/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}CodeMirror.defineMode("javascript",function(config,parserConfig){function readRegexp(stream){for(var next,escaped=!1,inSet=!1;null!=(next=stream.next());){if(!escaped){if("/"==next&&!inSet)return;"["==next?inSet=!0:inSet&&"]"==next&&(inSet=!1)}escaped=!escaped&&"\\"==next}}function ret(tp,style,cont){return type=tp,content=cont,style}function tokenBase(stream,state){var ch=stream.next();if('"'==ch||"'"==ch)return state.tokenize=tokenString(ch),state.tokenize(stream,state);if("."==ch&&stream.match(/^\d+(?:[eE][+\-]?\d+)?/))return ret("number","number");if("."==ch&&stream.match(".."))return ret("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ch))return ret(ch);if("="==ch&&stream.eat(">"))return ret("=>","operator");if("0"==ch&&stream.eat(/x/i))return stream.eatWhile(/[\da-f]/i),ret("number","number");if("0"==ch&&stream.eat(/o/i))return stream.eatWhile(/[0-7]/i),ret("number","number");if("0"==ch&&stream.eat(/b/i))return stream.eatWhile(/[01]/i),ret("number","number");if(/\d/.test(ch))return stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),ret("number","number");if("/"==ch)return stream.eat("*")?(state.tokenize=tokenComment,tokenComment(stream,state)):stream.eat("/")?(stream.skipToEnd(),ret("comment","comment")):expressionAllowed(stream,state,1)?(readRegexp(stream),stream.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),ret("regexp","string-2")):(stream.eatWhile(isOperatorChar),ret("operator","operator",stream.current()));if("`"==ch)return state.tokenize=tokenQuasi,tokenQuasi(stream,state);if("#"==ch)return stream.skipToEnd(),ret("error","error");if(isOperatorChar.test(ch))return stream.eatWhile(isOperatorChar),ret("operator","operator",stream.current());if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current(),known=keywords.propertyIsEnumerable(word)&&keywords[word];return known&&"."!=state.lastType?ret(known.type,known.style,word):ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var next,escaped=!1;if(jsonldMode&&"@"==stream.peek()&&stream.match(isJsonldKeyword))return state.tokenize=tokenBase,ret("jsonld-keyword","meta");for(;null!=(next=stream.next())&&(next!=quote||escaped);)escaped=!escaped&&"\\"==next;return escaped||(state.tokenize=tokenBase),ret("string","string")}}function tokenComment(stream,state){for(var ch,maybeEnd=!1;ch=stream.next();){if("/"==ch&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd="*"==ch}return ret("comment","comment")}function tokenQuasi(stream,state){for(var next,escaped=!1;null!=(next=stream.next());){if(!escaped&&("`"==next||"$"==next&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==next}return ret("quasi","string-2",stream.current())}function findFatArrow(stream,state){state.fatArrowAt&&(state.fatArrowAt=null);var arrow=stream.string.indexOf("=>",stream.start);if(!(arrow<0)){if(isTS){var m=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(stream.string.slice(stream.start,arrow));m&&(arrow=m.index)}for(var depth=0,sawSomething=!1,pos=arrow-1;pos>=0;--pos){var ch=stream.string.charAt(pos),bracket=brackets.indexOf(ch);if(bracket>=0&&bracket<3){if(!depth){++pos;break}if(0==--depth){"("==ch&&(sawSomething=!0);break}}else if(bracket>=3&&bracket<6)++depth;else if(wordRE.test(ch))sawSomething=!0;else{if(/["'\/]/.test(ch))return;if(sawSomething&&!depth){++pos;break}}}sawSomething&&!depth&&(state.fatArrowAt=pos)}}function JSLexical(indented,column,type,align,prev,info){this.indented=indented,this.column=column,this.type=type,this.prev=prev,this.info=info,null!=align&&(this.align=align)}function inScope(state,varname){for(var v=state.localVars;v;v=v.next)if(v.name==varname)return!0;for(var cx=state.context;cx;cx=cx.prev)for(var v=cx.vars;v;v=v.next)if(v.name==varname)return!0}function parseJS(state,style,type,content,stream){var cc=state.cc;for(cx.state=state,cx.stream=stream,cx.marked=null,cx.cc=cc,cx.style=style,state.lexical.hasOwnProperty("align")||(state.lexical.align=!0);;){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){for(;cc.length&&cc[cc.length-1].lex;)cc.pop()();return cx.marked?cx.marked:"variable"==type&&inScope(state,content)?"variable-2":style}}}function pass(){for(var i=arguments.length-1;i>=0;i--)cx.cc.push(arguments[i])}function cont(){return pass.apply(null,arguments),!0}function register(varname){function inList(list){for(var v=list;v;v=v.next)if(v.name==varname)return!0;return!1}var state=cx.state;if(cx.marked="def",state.context){if(inList(state.localVars))return;state.localVars={name:varname,next:state.localVars}}else{if(inList(state.globalVars))return;parserConfig.globalVars&&(state.globalVars={name:varname,next:state.globalVars})}}function pushcontext(){cx.state.context={prev:cx.state.context,vars:cx.state.localVars},cx.state.localVars=defaultVars}function popcontext(){cx.state.localVars=cx.state.context.vars,cx.state.context=cx.state.context.prev}function pushlex(type,info){var result=function(){var state=cx.state,indent=state.indented;if("stat"==state.lexical.type)indent=state.lexical.indented;else for(var outer=state.lexical;outer&&")"==outer.type&&outer.align;outer=outer.prev)indent=outer.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info)};return result.lex=!0,result}function poplex(){var state=cx.state;state.lexical.prev&&(")"==state.lexical.type&&(state.indented=state.lexical.indented),state.lexical=state.lexical.prev)}function expect(wanted){function exp(type){return type==wanted?cont():";"==wanted?pass():cont(exp)}return exp}function statement(type,value){return"var"==type?cont(pushlex("vardef",value.length),vardef,expect(";"),poplex):"keyword a"==type?cont(pushlex("form"),parenExpr,statement,poplex):"keyword b"==type?cont(pushlex("form"),statement,poplex):"{"==type?cont(pushlex("}"),block,poplex):";"==type?cont():"if"==type?("else"==cx.state.lexical.info&&cx.state.cc[cx.state.cc.length-1]==poplex&&cx.state.cc.pop()(),cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)):"function"==type?cont(functiondef):"for"==type?cont(pushlex("form"),forspec,statement,poplex):"variable"==type?cont(pushlex("stat"),maybelabel):"switch"==type?cont(pushlex("form"),parenExpr,pushlex("}","switch"),expect("{"),block,poplex,poplex):"case"==type?cont(expression,expect(":")):"default"==type?cont(expect(":")):"catch"==type?cont(pushlex("form"),pushcontext,expect("("),funarg,expect(")"),statement,poplex,popcontext):"class"==type?cont(pushlex("form"),className,poplex):"export"==type?cont(pushlex("stat"),afterExport,poplex):"import"==type?cont(pushlex("stat"),afterImport,poplex):"module"==type?cont(pushlex("form"),pattern,pushlex("}"),expect("{"),block,poplex,poplex):"type"==type?cont(typeexpr,expect("operator"),typeexpr,expect(";")):"async"==type?cont(statement):pass(pushlex("stat"),expression,expect(";"),poplex);
}function expression(type){return expressionInner(type,!1)}function expressionNoComma(type){return expressionInner(type,!0)}function parenExpr(type){return"("!=type?pass():cont(pushlex(")"),expression,expect(")"),poplex)}function expressionInner(type,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if("("==type)return cont(pushcontext,pushlex(")"),commasep(pattern,")"),poplex,expect("=>"),body,popcontext);if("variable"==type)return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;return atomicTypes.hasOwnProperty(type)?cont(maybeop):"function"==type?cont(functiondef,maybeop):"class"==type?cont(pushlex("form"),classExpression,poplex):"keyword c"==type||"async"==type?cont(noComma?maybeexpressionNoComma:maybeexpression):"("==type?cont(pushlex(")"),maybeexpression,expect(")"),poplex,maybeop):"operator"==type||"spread"==type?cont(noComma?expressionNoComma:expression):"["==type?cont(pushlex("]"),arrayLiteral,poplex,maybeop):"{"==type?contCommasep(objprop,"}",null,maybeop):"quasi"==type?pass(quasi,maybeop):"new"==type?cont(maybeTarget(noComma)):cont()}function maybeexpression(type){return type.match(/[;\}\)\],]/)?pass():pass(expression)}function maybeexpressionNoComma(type){return type.match(/[;\}\)\],]/)?pass():pass(expressionNoComma)}function maybeoperatorComma(type,value){return","==type?cont(expression):maybeoperatorNoComma(type,value,!1)}function maybeoperatorNoComma(type,value,noComma){var me=0==noComma?maybeoperatorComma:maybeoperatorNoComma,expr=0==noComma?expression:expressionNoComma;return"=>"==type?cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext):"operator"==type?/\+\+|--/.test(value)?cont(me):"?"==value?cont(expression,expect(":"),expr):cont(expr):"quasi"==type?pass(quasi,me):";"!=type?"("==type?contCommasep(expressionNoComma,")","call",me):"."==type?cont(property,me):"["==type?cont(pushlex("]"),maybeexpression,expect("]"),poplex,me):void 0:void 0}function quasi(type,value){return"quasi"!=type?pass():"${"!=value.slice(value.length-2)?cont(quasi):cont(expression,continueQuasi)}function continueQuasi(type){if("}"==type)return cx.marked="string-2",cx.state.tokenize=tokenQuasi,cont(quasi)}function arrowBody(type){return findFatArrow(cx.stream,cx.state),pass("{"==type?statement:expression)}function arrowBodyNoComma(type){return findFatArrow(cx.stream,cx.state),pass("{"==type?statement:expressionNoComma)}function maybeTarget(noComma){return function(type){return"."==type?cont(noComma?targetNoComma:target):pass(noComma?expressionNoComma:expression)}}function target(_,value){if("target"==value)return cx.marked="keyword",cont(maybeoperatorComma)}function targetNoComma(_,value){if("target"==value)return cx.marked="keyword",cont(maybeoperatorNoComma)}function maybelabel(type){return":"==type?cont(poplex,statement):pass(maybeoperatorComma,expect(";"),poplex)}function property(type){if("variable"==type)return cx.marked="property",cont()}function objprop(type,value){return"async"==type?(cx.marked="property",cont(objprop)):"variable"==type||"keyword"==cx.style?(cx.marked="property",cont("get"==value||"set"==value?getterSetter:afterprop)):"number"==type||"string"==type?(cx.marked=jsonldMode?"property":cx.style+" property",cont(afterprop)):"jsonld-keyword"==type?cont(afterprop):"modifier"==type?cont(objprop):"["==type?cont(expression,expect("]"),afterprop):"spread"==type?cont(expression):":"==type?pass(afterprop):void 0}function getterSetter(type){return"variable"!=type?pass(afterprop):(cx.marked="property",cont(functiondef))}function afterprop(type){return":"==type?cont(expressionNoComma):"("==type?pass(functiondef):void 0}function commasep(what,end){function proceed(type,value){if(","==type){var lex=cx.state.lexical;return"call"==lex.info&&(lex.pos=(lex.pos||0)+1),cont(function(type,value){return type==end||value==end?pass():pass(what)},proceed)}return type==end||value==end?cont():cont(expect(end))}return function(type,value){return type==end||value==end?cont():pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){return"}"==type?cont():pass(statement,block)}function maybetype(type,value){if(isTS){if(":"==type)return cont(typeexpr);if("?"==value)return cont(maybetype)}}function typeexpr(type){return"variable"==type?(cx.marked="variable-3",cont(afterType)):"{"==type?cont(commasep(typeprop,"}")):"("==type?cont(commasep(typearg,")"),maybeReturnType):void 0}function maybeReturnType(type){if("=>"==type)return cont(typeexpr)}function typeprop(type){return"variable"==type||"keyword"==cx.style?(cx.marked="property",cont(typeprop)):":"==type?cont(typeexpr):void 0}function typearg(type){return"variable"==type?cont(typearg):":"==type?cont(typeexpr):void 0}function afterType(type,value){return"<"==value?cont(commasep(typeexpr,">"),afterType):"["==type?cont(expect("]"),afterType):void 0}function vardef(){return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){return"modifier"==type?cont(pattern):"variable"==type?(register(value),cont()):"spread"==type?cont(pattern):"["==type?contCommasep(pattern,"]"):"{"==type?contCommasep(proppattern,"}"):void 0}function proppattern(type,value){return"variable"!=type||cx.stream.match(/^\s*:/,!1)?("variable"==type&&(cx.marked="property"),"spread"==type?cont(pattern):"}"==type?pass():cont(expect(":"),pattern,maybeAssign)):(register(value),cont(maybeAssign))}function maybeAssign(_type,value){if("="==value)return cont(expressionNoComma)}function vardefCont(type){if(","==type)return cont(vardef)}function maybeelse(type,value){if("keyword b"==type&&"else"==value)return cont(pushlex("form","else"),statement,poplex)}function forspec(type){if("("==type)return cont(pushlex(")"),forspec1,expect(")"),poplex)}function forspec1(type){return"var"==type?cont(vardef,expect(";"),forspec2):";"==type?cont(forspec2):"variable"==type?cont(formaybeinof):pass(expression,expect(";"),forspec2)}function formaybeinof(_type,value){return"in"==value||"of"==value?(cx.marked="keyword",cont(expression)):cont(maybeoperatorComma,forspec2)}function forspec2(type,value){return";"==type?cont(forspec3):"in"==value||"of"==value?(cx.marked="keyword",cont(expression)):pass(expression,expect(";"),forspec3)}function forspec3(type){")"!=type&&cont(expression)}function functiondef(type,value){return"*"==value?(cx.marked="keyword",cont(functiondef)):"variable"==type?(register(value),cont(functiondef)):"("==type?cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,maybetype,statement,popcontext):void 0}function funarg(type){return"spread"==type?cont(funarg):pass(pattern,maybetype,maybeAssign)}function classExpression(type,value){return"variable"==type?className(type,value):classNameAfter(type,value)}function className(type,value){if("variable"==type)return register(value),cont(classNameAfter)}function classNameAfter(type,value){return"extends"==value||"implements"==value?cont(isTS?typeexpr:expression,classNameAfter):"{"==type?cont(pushlex("}"),classBody,poplex):void 0}function classBody(type,value){return"variable"==type||"keyword"==cx.style?("static"==value||"get"==value||"set"==value||isTS&&("public"==value||"private"==value||"protected"==value||"readonly"==value||"abstract"==value))&&cx.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(cx.marked="keyword",cont(classBody)):(cx.marked="property",cont(isTS?classfield:functiondef,classBody)):"*"==value?(cx.marked="keyword",cont(classBody)):";"==type?cont(classBody):"}"==type?cont():void 0}function classfield(type,value){return"?"==value?cont(classfield):":"==type?cont(typeexpr,maybeAssign):pass(functiondef)}function afterExport(_type,value){return"*"==value?(cx.marked="keyword",cont(maybeFrom,expect(";"))):"default"==value?(cx.marked="keyword",cont(expression,expect(";"))):pass(statement)}function afterImport(type){return"string"==type?cont():pass(importSpec,maybeFrom)}function importSpec(type,value){return"{"==type?contCommasep(importSpec,"}"):("variable"==type&&register(value),"*"==value&&(cx.marked="keyword"),cont(maybeAs))}function maybeAs(_type,value){if("as"==value)return cx.marked="keyword",cont(importSpec)}function maybeFrom(_type,value){if("from"==value)return cx.marked="keyword",cont(expression)}function arrayLiteral(type){return"]"==type?cont():pass(commasep(expressionNoComma,"]"))}function isContinuedStatement(state,textAfter){return"operator"==state.lastType||","==state.lastType||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}var type,content,indentUnit=config.indentUnit,statementIndent=parserConfig.statementIndent,jsonldMode=parserConfig.jsonld,jsonMode=parserConfig.json||jsonldMode,isTS=parserConfig.typescript,wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/,keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c"),operator=kw("operator"),atom={type:"atom",style:"atom"},jsKeywords={if:kw("if"),while:A,with:A,else:B,do:B,try:B,finally:B,return:C,break:C,continue:C,new:kw("new"),delete:C,throw:C,debugger:C,var:kw("var"),const:kw("var"),let:kw("var"),function:kw("function"),catch:kw("catch"),for:kw("for"),switch:kw("switch"),case:kw("case"),default:kw("default"),in:operator,typeof:operator,instanceof:operator,true:atom,false:atom,null:atom,undefined:atom,NaN:atom,Infinity:atom,this:kw("this"),class:kw("class"),super:kw("atom"),yield:C,export:kw("export"),import:kw("import"),extends:C,await:C,async:kw("async")};if(isTS){var type={type:"variable",style:"variable-3"},tsKeywords={interface:kw("class"),implements:C,namespace:C,module:kw("module"),enum:kw("module"),type:kw("type"),public:kw("modifier"),private:kw("modifier"),protected:kw("modifier"),abstract:kw("modifier"),as:operator,string:type,number:type,boolean:type,any:type};for(var attr in tsKeywords)jsKeywords[attr]=tsKeywords[attr]}return jsKeywords}(),isOperatorChar=/[+\-*&%=<>!?|~^]/,isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,brackets="([{}])",atomicTypes={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},cx={state:null,column:null,marked:null,cc:null},defaultVars={name:"this",next:{name:"arguments"}};return poplex.lex=!0,{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",!1),localVars:parserConfig.localVars,context:parserConfig.localVars&&{vars:parserConfig.localVars},indented:basecolumn||0};return parserConfig.globalVars&&"object"==typeof parserConfig.globalVars&&(state.globalVars=parserConfig.globalVars),state},token:function(stream,state){if(stream.sol()&&(state.lexical.hasOwnProperty("align")||(state.lexical.align=!1),state.indented=stream.indentation(),findFatArrow(stream,state)),state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);return"comment"==type?style:(state.lastType="operator"!=type||"++"!=content&&"--"!=content?type:"incdec",parseJS(state,style,type,content,stream))},indent:function(state,textAfter){if(state.tokenize==tokenComment)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var top,firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical;if(!/^\s*else\b/.test(textAfter))for(var i=state.cc.length-1;i>=0;--i){var c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse)break}for(;("stat"==lexical.type||"form"==lexical.type)&&("}"==firstChar||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(textAfter));)lexical=lexical.prev;statementIndent&&")"==lexical.type&&"stat"==lexical.prev.type&&(lexical=lexical.prev);var type=lexical.type,closing=firstChar==type;return"vardef"==type?lexical.indented+("operator"==state.lastType||","==state.lastType?lexical.info+1:0):"form"==type&&"{"==firstChar?lexical.indented:"form"==type?lexical.indented+indentUnit:"stat"==type?lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0):"switch"!=lexical.info||closing||0==parserConfig.doubleIndentSwitch?lexical.align?lexical.column+(closing?0:1):lexical.indented+(closing?0:indentUnit):lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function(state){var top=state.cc[state.cc.length-1];top!=expression&&top!=expressionNoComma||state.cc.pop()}}}),CodeMirror.registerHelper("wordChars","javascript",/[\w$]/),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/x-javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(module,exports,__webpack_require__){!function(mod){mod(__webpack_require__(24))}(function(CodeMirror){"use strict";CodeMirror.defineMode("yaml",function(){var cons=["true","false","on","off","yes","no"],keywordRegex=new RegExp("\\b(("+cons.join(")|(")+"))$","i");return{token:function(stream,state){var ch=stream.peek(),esc=state.escaped;if(state.escaped=!1,"#"==ch&&(0==stream.pos||/\s/.test(stream.string.charAt(stream.pos-1))))return stream.skipToEnd(),"comment";if(stream.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(state.literal&&stream.indentation()>state.keyCol)return stream.skipToEnd(),"string";if(state.literal&&(state.literal=!1),stream.sol()){if(state.keyCol=0,state.pair=!1,state.pairStart=!1,stream.match(/---/))return"def";if(stream.match(/\.\.\./))return"def";if(stream.match(/\s*-\s+/))return"meta"}if(stream.match(/^(\{|\}|\[|\])/))return"{"==ch?state.inlinePairs++:"}"==ch?state.inlinePairs--:"["==ch?state.inlineList++:state.inlineList--,"meta";if(state.inlineList>0&&!esc&&","==ch)return stream.next(),"meta";if(state.inlinePairs>0&&!esc&&","==ch)return state.keyCol=0,state.pair=!1,state.pairStart=!1,stream.next(),"meta";if(state.pairStart){if(stream.match(/^\s*(\||\>)\s*/))return state.literal=!0,"meta";if(stream.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==state.inlinePairs&&stream.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(state.inlinePairs>0&&stream.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(stream.match(keywordRegex))return"keyword"}return!state.pair&&stream.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(state.pair=!0,state.keyCol=stream.indentation(),"atom"):state.pair&&stream.match(/^:\s*/)?(state.pairStart=!0,"meta"):(state.pairStart=!1,state.escaped="\\"==ch,stream.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),CodeMirror.defineMIME("text/x-yaml","yaml")})},function(module,exports,__webpack_require__){!function(mod){mod(__webpack_require__(24))}(function(CodeMirror){"use strict";function showTooltip(e,content){function position(e){return tt.parentNode?(tt.style.top=Math.max(0,e.clientY-tt.offsetHeight-5)+"px",void(tt.style.left=e.clientX+5+"px")):CodeMirror.off(document,"mousemove",position)}var tt=document.createElement("div");return tt.className="CodeMirror-lint-tooltip",tt.appendChild(content.cloneNode(!0)),document.body.appendChild(tt),CodeMirror.on(document,"mousemove",position),position(e),null!=tt.style.opacity&&(tt.style.opacity=1),tt}function rm(elt){elt.parentNode&&elt.parentNode.removeChild(elt)}function hideTooltip(tt){tt.parentNode&&(null==tt.style.opacity&&rm(tt),tt.style.opacity=0,setTimeout(function(){rm(tt)},600))}function showTooltipFor(e,content,node){function hide(){CodeMirror.off(node,"mouseout",hide),tooltip&&(hideTooltip(tooltip),tooltip=null)}var tooltip=showTooltip(e,content),poll=setInterval(function(){if(tooltip)for(var n=node;;n=n.parentNode){if(n&&11==n.nodeType&&(n=n.host),n==document.body)return;if(!n){hide();break}}if(!tooltip)return clearInterval(poll)},400);CodeMirror.on(node,"mouseout",hide)}function LintState(cm,options,hasGutter){this.marked=[],this.options=options,this.timeout=null,this.hasGutter=hasGutter,this.onMouseOver=function(e){onMouseOver(cm,e)},this.waitingFor=0}function parseOptions(_cm,options){return options instanceof Function?{getAnnotations:options}:(options&&options!==!0||(options={}),options)}function clearMarks(cm){var state=cm.state.lint;state.hasGutter&&cm.clearGutter(GUTTER_ID);for(var i=0;i<state.marked.length;++i)state.marked[i].clear();state.marked.length=0}function makeMarker(labels,severity,multiple,tooltips){var marker=document.createElement("div"),inner=marker;return marker.className="CodeMirror-lint-marker-"+severity,multiple&&(inner=marker.appendChild(document.createElement("div")),inner.className="CodeMirror-lint-marker-multiple"),0!=tooltips&&CodeMirror.on(inner,"mouseover",function(e){showTooltipFor(e,labels,inner)}),marker}function getMaxSeverity(a,b){return"error"==a?a:b}function groupByLine(annotations){for(var lines=[],i=0;i<annotations.length;++i){var ann=annotations[i],line=ann.from.line;(lines[line]||(lines[line]=[])).push(ann)}return lines}function annotationTooltip(ann){var severity=ann.severity;severity||(severity="error");var tip=document.createElement("div");return tip.className="CodeMirror-lint-message-"+severity,tip.appendChild(document.createTextNode(ann.message)),tip}function lintAsync(cm,getAnnotations,passOptions){function abort(){id=-1,cm.off("change",abort)}var state=cm.state.lint,id=++state.waitingFor;cm.on("change",abort),getAnnotations(cm.getValue(),function(annotations,arg2){cm.off("change",abort),state.waitingFor==id&&(arg2&&annotations instanceof CodeMirror&&(annotations=arg2),updateLinting(cm,annotations))},passOptions,cm)}function startLinting(cm){var state=cm.state.lint,options=state.options,passOptions=options.options||options,getAnnotations=options.getAnnotations||cm.getHelper(CodeMirror.Pos(0,0),"lint");getAnnotations&&(options.async||getAnnotations.async?lintAsync(cm,getAnnotations,passOptions):updateLinting(cm,getAnnotations(cm.getValue(),passOptions,cm)))}function updateLinting(cm,annotationsNotSorted){clearMarks(cm);for(var state=cm.state.lint,options=state.options,annotations=groupByLine(annotationsNotSorted),line=0;line<annotations.length;++line){var anns=annotations[line];if(anns){for(var maxSeverity=null,tipLabel=state.hasGutter&&document.createDocumentFragment(),i=0;i<anns.length;++i){var ann=anns[i],severity=ann.severity;severity||(severity="error"),maxSeverity=getMaxSeverity(maxSeverity,severity),options.formatAnnotation&&(ann=options.formatAnnotation(ann)),state.hasGutter&&tipLabel.appendChild(annotationTooltip(ann)),ann.to&&state.marked.push(cm.markText(ann.from,ann.to,{className:"CodeMirror-lint-mark-"+severity,__annotation:ann}))}state.hasGutter&&cm.setGutterMarker(line,GUTTER_ID,makeMarker(tipLabel,maxSeverity,anns.length>1,state.options.tooltips))}}options.onUpdateLinting&&options.onUpdateLinting(annotationsNotSorted,annotations,cm)}function onChange(cm){var state=cm.state.lint;state&&(clearTimeout(state.timeout),state.timeout=setTimeout(function(){startLinting(cm)},state.options.delay||500))}function popupTooltips(annotations,e){for(var target=e.target||e.srcElement,tooltip=document.createDocumentFragment(),i=0;i<annotations.length;i++){var ann=annotations[i];tooltip.appendChild(annotationTooltip(ann))}showTooltipFor(e,tooltip,target)}function onMouseOver(cm,e){var target=e.target||e.srcElement;if(/\bCodeMirror-lint-mark-/.test(target.className)){for(var box=target.getBoundingClientRect(),x=(box.left+box.right)/2,y=(box.top+box.bottom)/2,spans=cm.findMarksAt(cm.coordsChar({left:x,top:y},"client")),annotations=[],i=0;i<spans.length;++i){var ann=spans[i].__annotation;ann&&annotations.push(ann)}annotations.length&&popupTooltips(annotations,e)}}var GUTTER_ID="CodeMirror-lint-markers";CodeMirror.defineOption("lint",!1,function(cm,val,old){if(old&&old!=CodeMirror.Init&&(clearMarks(cm),cm.state.lint.options.lintOnChange!==!1&&cm.off("change",onChange),CodeMirror.off(cm.getWrapperElement(),"mouseover",cm.state.lint.onMouseOver),clearTimeout(cm.state.lint.timeout),delete cm.state.lint),val){for(var gutters=cm.getOption("gutters"),hasLintGutter=!1,i=0;i<gutters.length;++i)gutters[i]==GUTTER_ID&&(hasLintGutter=!0);var state=cm.state.lint=new LintState(cm,parseOptions(cm,val),hasLintGutter);state.options.lintOnChange!==!1&&cm.on("change",onChange),0!=state.options.tooltips&&"gutter"!=state.options.tooltips&&CodeMirror.on(cm.getWrapperElement(),"mouseover",state.onMouseOver),startLinting(cm)}}),CodeMirror.defineExtension("performLint",function(){this.state.lint&&startLinting(this)})})},function(module,exports,__webpack_require__){(function(CodeMirror,jsyaml){CodeMirror.registerHelper("lint","yaml",function(text){var found=[];try{jsyaml.load(text)}catch(e){var loc=e.mark;found.push({from:CodeMirror.Pos(loc.line,loc.column),to:CodeMirror.Pos(loc.line,loc.column),message:e.message})}return found}),CodeMirror.yamlValidator=CodeMirror.lint.yaml}).call(exports,__webpack_require__(24),__webpack_require__(25))},function(module,exports,__webpack_require__){!function(mod){mod(__webpack_require__(24))}(function(CodeMirror){function getOption(conf,name){return"pairs"==name&&"string"==typeof conf?conf:"object"==typeof conf&&null!=conf[name]?conf[name]:defaults[name]}function handler(ch){return function(cm){return handleChar(cm,ch)}}function getConfig(cm){var deflt=cm.state.closeBrackets;if(!deflt)return null;var mode=cm.getModeAt(cm.getCursor());return mode.closeBrackets||deflt}function handleBackspace(cm){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;for(var pairs=getOption(conf,"pairs"),ranges=cm.listSelections(),i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var around=charsAround(cm,ranges[i].head);if(!around||pairs.indexOf(around)%2!=0)return CodeMirror.Pass}for(var i=ranges.length-1;i>=0;i--){var cur=ranges[i].head;cm.replaceRange("",Pos(cur.line,cur.ch-1),Pos(cur.line,cur.ch+1),"+delete")}}function handleEnter(cm){var conf=getConfig(cm),explode=conf&&getOption(conf,"explode");if(!explode||cm.getOption("disableInput"))return CodeMirror.Pass;for(var ranges=cm.listSelections(),i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var around=charsAround(cm,ranges[i].head);if(!around||explode.indexOf(around)%2!=0)return CodeMirror.Pass}cm.operation(function(){cm.replaceSelection("\n\n",null),cm.execCommand("goCharLeft"),ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){var line=ranges[i].head.line;cm.indentLine(line,null,!0),cm.indentLine(line+1,null,!0)}})}function contractSelection(sel){var inverted=CodeMirror.cmpPos(sel.anchor,sel.head)>0;return{anchor:new Pos(sel.anchor.line,sel.anchor.ch+(inverted?-1:1)),head:new Pos(sel.head.line,sel.head.ch+(inverted?1:-1))}}function handleChar(cm,ch){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;var pairs=getOption(conf,"pairs"),pos=pairs.indexOf(ch);if(pos==-1)return CodeMirror.Pass;for(var type,triples=getOption(conf,"triples"),identical=pairs.charAt(pos+1)==ch,ranges=cm.listSelections(),opening=pos%2==0,i=0;i<ranges.length;i++){var curType,range=ranges[i],cur=range.head,next=cm.getRange(cur,Pos(cur.line,cur.ch+1));if(opening&&!range.empty())curType="surround";else if(!identical&&opening||next!=ch)if(identical&&cur.ch>1&&triples.indexOf(ch)>=0&&cm.getRange(Pos(cur.line,cur.ch-2),cur)==ch+ch&&(cur.ch<=2||cm.getRange(Pos(cur.line,cur.ch-3),Pos(cur.line,cur.ch-2))!=ch))curType="addFour";else if(identical){if(CodeMirror.isWordChar(next)||!enteringString(cm,cur,ch))return CodeMirror.Pass;curType="both"}else{if(!opening||cm.getLine(cur.line).length!=cur.ch&&!isClosingBracket(next,pairs)&&!/\s/.test(next))return CodeMirror.Pass;curType="both"}else curType=identical&&stringStartsAfter(cm,cur)?"both":triples.indexOf(ch)>=0&&cm.getRange(cur,Pos(cur.line,cur.ch+3))==ch+ch+ch?"skipThree":"skip";if(type){if(type!=curType)return CodeMirror.Pass}else type=curType}var left=pos%2?pairs.charAt(pos-1):ch,right=pos%2?ch:pairs.charAt(pos+1);cm.operation(function(){if("skip"==type)cm.execCommand("goCharRight");else if("skipThree"==type)for(var i=0;i<3;i++)cm.execCommand("goCharRight");else if("surround"==type){for(var sels=cm.getSelections(),i=0;i<sels.length;i++)sels[i]=left+sels[i]+right;cm.replaceSelections(sels,"around"),sels=cm.listSelections().slice();for(var i=0;i<sels.length;i++)sels[i]=contractSelection(sels[i]);cm.setSelections(sels)}else"both"==type?(cm.replaceSelection(left+right,null),cm.triggerElectric(left+right),cm.execCommand("goCharLeft")):"addFour"==type&&(cm.replaceSelection(left+left+left+left,"before"),cm.execCommand("goCharRight"))})}function isClosingBracket(ch,pairs){var pos=pairs.lastIndexOf(ch);return pos>-1&&pos%2==1}function charsAround(cm,pos){var str=cm.getRange(Pos(pos.line,pos.ch-1),Pos(pos.line,pos.ch+1));return 2==str.length?str:null}function enteringString(cm,pos,ch){var line=cm.getLine(pos.line),token=cm.getTokenAt(pos);if(/\bstring2?\b/.test(token.type))return!1;var stream=new CodeMirror.StringStream(line.slice(0,pos.ch)+ch+line.slice(pos.ch),4);for(stream.pos=stream.start=token.start;;){var type1=cm.getMode().token(stream,token.state);if(stream.pos>=pos.ch+1)return/\bstring2?\b/.test(type1);stream.start=stream.pos}}function stringStartsAfter(cm,pos){var token=cm.getTokenAt(Pos(pos.line,pos.ch+1));return/\bstring/.test(token.type)&&token.start==pos.ch}var defaults={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},Pos=CodeMirror.Pos;CodeMirror.defineOption("autoCloseBrackets",!1,function(cm,val,old){old&&old!=CodeMirror.Init&&(cm.removeKeyMap(keyMap),cm.state.closeBrackets=null),val&&(cm.state.closeBrackets=val,cm.addKeyMap(keyMap))});for(var bind=defaults.pairs+"`",keyMap={Backspace:handleBackspace,Enter:handleEnter},i=0;i<bind.length;i++)keyMap["'"+bind.charAt(i)+"'"]=handler(bind.charAt(i))})},function(module,exports,__webpack_require__){!function(mod){mod(__webpack_require__(24))}(function(CodeMirror){function findMatchingBracket(cm,where,strict,config){var line=cm.getLineHandle(where.line),pos=where.ch-1,match=pos>=0&&matching[line.text.charAt(pos)]||matching[line.text.charAt(++pos)];if(!match)return null;var dir=">"==match.charAt(1)?1:-1;if(strict&&dir>0!=(pos==where.ch))return null;var style=cm.getTokenTypeAt(Pos(where.line,pos+1)),found=scanForBracket(cm,Pos(where.line,pos+(dir>0?1:0)),dir,style||null,config);return null==found?null:{from:Pos(where.line,pos),to:found&&found.pos,match:found&&found.ch==match.charAt(0),forward:dir>0}}function scanForBracket(cm,where,dir,style,config){for(var maxScanLen=config&&config.maxScanLineLength||1e4,maxScanLines=config&&config.maxScanLines||1e3,stack=[],re=config&&config.bracketRegex?config.bracketRegex:/[(){}[\]]/,lineEnd=dir>0?Math.min(where.line+maxScanLines,cm.lastLine()+1):Math.max(cm.firstLine()-1,where.line-maxScanLines),lineNo=where.line;lineNo!=lineEnd;lineNo+=dir){var line=cm.getLine(lineNo);if(line){var pos=dir>0?0:line.length-1,end=dir>0?line.length:-1;if(!(line.length>maxScanLen))for(lineNo==where.line&&(pos=where.ch-(dir<0?1:0));pos!=end;pos+=dir){var ch=line.charAt(pos);if(re.test(ch)&&(void 0===style||cm.getTokenTypeAt(Pos(lineNo,pos+1))==style)){var match=matching[ch];if(">"==match.charAt(1)==dir>0)stack.push(ch);else{if(!stack.length)return{pos:Pos(lineNo,pos),ch:ch};stack.pop()}}}}}return lineNo-dir!=(dir>0?cm.lastLine():cm.firstLine())&&null}function matchBrackets(cm,autoclear,config){for(var maxHighlightLen=cm.state.matchBrackets.maxHighlightLineLength||1e3,marks=[],ranges=cm.listSelections(),i=0;i<ranges.length;i++){var match=ranges[i].empty()&&findMatchingBracket(cm,ranges[i].head,!1,config);if(match&&cm.getLine(match.from.line).length<=maxHighlightLen){var style=match.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";marks.push(cm.markText(match.from,Pos(match.from.line,match.from.ch+1),{className:style})),match.to&&cm.getLine(match.to.line).length<=maxHighlightLen&&marks.push(cm.markText(match.to,Pos(match.to.line,match.to.ch+1),{className:style}))}}if(marks.length){ie_lt8&&cm.state.focused&&cm.focus();var clear=function(){cm.operation(function(){for(var i=0;i<marks.length;i++)marks[i].clear()})};if(!autoclear)return clear;setTimeout(clear,800)}}function doMatchBrackets(cm){cm.operation(function(){currentlyHighlighted&&(currentlyHighlighted(),currentlyHighlighted=null),currentlyHighlighted=matchBrackets(cm,!1,cm.state.matchBrackets)})}var ie_lt8=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),Pos=CodeMirror.Pos,matching={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},currentlyHighlighted=null;CodeMirror.defineOption("matchBrackets",!1,function(cm,val,old){old&&old!=CodeMirror.Init&&(cm.off("cursorActivity",doMatchBrackets),currentlyHighlighted&&(currentlyHighlighted(),currentlyHighlighted=null)),val&&(cm.state.matchBrackets="object"==typeof val?val:{},cm.on("cursorActivity",doMatchBrackets))}),CodeMirror.defineExtension("matchBrackets",function(){matchBrackets(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(pos,strict,config){return findMatchingBracket(this,pos,strict,config)}),CodeMirror.defineExtension("scanForBracket",function(pos,dir,style,config){return scanForBracket(this,pos,dir,style,config)})})},function(module,exports,__webpack_require__){!function(mod){mod(__webpack_require__(24))}(function(CodeMirror){"use strict";function clearActiveLines(cm){for(var i=0;i<cm.state.activeLines.length;i++)cm.removeLineClass(cm.state.activeLines[i],"wrap",WRAP_CLASS),cm.removeLineClass(cm.state.activeLines[i],"background",BACK_CLASS),cm.removeLineClass(cm.state.activeLines[i],"gutter",GUTT_CLASS)}function sameArray(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;i++)if(a[i]!=b[i])return!1;return!0}function updateActiveLines(cm,ranges){for(var active=[],i=0;i<ranges.length;i++){var range=ranges[i];if(range.empty()){var line=cm.getLineHandleVisualStart(range.head.line);active[active.length-1]!=line&&active.push(line)}}sameArray(cm.state.activeLines,active)||cm.operation(function(){clearActiveLines(cm);for(var i=0;i<active.length;i++)cm.addLineClass(active[i],"wrap",WRAP_CLASS),cm.addLineClass(active[i],"background",BACK_CLASS),cm.addLineClass(active[i],"gutter",GUTT_CLASS);cm.state.activeLines=active})}function selectionChange(cm,sel){updateActiveLines(cm,sel.ranges)}var WRAP_CLASS="CodeMirror-activeline",BACK_CLASS="CodeMirror-activeline-background",GUTT_CLASS="CodeMirror-activeline-gutter";CodeMirror.defineOption("styleActiveLine",!1,function(cm,val,old){var prev=old&&old!=CodeMirror.Init;val&&!prev?(cm.state.activeLines=[],updateActiveLines(cm,cm.listSelections()),cm.on("beforeSelectionChange",selectionChange)):!val&&prev&&(cm.off("beforeSelectionChange",selectionChange),clearActiveLines(cm),delete cm.state.activeLines)})})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ProjectPathHelper",["RestServices","Utilities"]).factory("GetProjectPath",["Alert","Rest","GetBasePath","ProcessErrors",function(Alert,Rest,GetBasePath,ProcessErrors){return function(params){
function arraySort(data){var i,j,names=[],newData=[];for(i=0;i<data.length;i++)names.push(data[i].value);for(names.sort(),j=0;j<names.length;j++)for(i=0;i<data.length;i++)data[i].value===names[j]&&newData.push(data[i]);return newData}var scope=params.scope,master=params.master;scope.showMissingPlaybooksAlert=!1,Rest.setUrl(GetBasePath("config")),Rest.get().success(function(data){var i,opts=[];if(data.project_local_paths)for(i=0;i<data.project_local_paths.length;i++)opts.push({label:data.project_local_paths[i],value:data.project_local_paths[i]});if(scope.local_path&&opts.push({label:scope.local_path,value:scope.local_path}),scope.project_local_paths=arraySort(opts),scope.local_path)for(i=0;scope.project_local_paths.length;i++)if(scope.project_local_paths[i].value===scope.local_path){scope.local_path=scope.project_local_paths[i];break}scope.base_dir=data.project_base_dir,master.local_path=scope.local_path,master.base_dir=scope.base_dir,0===opts.length&&(scope.showMissingPlaybooksAlert=!0),scope.$emit("pathsReady")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to access API config. GET status: "+status})})}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ProjectsHelper",["RestServices","Utilities","ProjectStatusDefinition","ProjectFormDefinition"]).factory("GetProjectIcon",[function(){return function(status){var result="";switch(status){case"n/a":case"ok":case"never updated":result="none";break;case"pending":case"waiting":case"new":result="none";break;case"updating":case"running":result="running";break;case"successful":result="success";break;case"failed":case"missing":case"canceled":result="error"}return result}}]).factory("GetProjectToolTip",["i18n",function(i18n){return function(status){var result="";switch(status){case"n/a":case"ok":case"never updated":result=i18n._("No SCM updates have run for this project");break;case"pending":case"waiting":case"new":result=i18n._("Queued. Click for details");break;case"updating":case"running":result=i18n._("Running! Click for details");break;case"successful":result=i18n._("Success! Click for details");break;case"failed":result=i18n._("Failed. Click for details");break;case"missing":result=i18n._("Missing. Click for details");break;case"canceled":result=i18n._("Canceled. Click for details")}return result}}])},function(module,exports,__webpack_require__){(function(_,$,jsyaml){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(114),_main2=_interopRequireDefault(_main);exports.default=angular.module("SchedulesHelper",["Utilities","RestServices","SchedulesHelper",_main2.default.name,"ModalDialog","GeneratorHelpers"]).factory("EditSchedule",["SchedulerInit","$rootScope","Wait","Rest","ProcessErrors","GetBasePath","SchedulePost","$state",function(SchedulerInit,$rootScope,Wait,Rest,ProcessErrors,GetBasePath,SchedulePost,$state){return function(params){function setGranularity(){var a,b,prompt_for_days,keep_unit,granularity,granularity_keep_unit;scope.cleanupJob?scope.schedulerPurgeDays=Number(schedule.extra_data.days):scope.isFactCleanup&&(scope.keep_unit_choices=[{label:"Days",value:"d"},{label:"Weeks",value:"w"},{label:"Years",value:"y"}],scope.granularity_keep_unit_choices=[{label:"Days",value:"d"},{label:"Weeks",value:"w"},{label:"Years",value:"y"}],a=schedule.extra_data.older_than,b=schedule.extra_data.granularity,prompt_for_days=Number(_.initial(a,1).join("")),keep_unit=_.last(a),granularity=Number(_.initial(b,1).join("")),granularity_keep_unit=_.last(b),scope.keep_amount=prompt_for_days,scope.granularity_keep_amount=granularity,scope.keep_unit=_.find(scope.keep_unit_choices,function(i){return i.value===keep_unit}),scope.granularity_keep_unit=_.find(scope.granularity_keep_unit_choices,function(i){return i.value===granularity_keep_unit}))}var schedule,scheduler,scope=params.scope,id=params.id,callback=params.callback,url=GetBasePath("schedules")+id+"/";delete scope.isFactCleanup,delete scope.cleanupJob,scope.removeScheduleFound&&scope.removeScheduleFound(),scope.removeScheduleFound=scope.$on("ScheduleFound",function(){$("#form-container").empty(),scheduler=SchedulerInit({scope:scope,requireFutureStartTime:!1}),scheduler.inject("form-container",!1),scheduler.injectDetail("occurrences",!1),/DTSTART/.test(schedule.rrule)||(schedule.rrule+=";DTSTART="+schedule.dtstart.replace(/\.\d+Z$/,"Z")),schedule.rrule=schedule.rrule.replace(/ RRULE:/,";"),schedule.rrule=schedule.rrule.replace(/DTSTART:/,"DTSTART="),scope.$on("htmlDetailReady",function(){scheduler.setRRule(schedule.rrule),scheduler.setName(schedule.name),$rootScope.$broadcast("ScheduleFormCreated",scope)}),scope.showRRuleDetail=!1,scheduler.setRRule(schedule.rrule),scheduler.setName(schedule.name),(scope.isFactCleanup||scope.cleanupJob)&&setGranularity()}),scope.removeScheduleSaved&&scope.removeScheduleSaved(),scope.removeScheduleSaved=scope.$on("ScheduleSaved",function(e,data){Wait("stop"),callback&&scope.$emit(callback,data),$state.go("^")}),scope.saveSchedule=function(){schedule.extra_data=scope.extraVars,SchedulePost({scope:scope,url:url,scheduler:scheduler,callback:"ScheduleSaved",mode:"edit",schedule:schedule})},Wait("start"),Rest.setUrl(url),Rest.get().success(function(data){schedule=data;try{schedule.extra_data=JSON.parse(schedule.extra_data)}catch(e){}scope.extraVars=""===data.extra_data?"---":"---\n"+jsyaml.safeDump(data.extra_data),schedule.extra_data.hasOwnProperty("granularity")&&(scope.isFactCleanup=!0),schedule.extra_data.hasOwnProperty("days")&&(scope.cleanupJob=!0),scope.schedule_obj=data,scope.$emit("ScheduleFound")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve schedule "+id+" GET returned: "+status})})}}]).factory("AddSchedule",["$location","$rootScope","$stateParams","SchedulerInit","Wait","GetBasePath","Empty","SchedulePost","$state","Rest","ProcessErrors",function($location,$rootScope,$stateParams,SchedulerInit,Wait,GetBasePath,Empty,SchedulePost,$state,Rest,ProcessErrors){return function(params){var scheduler,job_type,scope=params.scope,callback=params.callback,base=params.base||$location.path().replace(/^\//,"").split("/")[0],url=params.url||null;if(job_type=scope.parentObject.job_type,Empty($stateParams.id)||"system_job_templates"===base||"inventories"===base||url?"inventories"===base?params.url?url=params.url:(url=GetBasePath("groups")+$stateParams.id+"/",Rest.setUrl(url),Rest.get().then(function(data){url=data.data.related.inventory_source+"schedules/"}).catch(function(response){ProcessErrors(null,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get inventory group info. GET returned status: "+response.status})})):"system_job_templates"===base&&(url=GetBasePath(base)+$stateParams.id+"/schedules/","cleanup_facts"===job_type?(scope.isFactCleanup=!0,scope.keep_unit_choices=[{label:"Days",value:"d"},{label:"Weeks",value:"w"},{label:"Years",value:"y"}],scope.granularity_keep_unit_choices=[{label:"Days",value:"d"},{label:"Weeks",value:"w"},{label:"Years",value:"y"}],scope.prompt_for_days_facts_form.keep_amount.$setViewValue(30),scope.prompt_for_days_facts_form.granularity_keep_amount.$setViewValue(1),scope.keep_unit=scope.keep_unit_choices[0],scope.granularity_keep_unit=scope.granularity_keep_unit_choices[1]):scope.cleanupJob=!0):url=GetBasePath(base)+$stateParams.id+"/schedules/",Wait("start"),$("#form-container").empty(),scheduler=SchedulerInit({scope:scope,requireFutureStartTime:!1}),scope.schedulerUTCTime)scope.processSchedulerEndDt();else var schedulerUTCTimeWatcher=scope.$watch("schedulerUTCTime",function(newVal){newVal&&(schedulerUTCTimeWatcher(),scope.processSchedulerEndDt())});scheduler.inject("form-container",!1),scheduler.injectDetail("occurrences",!1),scheduler.clear(),scope.$on("htmlDetailReady",function(){$rootScope.$broadcast("ScheduleFormCreated",scope)}),scope.showRRuleDetail=!1,scope.removeScheduleSaved&&scope.removeScheduleSaved(),scope.removeScheduleSaved=scope.$on("ScheduleSaved",function(e,data){Wait("stop"),callback&&scope.$emit(callback,data),$state.go("^",null,{reload:!0})}),scope.saveSchedule=function(){SchedulePost({scope:scope,url:url,scheduler:scheduler,callback:"ScheduleSaved",mode:"add"})},$("#scheduler-tabs li a").on("shown.bs.tab",function(e){"Details"===$(e.target).text()&&(scheduler.isValid()||$("#scheduler-tabs a:first").tab("show"))})}}]).factory("SchedulePost",["Rest","ProcessErrors","RRuleToAPI","Wait",function(Rest,ProcessErrors,RRuleToAPI,Wait){return function(params){var newSchedule,rrule,extra_vars,scope=params.scope,url=params.url,scheduler=params.scheduler,mode=params.mode,schedule=params.schedule?params.schedule:{},callback=params.callback;return!!scheduler.isValid()&&(Wait("start"),newSchedule=scheduler.getValue(),rrule=scheduler.getRRule(),schedule.name=newSchedule.name,schedule.rrule=RRuleToAPI(rrule.toString()),schedule.description=/error/.test(rrule.toText())?"":rrule.toText(),scope.isFactCleanup?(extra_vars={older_than:scope.scheduler_form.keep_amount.$viewValue+scope.scheduler_form.keep_unit.$viewValue.value,granularity:scope.scheduler_form.granularity_keep_amount.$viewValue+scope.scheduler_form.granularity_keep_unit.$viewValue.value},schedule.extra_data=JSON.stringify(extra_vars)):scope.cleanupJob?(extra_vars={days:scope.scheduler_form.schedulerPurgeDays.$viewValue},schedule.extra_data=JSON.stringify(extra_vars)):scope.extraVars&&(schedule.extra_data="yaml"===scope.parseType?"---"===scope.extraVars?"":jsyaml.safeLoad(scope.extraVars):scope.extraVars),Rest.setUrl(url),"add"===mode?Rest.post(schedule).success(function(){callback?scope.$emit(callback):Wait("stop")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"POST to "+url+" returned: "+status})}):Rest.put(schedule).success(function(){callback?scope.$emit(callback,schedule):Wait("stop")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"POST to "+url+" returned: "+status})}),void 0)}}]).factory("ToggleSchedule",["Wait","GetBasePath","ProcessErrors","Rest","$state",function(Wait,GetBasePath,ProcessErrors,Rest,$state){return function(params){var scope=params.scope,id=params.id,url=GetBasePath("schedules")+id+"/";scope.removeScheduleFound&&scope.removeScheduleFound(),scope.removeScheduleFound=scope.$on("ScheduleFound",function(e,data){data.enabled=!data.enabled,Rest.put(data).success(function(){Wait("stop"),$state.go(".",null,{reload:!0})}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to update schedule "+id+" PUT returned: "+status})})}),Wait("start"),Rest.setUrl(url),Rest.get().success(function(data){scope.$emit("ScheduleFound",data)}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve schedule "+id+" GET returned: "+status})})}}]).factory("DeleteSchedule",["GetBasePath","Rest","Wait","$state","ProcessErrors","Prompt","Find","$location","$filter",function(GetBasePath,Rest,Wait,$state,ProcessErrors,Prompt,Find,$location,$filter){return function(params){var action,schedule,list,url,hdr,scope=params.scope,id=params.id,callback=params.callback;scope.schedules?list=scope.schedules:scope.scheduled_jobs&&(list=scope.scheduled_jobs),url=GetBasePath("schedules")+id+"/",schedule=Find({list:list,key:"id",val:id}),hdr="Delete Schedule",action=function(){Wait("start"),Rest.setUrl(url),Rest.destroy().success(function(){$("#prompt-modal").modal("hide"),scope.$emit(callback,id),new RegExp("/"+id+"$").test($location.$$url)?$location.url($location.url().replace(/[\/][0-9]+$/,"")):$state.go(".",null,{reload:!0})}).error(function(data,status){try{$("#prompt-modal").modal("hide")}catch(e){}ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned: "+status})})},Prompt({hdr:hdr,body:'<div class="Prompt-bodyQuery">Are you sure you want to delete the schedule below?</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(schedule.name)+"</div>",action:action,actionText:"DELETE",backdrop:!1})}}]).factory("RRuleToAPI",[function(){return function(rrule){var response;return response=rrule.replace(/(^.*(?=DTSTART))(DTSTART=.*?;)(.*$)/,function(str,p1,p2,p3){return p2.replace(/\;/,"").replace(/=/,":")+" RRULE:"+p1+p3})}}])}).call(exports,__webpack_require__(2),__webpack_require__(1),__webpack_require__(25))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("SelectionHelper",["Utilities","RestServices"]).factory("SelectionInit",["Rest","Alert","ProcessErrors","ReturnToCaller","Wait",function(Rest,Alert,ProcessErrors,ReturnToCaller,Wait){return function(params){var selected,scope=params.scope,list=params.list,target_url=params.url,returnToCaller=params.returnToCaller;selected=void 0!==params.selected?params.selected:[],scope.formModalActionDisabled=!0,scope.disableSelectBtn=!0,scope["toggle_"+list.iterator]=function(id,ischeckbox){var i,j,found;for(i=0;i<scope[list.name].length;i++)if(scope[list.name][i].id===id){var control=scope[list.name][i];if(ischeckbox&&control.checked){for(scope[list.name][i].success_class="success",found=!1,j=0;j<selected.length;j++)if(selected[j].id===id){found=!0;break}found||selected.push(scope[list.name][i])}else if(ischeckbox)for(scope[list.name][i].success_class="",j=0;j<selected.length;j++)if(selected[j].id===id){selected.splice(j,1);break}}selected.length>0?(scope.formModalActionDisabled=!1,scope.disableSelectBtn=!1):(scope.formModalActionDisabled=!0,scope.disableSelectBtn=!0)},scope.finishSelection=function(){function finished(){selected=[],void 0!==returnToCaller?ReturnToCaller(returnToCaller):($("#form-modal").modal("hide"),scope.$emit("modalClosed"))}function postIt(data){Rest.post(data).success(function(data,status){queue.push({result:"success",data:data,status:status}),scope.$emit("callFinished")}).error(function(data,status,headers){queue.push({result:"error",data:data,status:status,headers:headers}),scope.$emit("callFinished")})}Rest.setUrl(target_url);var j,queue=[];if(scope.formModalActionDisabled=!0,scope.disableSelectBtn=!0,Wait("start"),scope.callFinishedRemove&&scope.callFinishedRemove(),scope.callFinishedRemove=scope.$on("callFinished",function(){var i,errors=0;if(queue.length===selected.length){for(Wait("stop"),i=0;i<queue.length;i++)"error"===queue[i].result&&(ProcessErrors(scope,queue[i].data,queue[i].status,null,{hdr:"POST Failure",msg:"Failed to add "+list.iterator+". POST returned status: "+queue[i].status}),errors++);0===errors&&finished()}}),selected.length>0)for(j=0;j<selected.length;j++)postIt(selected[j]);else finished()},scope.formModalAction=scope.finishSelection,scope.SelectPostRefreshRemove&&scope.SelectPostRefreshRemove(),scope.SelectPostRefreshRemove=scope.$on("PostRefresh",function(){var i,j,found;if(scope[list.name])for(i=0;i<scope[list.name].length;i++){for(found=!1,j=0;j<selected.length;j++)if(selected[j].id===scope[list.name][i].id){found=!0;break}found?(scope[list.name][i].checked="1",scope[list.name][i].success_class="success"):(scope[list.name][i].checked="0",scope[list.name][i].success_class="")}})}}])}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("UserHelper",["UserFormDefinition"]).factory("ResetForm",["UserForm",function(UserForm){return function(){UserForm.fields.first_name.readonly=!1,UserForm.fields.first_name.editRequired=!0,UserForm.fields.last_name.readonly=!1,UserForm.fields.last_name.editRequired=!0,UserForm.fields.email.readonly=!1,UserForm.fields.email.editRequired=!0,UserForm.fields.organization.awRequiredWhen={reqExpression:"orgrequired",init:!0},UserForm.fields.organization.readonly=!1,UserForm.fields.username.awRequiredWhen={reqExpression:"not_ldap_user",init:!0},UserForm.fields.username.readonly=!1,UserForm.fields.password.editRequired=!1,UserForm.fields.password.addRrequired=!0}}])},function(module,exports,__webpack_require__){(function(jsyaml,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=angular.module("VariablesHelper",["Utilities"]).factory("ParseVariableString",["$log","ProcessErrors","SortVariables",function($log,ProcessErrors,SortVariables){return function(variables){var json_obj,result="---";if("string"==typeof variables)if("{}"===variables||"null"===variables||""===variables||'""'===variables);else try{json_obj=JSON.parse(variables),json_obj=SortVariables(json_obj),result=jsyaml.safeDump(json_obj)}catch(e){$log.debug("Attempt to parse extra_vars as JSON failed. Check that the variables parse as yaml.  Set the raw string as the result.");try{json_obj=jsyaml.safeLoad(variables),result=variables}catch(e2){ProcessErrors(null,variables,e2.message,null,{hdr:"Error!",msg:"Attempts to parse variables as JSON and YAML failed. Last attempt returned: "+e2.message})}}else if($.isEmptyObject(variables)||null===variables);else try{json_obj=SortVariables(variables),result=jsyaml.safeDump(json_obj)}catch(e3){ProcessErrors(null,variables,e3.message,null,{hdr:"Error!",msg:"Attempt to convert JSON object to YAML document failed: "+e3.message})}return result}}]).factory("ToJSON",["$log","ProcessErrors",function($log,ProcessErrors){return function(parseType,variables,stringify,reviver){var json_data,result,tmp;if("json"===parseType)try{""!==variables.trim()&&"{"!==variables.trim()&&"}"!==variables.trim()||(variables="{}"),json_data=reviver?JSON.parse(variables,reviver):JSON.parse(variables)}catch(e){throw json_data={},$log.error("Failed to parse JSON string. Parser returned: "+e.message),ProcessErrors(null,variables,e.message,null,{hdr:"Error!",msg:"Failed to parse JSON string. Parser returned: "+e.message}),"Parse error. Failed to parse variables."}else try{if(""!==variables.trim()&&"-"!==variables.trim()&&"--"!==variables.trim()||(variables="---"),json_data=jsyaml.safeLoad(variables),null!==json_data&&(tmp=jsyaml.dump(json_data),tmp.indexOf("[object Object]")!==-1))throw"Failed to parse YAML string. Parser returned' + key + ' : ' +value + '.' "}catch(e){json_data=void 0,ProcessErrors(null,variables,e.message,null,{hdr:"Error!",msg:"Failed to parse YAML string. Parser returned undefined"})}if("object"!==("undefined"==typeof json_data?"undefined":_typeof(json_data)))throw ProcessErrors(null,variables,null,null,{hdr:"Error!",msg:"Failed to parse variables. Attempted to parse "+parseType+". Parser did not return an object."}),"Parse error. Failed to parse variables.";return result=json_data,stringify&&(result=void 0===json_data?void 0:$.isEmptyObject(json_data)?"":variables),result}}]).factory("SortVariables",[function(){return function(variableObj){function sortIt(objToSort){var i,keys=Object.keys(objToSort),newObj={};for(keys=keys.sort(),i=0;i<keys.length;i++)"object"!==_typeof(objToSort[keys[i]])||null===objToSort[keys[i]]||Array.isArray(objToSort[keys[i]])?newObj[keys[i]]=objToSort[keys[i]]:newObj[keys[i]]=sortIt(objToSort[keys[i]]);return newObj}var newObj;return newObj=sortIt(variableObj)}}])}).call(exports,__webpack_require__(25),__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("APIDefaults",["RestServices","Utilities"]).factory("GetAPIDefaults",["Alert","Rest","$rootScope",function(Alert,Rest,$rootScope){return function(key){function lookup(key){var id,result={};for(id in $rootScope.apiDefaults)if(id===key||id.iterator===key){result[id]=$rootScope.apiDefaults[id];break}return result}function wait(){if($.isEmptyObject(result)&&cnt<5)cnt++,setTimeout(1e3,wait());else if("success"===result.status)return lookup(key)}var url,result={},cnt=0;return null===$rootScope.apiDefaults||void 0===$rootScope.apiDefaults?(url="/api/v1/",Rest.setUrl(url),Rest.get().success(function(data){var id,defaults=data;for(id in defaults)switch(id){case"organizations":defaults[id].iterator="organization";break;case"jobs":defaults[id].iterator="job";break;case"users":defaults[id].iterator="user";break;case"teams":defaults[id].iterator="team";break;case"hosts":defaults[id].iterator="host";break;case"groups":defaults[id].iterator="group";break;case"projects":defaults[id].iterator="project";break;case"inventories":defaults[id].iterator="inventory"}$rootScope.apiDefaults=defaults,result={status:"success"}}).error(function(data,status){result={status:"error",msg:"Call to "+url+" failed. GET returned status: "+status}}),wait()):lookup(key)}}])}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(114),_main2=_interopRequireDefault(_main);exports.default=angular.module("InventoryHelper",["RestServices","Utilities","OrganizationListDefinition",_main2.default.name,"InventoryHelper","InventoryFormDefinition","ParseHelper","VariablesHelper"]).factory("SaveInventory",["InventoryForm","Rest","Alert","ProcessErrors","OrganizationList","GetBasePath","ParseTypeChange","Wait","ToJSON",function(InventoryForm,Rest,Alert,ProcessErrors,OrganizationList,GetBasePath,ParseTypeChange,Wait,ToJSON){return function(params){var fld,json_data,data,scope=params.scope,form=InventoryForm,defaultUrl=GetBasePath("inventory");Wait("start"),json_data=ToJSON(scope.parseType,scope.variables),data={};for(fld in form.fields)"variables"!==fld&&(form.fields[fld].realName?data[form.fields[fld].realName]=scope[fld]:data[fld]=scope[fld]);scope.removeUpdateInventoryVariables&&scope.removeUpdateInventoryVariables(),scope.removeUpdateInventoryVariables=scope.$on("UpdateInventoryVariables",function(e,data){Rest.setUrl(data.related.variable_data),Rest.put(json_data).success(function(){Wait("stop"),scope.$emit("InventorySaved")}).error(function(data,status){ProcessErrors(scope,data,status,form,{hdr:"Error!",msg:"Failed to update inventory varaibles. PUT returned status: "+status})})}),Rest.setUrl(defaultUrl+scope.inventory_id+"/"),Rest.put(data).success(function(data){scope.variables?scope.$emit("UpdateInventoryVariables",data):scope.$emit("InventorySaved")}).error(function(data,status){ProcessErrors(scope,data,status,form,{hdr:"Error!",msg:"Failed to update inventory. PUT returned status: "+status})})}}])},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("md5Helper",["RestServices","Utilities",__webpack_require__(150)]).factory("md5Setup",["md5",function(md5){return function(params){var scope=params.scope,master=params.master,check_field=params.check_field,default_val=params.default_val;scope[check_field]=default_val,master[check_field]=default_val,scope.genMD5=function(fld){var now=new Date;scope[fld]=md5.createHash("AnsibleWorks"+now.getTime()),scope.$emit("NewMD5Generated")},scope.toggleCallback=function(fld){scope.allow_callbacks===!1&&(scope[fld]="")},scope.selectAll=function(fld){$('input[name="'+fld+'"]').focus().select()}}}])}).call(exports,__webpack_require__(1))},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(114),_main2=_interopRequireDefault(_main);exports.default=angular.module("TeamHelper",["RestServices","Utilities","OrganizationListDefinition",_main2.default.name]).factory("SetTeamListeners",["Alert","Rest",function(Alert,Rest){return function(params){var scope=params.scope,set=params.set;scope.$on("TeamResultFound",function(e,results,lookup_results){var i,j,key,property;if(lookup_results.length===results.length){for(key="organization",property="organization_name",i=0;i<results.length;i++)for(j=0;j<lookup_results.length;j++)results[i][key]===lookup_results[j].id&&(results[i][property]=lookup_results[j].value);scope[set]=results}}),scope.$on("TeamRefreshFinished",function(e,results){function getOrganization(url){Rest.setUrl(url),Rest.get().success(function(data){lookup_results.push({id:data.id,value:data.name}),scope.$emit("TeamResultFound",results,lookup_results)}).error(function(){lookup_results.push({id:"error"}),scope.$emit("TeamResultFound",results,lookup_results)})}var i,url,lookup_results=[];for(i=0;i<results.length;i++)url="/api/v1/organizations/"+results[i].organization+"/",getOrganization(url)})}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("AdhocHelper",["RestServices","Utilities","CredentialFormDefinition","CredentialsListDefinition","JobSubmissionHelper","JobTemplateFormDefinition","ModalDialog","FormGenerator","JobVarsPromptFormDefinition"]).factory("AdhocRun",["$location","$stateParams","LaunchJob","PromptForPasswords","Rest","GetBasePath","Alert","ProcessErrors","Wait","Empty","CreateLaunchDialog","$state",function($location,$stateParams,LaunchJob,PromptForPasswords,Rest,GetBasePath,Alert,ProcessErrors,Wait,Empty,CreateLaunchDialog,$state){return function(params){var new_job_id,html,url,id=params.project_id,scope=params.scope.$new();scope.removeCancelJob&&scope.removeCancelJob(),scope.removeCancelJob=scope.$on("CancelJob",function(){Wait("start"),Rest.setUrl(GetBasePath("ad_hoc_commands")+new_job_id+"/"),Rest.destroy().success(function(){Wait("stop")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned status: "+status})})}),scope.removeStartAdhocRun&&scope.removeStartAdhocRun(),scope.removeStartAdhocRun=scope.$on("StartAdhocRun",function(){var password,postData={};for(password in scope.passwords)postData[scope.passwords[password]]=scope[scope.passwords[password]];Rest.setUrl(url),Rest.post(postData).success(function(data){Wait("stop"),"jobs"!==$location.path().replace(/^\//,"").split("/")[0]&&$state.go("adHocJobStdout",{id:data.id})}).error(function(data,status){ProcessErrors(scope,data,status,{hdr:"Error!",msg:"Failed to launch adhoc command. POST returned status: "+status})})}),scope.removeCreateLaunchDialog&&scope.removeCreateLaunchDialog(),scope.removeCreateLaunchDialog=scope.$on("CreateLaunchDialog",function(e,html,url){CreateLaunchDialog({scope:scope,html:html,url:url,callback:"StartAdhocRun"})}),scope.removePromptForPasswords&&scope.removePromptForPasswords(),scope.removePromptForPasswords=scope.$on("PromptForPasswords",function(e,passwords_needed_to_start,html,url){PromptForPasswords({scope:scope,passwords:passwords_needed_to_start,callback:"CreateLaunchDialog",html:html,url:url})}),Wait("start"),url=GetBasePath("ad_hoc_commands")+id+"/relaunch/",Rest.setUrl(url),Rest.get().success(function(data){new_job_id=data.id,scope.passwords_needed_to_start=data.passwords_needed_to_start,!Empty(data.passwords_needed_to_start)&&data.passwords_needed_to_start.length>0?scope.$emit("PromptForPasswords",data.passwords_needed_to_start,html,url):scope.$emit("StartAdhocRun")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to get job template details. GET returned status: "+status})})}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ApiModelHelper",["Utilities"]).factory("ModelToBasePathKey",[function(){return function(model){var basePathKey;switch(model){case"project":basePathKey="projects";break;case"inventory":basePathKey="inventory";break;case"job_template":basePathKey="job_templates";break;case"credential":basePathKey="credentials";break;case"user":basePathKey="users";break;case"team":basePathKey="teams";break;case"notification_template":basePathKey="notification_templates";break;case"organization":basePathKey="organizations";break;case"management_job":basePathKey="management_jobs";break;case"custom_inventory_script":basePathKey="inventory_scripts";break;case"workflow_job_template":basePathKey="workflow_job_templates"}return basePathKey}}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ActivityStreamHelper",["Utilities"]).factory("GetTargetTitle",["i18n",function(i18n){return function(target){var rtnTitle=i18n._("ALL ACTIVITY");switch(target){case"project":rtnTitle=i18n._("PROJECTS");break;case"inventory":rtnTitle=i18n._("INVENTORIES");break;case"credential":rtnTitle=i18n._("CREDENTIALS");break;case"user":rtnTitle=i18n._("USERS");break;case"team":rtnTitle=i18n._("TEAMS");break;case"notification_template":rtnTitle=i18n._("NOTIFICATION TEMPLATES");break;case"organization":rtnTitle=i18n._("ORGANIZATIONS");break;case"job":rtnTitle=i18n._("JOBS");break;case"custom_inventory_script":rtnTitle=i18n._("INVENTORY SCRIPTS");break;case"schedule":rtnTitle=i18n._("SCHEDULES");break;case"host":rtnTitle=i18n._("HOSTS");break;case"template":rtnTitle=i18n._("TEMPLATES")}return rtnTitle}}])},function(module,exports,__webpack_require__){"use strict";__webpack_require__(156),__webpack_require__(157),__webpack_require__(158),__webpack_require__(159),__webpack_require__(160)},function(module,exports){"use strict";angular.module("InventorySyncStatusWidget",["RestServices","Utilities"]).factory("InventorySyncStatus",["$rootScope","$compile",function($rootScope,$compile){return function(params){function makeRow(params){var label=params.label,count=params.count,fail=params.fail,link=params.link,fail_link=params.fail_link,html="<tr>\n";return html+='<td><a href="'+link+'"',html+="Hosts"===label||"Groups"===label?' class="pad-left-sm" ':"",html+=">"+label+"</a></td>\n",html+='<td class="',html+=fail>0?"failed-column":"zero-column",html+=' text-right">',html+='<a href="'+fail_link+'">'+fail+"</a>",html+="</td>\n",html+='<td class="text-right">',html+='<a href="'+link+'">'+count+"</a>",html+="</td></tr>\n"}var html,group_total,group_fail,element,src,scope=params.scope,target=params.target,dashboard=params.dashboard;if(html='<div class="panel panel-default">\n',html+='<div class="panel-heading">Inventory Sync Status</div>\n',html+='<div class="panel-body">\n',html+='<table class="table table-condensed table-hover">\n',html+="<thead>\n",html+="<tr>\n",html+='<th class="col-md-4 col-lg-3"></th>\n',html+='<th class="col-md-2 col-lg-1 text-right">Failed</th>\n',html+='<th class="col-md-2 col-lg-1 text-right">Total</th>\n',html+="</tr>\n",html+="</thead>\n",html+="<tbody>\n",html+=makeRow({label:"Inventories",count:dashboard.inventories&&dashboard.inventories.total_with_inventory_source?dashboard.inventories.total_with_inventory_source:0,fail:dashboard.inventories&&dashboard.inventories.inventory_failed?dashboard.inventories.inventory_failed:0,link:"/#/inventories/?has_inventory_sources=true",fail_link:"/#/inventories/?inventory_sources_with_failures=true"}),group_total=0,group_fail=0,dashboard.inventory_sources)for(src in dashboard.inventory_sources)group_total+=dashboard.inventory_sources[src].total?dashboard.inventory_sources[src].total:0,group_fail+=dashboard.inventory_sources[src].failed?dashboard.inventory_sources[src].failed:0;html+=makeRow({label:"Groups",count:group_total,fail:group_fail,link:"/#/home/groups/?has_external_source=true",fail_link:"/#/home/groups/?status=failed"});for(src in dashboard.inventory_sources)dashboard.inventory_sources[src].total&&(html+=makeRow({label:dashboard.inventory_sources[src].label,
count:dashboard.inventory_sources[src].total?dashboard.inventory_sources[src].total:0,fail:dashboard.inventory_sources[src].failed?dashboard.inventory_sources[src].failed:0,link:"/#/home/groups/?source="+src,fail_link:"/#/home/groups/?status=failed&source="+src}));html+="</tbody>\n",html+="</table>\n",html+="</div>\n",html+="</div>\n",html+="</div>\n",element=angular.element(document.getElementById(target)),element.html(html),$compile(element)(scope),scope.$emit("WidgetLoaded")}}])},function(module,exports){"use strict";angular.module("JobStatusWidget",["RestServices","Utilities"]).factory("JobStatus",["$rootScope","$compile","Rest","GetBasePath","ProcessErrors","Wait",function($rootScope,$compile){return function(params){function makeRow(params){var html="",label=params.label,link=params.link,fail_link=params.fail_link,count=params.count,fail=params.fail;return html+="<tr>\n",html+='<td><a href="'+link+'"',html+="Hosts"===label||"Groups"===label?' class="pad-left-sm" ':"",html+=">"+label+"</a></td>\n",html+='<td class="',html+=fail>0?"failed-column":"zero-column",html+=' text-right">',html+='<a href="'+fail_link+'">'+fail+"</a>",html+="</td>\n",html+='<td class="text-right">',html+='<a href="'+link+'" >'+count+"</a>",html+="</td></tr>\n"}var element,scope=params.scope,target=params.target,dashboard=params.dashboard,html="";html='<div class="panel panel-default">\n',html+='<div class="panel-heading">Job Status</div>\n',html+='<div class="panel-body">\n',html+='<table class="table table-condensed table-hover">\n',html+="<thead>\n",html+="<tr>\n",html+='<th class="col-md-4 col-lg-3"></th>\n',html+='<th class="col-md-2 col-lg-1 text-right">Failed</th>\n',html+='<th class="col-md-2 col-lg-1 text-right">Total</th>\n',html+="</tr>\n",html+="</thead>\n",html+="<tbody>\n",html+=makeRow({label:"Jobs",link:"/#/jobs",count:dashboard.jobs&&dashboard.jobs.total?dashboard.jobs.total:0,fail:dashboard.jobs&&dashboard.jobs.failed?dashboard.jobs.failed:0,fail_link:"/#/jobs/?status=failed"}),html+=makeRow({label:"Inventories",link:"/#/inventories",count:dashboard.inventories&&dashboard.inventories.total?dashboard.inventories.total:0,fail:dashboard.inventories&&dashboard.inventories.job_failed?dashboard.inventories.job_failed:0,fail_link:"/#/inventories/?has_active_failures=true"}),html+=makeRow({label:"Groups",link:"/#/home/groups",count:dashboard.groups&&dashboard.groups.total?dashboard.groups.total:0,fail:dashboard.groups&&dashboard.groups.job_failed?dashboard.groups.job_failed:0,fail_link:"/#/home/groups/?has_active_failures=true"}),html+=makeRow({label:"Hosts",link:"/#/home/hosts",count:dashboard.hosts&&dashboard.hosts.total?dashboard.hosts.total:0,fail:dashboard.hosts&&dashboard.hosts.failed?dashboard.hosts.failed:0,fail_link:"/#/home/hosts/?has_active_failures=true"}),html+="</tbody>\n",html+="</table>\n",html+="</div>\n",html+="</div>\n",html+="</div>\n",element=angular.element(document.getElementById(target)),element.html(html),$compile(element)(scope),scope.$emit("WidgetLoaded")}}])},function(module,exports){"use strict";angular.module("ObjectCountWidget",["RestServices","Utilities"]).factory("ObjectCount",["$rootScope","$compile","Rest","GetBasePath","ProcessErrors","Wait",function($rootScope,$compile){return function(params){function makeRow(params){var html="",label=params.label,link=params.link,count=params.count;return html+="<tr>\n",html+='<td class="capitalize"><a href="'+link+'"',html+="hosts"===label||"groups"===label?' class="pad-left-sm" ':"",html+=">"+label.replace(/\_/g," ")+"</a></td>\n",html+='<td class="text-right">',html+='<a href="'+link+'" >'+count+"</a>",html+="</td></tr>\n"}var i,html,element,scope=params.scope,target=params.target,dashboard=params.dashboard,keys=["organizations","users","teams","credentials","projects","inventories","groups","hosts","job_templates","jobs"];for(html='<div class="panel panel-default">\n',html+='<div class="panel-heading">System Summary</div>\n',html+='<div class="panel-body">\n',html+='<table class="table table-condensed table-hover">\n',html+="<thead>\n",html+="<tr>\n",html+='<th class="col-md-5 col-lg-4"></th>\n',html+='<th class="col-md-1 col-lg-1 text-right">Total</th>\n',html+="</tr>\n",html+="</thead>\n",html+="<tbody>\n",i=0;i<keys.length;i++)html+=makeRow({label:keys[i],link:"/#/"+("hosts"===keys[i]||"groups"===keys[i]?"home/"+keys[i]:keys[i]),count:dashboard[keys[i]]&&dashboard[keys[i]].total?dashboard[keys[i]].total:0});html+="</tbody>\n",html+="</table>\n",html+="</div>\n",html+="</div>\n",element=angular.element(document.getElementById(target)),element.html(html),$compile(element)(scope),scope.$emit("WidgetLoaded")}}])},function(module,exports){"use strict";angular.module("SCMSyncStatusWidget",["RestServices","Utilities"]).factory("SCMSyncStatus",["$rootScope","$compile",function($rootScope,$compile){return function(params){function makeRow(params){var html="",label=params.label,link=params.link,fail_link=params.fail_link,count=params.count,fail=params.fail;return html+="<tr>\n",html+='<td><a href="'+link+'">'+label+"</a></td>\n",html+='<td class="',html+=fail>0?"failed-column":"zero-column",html+=' text-right">',html+='<a href="'+fail_link+'">'+fail+"</a>",html+="</td>\n",html+='<td class="text-right">',html+='<a href="'+link+'" >'+count+"</a>",html+="</td></tr>\n"}var i,html,total_count,element,type,labelList,scope=params.scope,target=params.target,dashboard=params.dashboard;if(html='<div class="panel panel-default">\n',html+='<div class="panel-heading">Project SCM Status</div>\n',html+='<div class="panel-body">\n',html+='<table class="table table-condensed table-hover">\n',html+="<thead>\n",html+="<tr>\n",html+='<th class="col-md-4 col-lg-3"></th>\n',html+='<th class="col-md-2 col-lg-1 text-right">Failed</th>\n',html+='<th class="col-md-2 col-lg-1 text-right">Total</th>\n',html+="</tr>\n",html+="</thead>\n",html+="<tbody>\n",total_count=0,dashboard.scm_types)for(type in dashboard.scm_types)total_count+=dashboard.scm_types[type].total?dashboard.scm_types[type].total:0;html+=makeRow({label:"Projects",link:"/#/projects",count:total_count,fail:dashboard.projects&&dashboard.projects.failed?dashboard.projects.failed:0,fail_link:"/#/projects/?status=failed"}),labelList=[];for(type in dashboard.scm_types)labelList.push(type);for(labelList.sort(),i=0;i<labelList.length;i++)type=labelList[i],dashboard.scm_types[type].total&&(html+=makeRow({label:dashboard.scm_types[type].label,link:"/#/projects/?scm_type="+type,count:dashboard.scm_types[type].total?dashboard.scm_types[type].total:0,fail:dashboard.scm_types[type].failed?dashboard.scm_types[type].failed:0,fail_link:"/#/projects/?scm_type="+type+"&status=failed"}));html+="</tbody>\n",html+="</table>\n",html+="</div>\n",html+="</div>\n",html+="</div>\n",element=angular.element(document.getElementById(target)),element.html(html),$compile(element)(scope),scope.$emit("WidgetLoaded")}}])},function(module,exports,__webpack_require__){(function(_,$){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _main=__webpack_require__(114),_main2=_interopRequireDefault(_main);angular.module("StreamWidget",["RestServices","Utilities","StreamListDefinition",_main2.default.name,"StreamWidget"]).factory("BuildAnchor",["$log","$filter",function($log,$filter){return function(obj,resource,activity){var url="/#/";try{if(!activity.summary_fields[resource])throw{name:"ResourceDeleted",message:"The referenced resource no longer exists"};switch(resource){case"custom_inventory_script":url+="inventory_scripts/"+obj.id+"/";break;case"group":if("create"===activity.operation||"delete"===activity.operation){var inventory_id=_.last(activity.changes.inventory.split("-"));url+="inventories/"+inventory_id+"/manage?group="+activity.changes.id}else url+="inventories/"+activity.summary_fields.inventory[0].id+"/manage?group="+(activity.changes.id||activity.changes.object1_pk);break;case"host":url+="home/hosts/"+obj.id;break;case"job":url+="jobs/"+obj.id;break;case"inventory":url+="inventories/"+obj.id+"/";break;case"schedule":if(activity.summary_fields.job_template)url+="job_templates/"+activity.summary_fields.job_template.id+"/schedules/"+obj.id;else if(activity.summary_fields.project)url+="projects/"+activity.summary_fields.project.id+"/schedules/"+obj.id;else{if(!activity.summary_fields.system_job_template)throw{name:"NotImplementedError",message:"activity.summary_fields to build this url not implemented yet"};url+="management_jobs/"+activity.summary_fields.system_job_template.id+"/schedules/edit/"+obj.id}break;case"notification_template":url+="notification_templates/"+obj.id;break;case"role":throw{name:"NotImplementedError",message:"role object management is not consolidated to a single UI view"};case"job_template":url+="templates/job_template/"+obj.id;break;case"workflow_job_template":url+="templates/workflow_job_template/"+obj.id;break;default:url+=resource+"s/"+obj.id+"/"}return' <a href="'+url+'"> '+$filter("sanitize")(obj.name||obj.username)+" </a> "}catch(err){return $log.debug(err)," "+$filter("sanitize")(obj.name||obj.username||"")+" "}}}]).factory("BuildDescription",["BuildAnchor","$log","i18n",function(BuildAnchor,$log,i18n){return function(activity){var pastTense=function(operation){return/e$/.test(activity.operation)?operation+"d ":operation+"ed "},isGroupRelationship=function(activity){return"group"===activity.object1&&"group"===activity.object2&&activity.summary_fields.group.length>1};try{switch(activity.description=pastTense(activity.operation),activity.object_association){case"role":switch(activity.operation){case"disassociate":isGroupRelationship(activity)?activity.description+=BuildAnchor(activity.summary_fields.group[1],activity.object2,activity)+activity.summary_fields.role[0].role_field+" from "+BuildAnchor(activity.summary_fields.group[0],activity.object1,activity):activity.description+=BuildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity)+activity.summary_fields.role[0].role_field+" from "+BuildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity);break;case"associate":isGroupRelationship(activity)?activity.description+=BuildAnchor(activity.summary_fields.group[1],activity.object2,activity)+activity.summary_fields.role[0].role_field+" to "+BuildAnchor(activity.summary_fields.group[0],activity.object1,activity):activity.description+=BuildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity)+activity.summary_fields.role[0].role_field+" to "+BuildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity)}break;case"parents":switch(activity.operation){case"disassociate":isGroupRelationship(activity)?activity.description+=activity.object2+BuildAnchor(activity.summary_fields.group[1],activity.object2,activity)+"from "+activity.object1+BuildAnchor(activity.summary_fields.group[0],activity.object1,activity):activity.description+=BuildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity)+activity.summary_fields.role[0].role_field+" from "+BuildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity);break;case"associate":isGroupRelationship(activity)?activity.description+=activity.object1+BuildAnchor(activity.summary_fields.group[0],activity.object1,activity)+"to "+activity.object2+BuildAnchor(activity.summary_fields.group[1],activity.object2,activity):activity.description+=BuildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity)+activity.summary_fields.role[0].role_field+" to "+BuildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity)}break;default:switch(activity.operation){case"disassociate":isGroupRelationship(activity)?activity.description+=activity.object2+BuildAnchor(activity.summary_fields.group[1],activity.object2,activity)+"from "+activity.object1+BuildAnchor(activity.summary_fields.group[0],activity.object1,activity):activity.description+=activity.object2+BuildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity)+"from "+activity.object1+BuildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity);break;case"associate":isGroupRelationship(activity)?activity.description+=activity.object1+BuildAnchor(activity.summary_fields.group[0],activity.object1,activity)+"to "+activity.object2+BuildAnchor(activity.summary_fields.group[1],activity.object2,activity):activity.description+=activity.object1+BuildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity)+"to "+activity.object2+BuildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity);break;case"delete":activity.description+=activity.object1+BuildAnchor(activity.changes,activity.object1,activity);break;case"update":activity.description+=activity.object1+BuildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity);break;case"create":activity.description+=activity.object1+BuildAnchor(activity.changes,activity.object1,activity)}}}catch(err){$log.debug(err),activity.description=i18n._("Event summary not available")}}}]).factory("ShowDetail",["$filter","$rootScope","Rest","Alert","GenerateForm","ProcessErrors","GetBasePath","FormatDate","ActivityDetailForm","Empty","Find",function($filter,$rootScope,Rest,Alert,GenerateForm,ProcessErrors,GetBasePath,FormatDate,ActivityDetailForm,Empty,Find){return function(params,scope){var element,activity_id=params.activity_id,activity=Find({list:params.scope.activities,key:"id",val:activity_id});activity&&(element=angular.element(document.getElementById("stream-detail-modal")),scope=element.scope(),scope.changes=activity.changes,scope.user=(activity.summary_fields.actor?activity.summary_fields.actor.username:"system")+" on "+$filter("longDate")(activity.timestamp),scope.operation=activity.description,scope.header="Event "+activity.id,$("#stream-detail-modal").modal({show:!0,backdrop:"static",keyboard:!0}),scope.$$phase||scope.$digest())}}]).factory("Stream",["$rootScope","$location","$state","Rest","GetBasePath","ProcessErrors","Wait","StreamList","generateList","FormatDate","BuildDescription","ShowDetail",function($rootScope,$location,$state,Rest,GetBasePath,ProcessErrors,Wait,StreamList,GenerateList,FormatDate,BuildDescription,ShowDetail){return function(params){function buildUserAndDescription(){scope.activities.forEach(function(activity,i){scope.activities[i].summary_fields.actor?scope.activities[i].user='<a href="/#/users/'+scope.activities[i].summary_fields.actor.id+'">'+scope.activities[i].summary_fields.actor.username+"</a>":scope.activities[i].user="system",BuildDescription(scope.activities[i])})}var scope=params.scope;$rootScope.flashMessage=null,scope.streamTitle=params&&params.title?params.title:null,scope.refreshStream=function(){$state.go(".",null,{reload:!0})},scope.showDetail=function(id){ShowDetail({scope:scope,activity_id:id})},scope.activities&&scope.activities.length>0&&buildUserAndDescription(),scope.$watch("activities",function(){buildUserAndDescription()})}}])}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.longDateFilter=exports.capitalizeFilter=exports.sanitizeFilter=void 0;var _xssSanitizer=__webpack_require__(162),_xssSanitizer2=_interopRequireDefault(_xssSanitizer),_capitalize=__webpack_require__(163),_capitalize2=_interopRequireDefault(_capitalize),_longDate=__webpack_require__(164),_longDate2=_interopRequireDefault(_longDate);exports.sanitizeFilter=_xssSanitizer2.default,exports.capitalizeFilter=_capitalize2.default,exports.longDateFilter=_longDate2.default},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("sanitizeFilter",[]).filter("sanitize",function(){return function(input){return input=$("<span>").text(input)[0].innerHTML}})}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("capitalizeFilter",[]).filter("capitalize",function(){return function(input){return input=input.charAt(0).toUpperCase()+input.substr(1).toLowerCase()}})},function(module,exports,__webpack_require__){(function(_){"use strict";function longDateFilter(moment,input){var date;return null===input?"":(date=moment(input),date.format("l LTS"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("longDateFilter",[]).filter("longDate",["moment",function(moment){return _.partial(longDateFilter,moment)}])}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";function Home($scope,$compile,$stateParams,$rootScope,$location,$log,Wait,ClearScope,Rest,GetBasePath,ProcessErrors,$window,graphData){ClearScope("home");var dataCount=0;$scope.$on("ws-jobs",function(){Rest.setUrl(GetBasePath("dashboard")),Rest.get().success(function(data){$scope.dashboardData=data}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to get dashboard host graph data: "+status})}),Rest.setUrl("api/v1/unified_jobs?order_by=-finished&page_size=5&finished__isnull=false&type=workflow_job,job"),Rest.get().success(function(data){$scope.dashboardJobsListData=data.results}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to get dashboard jobs list: "+status})}),Rest.setUrl(GetBasePath("unified_job_templates")+"?order_by=-last_job_run&page_size=5&last_job_run__isnull=false&type=workflow_job_template,job_template"),Rest.get().success(function(data){$scope.dashboardJobTemplatesListData=data.results}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to get dashboard jobs list: "+status})})}),$scope.removeDashboardDataLoadComplete&&$scope.removeDashboardDataLoadComplete(),$scope.removeDashboardDataLoadComplete=$scope.$on("dashboardDataLoadComplete",function(){dataCount++,3===dataCount&&(Wait("stop"),dataCount=0)}),$scope.removeDashboardReady&&$scope.removeDashboardReady(),$scope.removeDashboardReady=$scope.$on("dashboardReady",function(e,data){$scope.dashboardCountsData=data,$scope.graphData=graphData,$scope.$emit("dashboardDataLoadComplete");var cleanupJobListener=$rootScope.$on("DataReceived:JobStatusGraph",function(e,data){$scope.graphData.jobStatus=data});$scope.$on("$destroy",function(){cleanupJobListener()})}),$scope.removeDashboardJobsListReady&&$scope.removeDashboardJobsListReady(),$scope.removeDashboardJobsListReady=$scope.$on("dashboardJobsListReady",function(e,data){$scope.dashboardJobsListData=data,$scope.$emit("dashboardDataLoadComplete")}),$scope.removeDashboardJobTemplatesListReady&&$scope.removeDashboardJobTemplatesListReady(),$scope.removeDashboardJobTemplatesListReady=$scope.$on("dashboardJobTemplatesListReady",function(e,data){$scope.dashboardJobTemplatesListData=data,$scope.$emit("dashboardDataLoadComplete")}),$scope.refresh=function(){Wait("start"),Rest.setUrl(GetBasePath("dashboard")),Rest.get().success(function(data){$scope.dashboardData=data,$scope.$emit("dashboardReady",data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to get dashboard: "+status})}),Rest.setUrl("api/v1/unified_jobs?order_by=-finished&page_size=5&finished__isnull=false&type=workflow_job,job"),Rest.get().success(function(data){data=data.results,$scope.$emit("dashboardJobsListReady",data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to get dashboard jobs list: "+status})}),Rest.setUrl(GetBasePath("unified_job_templates")+"?order_by=-last_job_run&page_size=5&last_job_run__isnull=false&type=workflow_job_template,job_template"),Rest.get().success(function(data){data=data.results,$scope.$emit("dashboardJobTemplatesListReady",data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to get dashboard job templates list: "+status})})},$scope.refresh()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Home=Home,Home.$inject=["$scope","$compile","$stateParams","$rootScope","$location","$log","Wait","ClearScope","Rest","GetBasePath","ProcessErrors","$window","graphData"]},function(module,exports,__webpack_require__){(function($){"use strict";function SocketsController($scope,$compile,ClearScope,Socket){ClearScope();var e,html,test_scope=$scope.$new(),jobs_scope=$scope.$new(),job_events_scope=$scope.$new(),schedules_scope=$scope.$new(),test_socket=Socket({scope:test_scope,endpoint:"test"}),jobs_socket=Socket({scope:jobs_scope,endpoint:"jobs"}),schedules_socket=Socket({scope:schedules_scope,endpoint:"schedules"}),job_events_socket=Socket({scope:job_events_scope,endpoint:"job_events"});test_scope.messages=[],jobs_scope.messages=[],schedules_scope.messages=[],job_events_scope.messages=[],html='<div class="section-title"><strong>Socket url</strong>: {{ socket_url }} &nbsp;<strong>Status:</strong> {{ socket_status }} {{ socket_reason }}</div>\n<div class="message-title">\n<h5>Received Messages:</h5>\n</div>\n<div class="well message-section">\n<ul>\n<li ng-repeat="message in messages">{{ message }} </li>\n</ul>\n</div>\n',e=angular.element(document.getElementById("test-container")),e.append(html),$compile(e)(test_scope),e=angular.element(document.getElementById("schedules-container")),e.append(html),$compile(e)(schedules_scope),e=angular.element(document.getElementById("jobs-container")),e.append(html),$compile(e)(jobs_scope),html='<div class="row events-section">\n<div class="col-md-6">\n<div class="section-title"><strong>Socket url</strong>: {{ socket_url }} &nbsp;<strong>Status:</strong> {{ socket_status }} {{ socket_reason }}</div>\n</div>\n<div class="col-md-6">\n<form class="form-inline">\n<div class="form-group">\n<label for="job_id">Job Id</label>\n<input type="text" name="job_id" id="job_id" ng-model="job_id" class="input-sm form-control">\n</div>\n<button type="submit" ng-disabled="!job_id" ng-click="subscribeToJobEvent()" class="btn btn-sm btn-primary"><i class="fa fa-check"></i> Subscribe</button>\n</form>\n</div>\n</div>\n<div class="message-title"><p>Subscribed to events for job: {{ jobs_list }}</p>\n<h5>Received Messages:</h5>\n</div>\n<div class="well message-section" id="event-message-container">\n<ul>\n<li ng-repeat="message in messages">{{ message }} </li>\n</ul>\n</div>\n',e=angular.element(document.getElementById("job-events-container")),e.append(html),$compile(e)(job_events_scope),schedules_scope.url=schedules_socket.getUrl(),test_scope.url=test_socket.getUrl(),jobs_scope.url=jobs_socket.getUrl(),job_events_scope.url=job_events_socket.getUrl(),test_scope.messages.push("Message Displayed Before Connection"),test_socket.on("test",function(data){test_scope.messages.push(data)}),schedules_socket.on("schedule_changed",function(data){schedules_scope.messages.push(data)}),jobs_socket.on("status_changed",function(data){jobs_scope.messages.push(data)}),jobs_socket.on("summary_complete",function(data){jobs_scope.messages.push(data)}),job_events_scope.jobs_list=[],job_events_scope.subscribeToJobEvent=function(){job_events_scope.jobs_list.push(job_events_scope.job_id),job_events_socket.on("job_events-"+job_events_scope.job_id,function(data){job_events_scope.messages.push(data),setTimeout(function(){$(document).scrollTop($(document).prop("scrollHeight")),$("#event-message-container").scrollTop($("#event-message-container").prop("scrollHeight"))},300)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SocketsController=SocketsController,SocketsController.$inject=["$scope","$compile","ClearScope","Socket"]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";function CredentialsList($scope,$rootScope,$location,$log,$stateParams,Rest,Alert,CredentialList,Prompt,ClearScope,ProcessErrors,GetBasePath,Wait,$state,$filter,rbacUiControlService,Dataset,i18n){function init(){rbacUiControlService.canAdd("credentials").then(function(canAdd){$scope.canAdd=canAdd}),$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.selected=[]}function optionsRequestDataProcessing(){void 0!==$scope[list.name]&&$scope[list.name].forEach(function(item,item_idx){var itm=$scope[list.name][item_idx];list.fields.kind&&$scope.options&&$scope.options.hasOwnProperty("kind")&&$scope.options.kind.choices.forEach(function(choice){choice[0]===item.kind&&(itm.kind_label=choice[1])})})}ClearScope();var list=CredentialList,defaultUrl=GetBasePath("credentials");init(),$scope.$on(list.iterator+"_options",function(event,data){$scope.options=data.data.actions.GET,optionsRequestDataProcessing()}),$scope.$watchCollection(""+$scope.list.name,function(){optionsRequestDataProcessing()}),$scope.addCredential=function(){$state.go("credentials.add")},$scope.editCredential=function(id){$state.go("credentials.edit",{credential_id:id})},$scope.deleteCredential=function(id,name){var action=function(){$("#prompt-modal").modal("hide"),Wait("start");var url=defaultUrl+id+"/";Rest.setUrl(url),Rest.destroy().success(function(){parseInt($state.params.credential_id)===id?$state.go("^",null,{reload:!0}):$state.go(".",null,{reload:!0}),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned status: "+status})})};Prompt({hdr:i18n._("Delete"),body:'<div class="Prompt-bodyQuery">'+i18n._("Are you sure you want to delete the credential below?")+'</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>",action:action,actionText:i18n._("DELETE")})}}function CredentialsAdd($scope,$rootScope,$compile,$location,$log,$stateParams,CredentialForm,GenerateForm,Rest,Alert,ProcessErrors,ClearScope,GetBasePath,GetChoices,Empty,KindChange,BecomeMethodChange,OwnerChange,FormSave,$state,CreateSelect2,i18n){function init(){$scope.canEditOrg=!0,GetChoices({scope:$scope,url:defaultUrl,field:"kind",variable:"credential_kind_options"}),GetChoices({scope:$scope,url:defaultUrl,field:"become_method",variable:"become_options"}),CreateSelect2({element:"#credential_become_method",multiple:!1}),CreateSelect2({element:"#credential_kind",multiple:!1}),GenerateForm.applyDefaults(form,$scope),$scope.keyEntered=!1,$scope.permissionsTooltip=i18n._("Please save before assigning permissions"),$rootScope.current_user&&$rootScope.current_user.is_superuser?$scope.canShareCredential=!0:(Rest.setUrl("/api/v1/users/"+$rootScope.current_user.id+"/admin_of_organizations"),Rest.get().success(function(data){$scope.canShareCredential=!!data.count}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to find if users is admin of org"+status})}))}ClearScope();var url,form=CredentialForm,defaultUrl=GetBasePath("credentials");init(),Empty($stateParams.user_id)?Empty($stateParams.team_id)?($scope.owner="user",OwnerChange({scope:$scope})):($scope.owner="team",$scope.team=$stateParams.team_id,OwnerChange({scope:$scope}),url=GetBasePath("teams")+$stateParams.team_id+"/",Rest.setUrl(url),Rest.get().success(function(data){$scope.team_name=data.name}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve team. GET status: "+status})})):($scope.owner="user",$scope.user=$stateParams.user_id,OwnerChange({scope:$scope}),url=GetBasePath("users")+$stateParams.user_id+"/",Rest.setUrl(url),Rest.get().success(function(data){$scope.user_username=data.username}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve user. GET status: "+status})})),$scope.$watch("ssh_key_data",function(val){""===val||null===val||void 0===val?($scope.keyEntered=!1,$scope.ssh_key_unlock_ask=!1,$scope.ssh_key_unlock=""):$scope.keyEntered=!0}),$scope.kindChange=function(){KindChange({scope:$scope,form:form,reset:!0})},$scope.becomeMethodChange=function(){BecomeMethodChange({scope:$scope})},$scope.formSave=function(){$scope[form.name+"_form"].$valid&&FormSave({scope:$scope,mode:"add"})},$scope.formCancel=function(){$state.go("credentials")},$scope.clearPWConfirm=function(fld){$scope[fld]="",$scope[form.name+"_form"][fld].$setValidity("awpassmatch",!1)},$scope.ask=function(fld,associated){$scope[fld+"_ask"]?($scope[fld]="ASK",$("#"+form.name+"_"+fld+"_input").attr("type","text"),$("#"+form.name+"_"+fld+"_show_input_button").html("Hide"),"undefined"!==associated&&($("#"+form.name+"_"+fld+"_input").attr("type","password"),$("#"+form.name+"_"+fld+"_show_input_button").html("Show"),$scope[associated]="",$scope[form.name+"_form"][associated].$setValidity("awpassmatch",!0))):($scope[fld]="",$("#"+form.name+"_"+fld+"_input").attr("type","password"),$("#"+form.name+"_"+fld+"_show_input_button").html("Show"),"undefined"!==associated&&($("#"+form.name+"_"+fld+"_input").attr("type","text"),$("#"+form.name+"_"+fld+"_show_input_button").html("Hide"),$scope[associated]="",$scope[form.name+"_form"][associated].$setValidity("awpassmatch",!0)))},$scope.clear=function(fld,associated){$scope[fld]="",$scope[associated]="",$scope[form.name+"_form"][associated].$setValidity("awpassmatch",!0),$scope[form.name+"_form"].$setDirty()}}function CredentialsEdit($scope,$rootScope,$compile,$location,$log,$stateParams,CredentialForm,Rest,Alert,ProcessErrors,ClearScope,Prompt,GetBasePath,GetChoices,KindChange,BecomeMethodChange,Empty,OwnerChange,FormSave,Wait,$state,CreateSelect2,Authorization,i18n,OrgAdminLookup){function init(){$scope.id=id,$scope.$watch("credential_obj.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAdd=!1)}),$scope.canShareCredential=!1,Wait("start"),$rootScope.current_user||Authorization.restoreUserInfo(),GetChoices({scope:$scope,url:defaultUrl,field:"kind",variable:"credential_kind_options",callback:"choicesReadyCredential"}),GetChoices({scope:$scope,url:defaultUrl,field:"become_method",variable:"become_options"}),$rootScope.current_user&&$rootScope.current_user.is_superuser?$scope.canShareCredential=!0:(Rest.setUrl("/api/v1/users/"+$rootScope.current_user.id+"/admin_of_organizations"),Rest.get().success(function(data){$scope.canShareCredential=!!data.count,Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to find if users is admin of org"+status})})),$scope.$watch("organization",function(val){void 0===val?$scope.permissionsTooltip=i18n._("Populate the organization field in the form below in order to set permissions."):$scope.permissionsTooltip=""}),OwnerChange({scope:$scope}),$scope.$watch("ssh_key_data",function(val){""===val||null===val||void 0===val?($scope.keyEntered=!1,$scope.ssh_key_unlock_ask=!1,$scope.ssh_key_unlock=""):$scope.keyEntered=!0})}function setAskCheckboxes(){var fld,i;for(fld in form.fields)"sensitive"===form.fields[fld].type&&"ASK"===$scope[fld]?($("#"+form.name+"_"+fld+"_input").attr("type","text"),$("#"+form.name+"_"+fld+"_show_input_button").html("Hide"),$("#"+fld+"-clear-btn").attr("disabled","disabled"),$scope[fld+"_ask"]=!0):($scope[fld+"_ask"]=!1,$("#"+fld+"-clear-btn").removeAttr("disabled")),master[fld+"_ask"]=$scope[fld+"_ask"];for(i=0;i<$scope.credential_kind_options.length;i++)if($scope.kind===$scope.credential_kind_options[i].value){$scope.kind=$scope.credential_kind_options[i];break}}ClearScope();var defaultUrl=GetBasePath("credentials"),form=CredentialForm,base=$location.path().replace(/^\//,"").split("/")[0],master={},id=$stateParams.credential_id;init(),$scope.removeChoicesReady&&$scope.removeChoicesReady(),$scope.removeChoicesReady=$scope.$on("choicesReadyCredential",function(){Rest.setUrl(defaultUrl+":id/"),Rest.get({params:{id:id}}).success(function(data){
data&&data.summary_fields&&data.summary_fields.organization&&data.summary_fields.organization.id?$scope.needsRoleList=!0:$scope.needsRoleList=!1,$scope.credential_name=data.name;var i,fld;for(fld in form.fields)null!==data[fld]&&void 0!==data[fld]&&($scope[fld]=data[fld],master[fld]=$scope[fld]),"lookup"===form.fields[fld].type&&data.summary_fields[form.fields[fld].sourceModel]&&($scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField],master[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=$scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]);for(Empty($scope.user)?$scope.owner="team":$scope.owner="user",master.owner=$scope.owner,i=0;i<$scope.become_options.length;i++)if($scope.become_options[i].value===data.become_method){$scope.become_method=$scope.become_options[i];break}for($scope.become_method&&""===$scope.become_method.value&&($scope.become_method=null),master.become_method=$scope.become_method,$scope.$watch("become_method",function(val){null!==val&&""===val.value&&($scope.become_username="",$scope.become_password="")}),i=0;i<$scope.credential_kind_options.length;i++)if($scope.credential_kind_options[i].value===data.kind){$scope.kind=$scope.credential_kind_options[i];break}switch(KindChange({scope:$scope,form:form,reset:!1}),master.kind=$scope.kind,CreateSelect2({element:"#credential_become_method",multiple:!1}),CreateSelect2({element:"#credential_kind",multiple:!1}),data.kind){case"aws":$scope.access_key=data.username,$scope.secret_key=data.password,master.access_key=$scope.access_key,master.secret_key=$scope.secret_key;break;case"ssh":$scope.ssh_password=data.password,master.ssh_password=$scope.ssh_password;break;case"rax":$scope.api_key=data.password,master.api_key=$scope.api_key;break;case"gce":$scope.email_address=data.username,$scope.project=data.project;break;case"azure":$scope.subscription=data.username}$scope.credential_obj=data,setAskCheckboxes(),data.organization?OrgAdminLookup.checkForAdminAccess({organization:data.organization}).then(function(canEditOrg){$scope.canEditOrg=canEditOrg}):$scope.canEditOrg=!0,$scope.$emit("credentialLoaded"),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to retrieve Credential: "+$stateParams.id+". GET status: "+status})})}),$scope.formSave=function(){$scope[form.name+"_form"].$valid&&FormSave({scope:$scope,mode:"edit"})},$scope.ownerChange=function(){OwnerChange({scope:$scope})},$scope.kindChange=function(){KindChange({scope:$scope,form:form,reset:!0})},$scope.becomeMethodChange=function(){BecomeMethodChange({scope:$scope})},$scope.formCancel=function(){$state.transitionTo("credentials")},$scope.add=function(set){$rootScope.flashMessage=null,$location.path("/"+base+"/"+$stateParams.id+"/"+set+"/add")},$scope.edit=function(set,id){$rootScope.flashMessage=null,$location.path("/"+base+"/"+$stateParams.id+"/"+set+"/"+id)},$scope.delete=function(set,itm_id,name,title){$rootScope.flashMessage=null;var action=function(){var url=defaultUrl+id+"/"+set+"/";Rest.setUrl(url),Rest.post({id:itm_id,disassociate:1}).success(function(){$("#prompt-modal").modal("hide")}).error(function(data,status){$("#prompt-modal").modal("hide"),ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. POST returned status: "+status})})};Prompt({hdr:i18n._("Delete"),body:'<div class="Prompt-bodyQuery">'+i18n.sprintf(i18n._("Are you sure you want to remove the %s below from %s?"),title,$scope.name)+'</div><div class="Prompt-bodyTarget">'+name+"</div>",action:action,actionText:i18n._("DELETE")})},$scope.clearPWConfirm=function(fld){$scope[fld]="",$scope[form.name+"_form"][fld].$setValidity("awpassmatch",!1)},$scope.ask=function(fld,associated){$scope[fld+"_ask"]?($scope[fld]="ASK",$("#"+form.name+"_"+fld+"_input").attr("type","text"),$("#"+form.name+"_"+fld+"_show_input_button").html("Hide"),"undefined"!==associated&&($("#"+form.name+"_"+fld+"_input").attr("type","password"),$("#"+form.name+"_"+fld+"_show_input_button").html("Show"),$scope[associated]="",$scope[form.name+"_form"][associated].$setValidity("awpassmatch",!0))):($scope[fld]="",$("#"+form.name+"_"+fld+"_input").attr("type","password"),$("#"+form.name+"_"+fld+"_show_input_button").html("Show"),"undefined"!==associated&&($("#"+form.name+"_"+fld+"_input").attr("type","text"),$("#"+form.name+"_"+fld+"_show_input_button").html("Hide"),$scope[associated]="",$scope[form.name+"_form"][associated].$setValidity("awpassmatch",!0)))},$scope.clear=function(fld,associated){$scope[fld]="",$scope[associated]="",$scope[form.name+"_form"][associated].$setValidity("awpassmatch",!0),$scope[form.name+"_form"].$setDirty()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CredentialsList=CredentialsList,exports.CredentialsAdd=CredentialsAdd,exports.CredentialsEdit=CredentialsEdit,CredentialsList.$inject=["$scope","$rootScope","$location","$log","$stateParams","Rest","Alert","CredentialList","Prompt","ClearScope","ProcessErrors","GetBasePath","Wait","$state","$filter","rbacUiControlService","Dataset","i18n"],CredentialsAdd.$inject=["$scope","$rootScope","$compile","$location","$log","$stateParams","CredentialForm","GenerateForm","Rest","Alert","ProcessErrors","ClearScope","GetBasePath","GetChoices","Empty","KindChange","BecomeMethodChange","OwnerChange","FormSave","$state","CreateSelect2","i18n"],CredentialsEdit.$inject=["$scope","$rootScope","$compile","$location","$log","$stateParams","CredentialForm","Rest","Alert","ProcessErrors","ClearScope","Prompt","GetBasePath","GetChoices","KindChange","BecomeMethodChange","Empty","OwnerChange","FormSave","Wait","$state","CreateSelect2","Authorization","i18n","OrgAdminLookup"]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _portalMode=__webpack_require__(169),_portalMode2=_interopRequireDefault(_portalMode);exports.default=angular.module("portalMode",[]).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_portalMode2.default)}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_portalModeJobTemplates=__webpack_require__(170),_portalModeJobs=__webpack_require__(171),_i18n=__webpack_require__(172);exports.default={name:"portalMode",url:"/portal?{group_search:queryset}{host_search:queryset}",ncyBreadcrumb:{label:(0,_i18n.N_)("MY VIEW")},params:{job_search:{value:{page_size:"20",order_by:"-finished"}},job_template_search:{value:{page_size:"20",order_by:"name"}}},data:{socket:{groups:{jobs:["status_changed"]}}},views:{"@":{templateUrl:(0,_templateUrl.templateUrl)("portal-mode/portal-mode-layout"),controller:["$scope","$rootScope","$state","$stateParams","GetBasePath","QuerySet",function($scope,$rootScope,$state,$stateParams,GetBasePath,qs){function init(){$scope.activeFilter=parseInt($stateParams.job_search.created_by)===$rootScope.current_user.id?"user":"all"}var path=void 0;init(),$scope.filterUser=function(){$scope.activeFilter="user",path=GetBasePath("jobs"),$stateParams.job_search.created_by=$rootScope.current_user.id,qs.search(path,$stateParams.job_search).then(function(response){$scope.$broadcast("filterPortalJobs",response)})},$scope.filterAll=function(){$scope.activeFilter="all",delete $stateParams.job_search.created_by,path=GetBasePath("jobs"),qs.search(path,$stateParams.job_search).then(function(response){$scope.$broadcast("filterPortalJobs",response)})}}]},"job-templates@portalMode":{templateProvider:function(PortalJobTemplateList,generateList){var html=generateList.build({list:PortalJobTemplateList,mode:"edit"});return html},controller:_portalModeJobTemplates.PortalModeJobTemplatesController},"jobs@portalMode":{templateProvider:function(PortalJobsList,generateList){var html=generateList.build({list:PortalJobsList,mode:"edit"});return html},controller:_portalModeJobs.PortalModeJobsController}},resolve:{jobsDataset:["PortalJobsList","QuerySet","$rootScope","$stateParams","GetBasePath",function(list,qs,$rootScope,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return $rootScope.loginConfig.promise.then(function(){return $stateParams[list.iterator+"_search"].created_by=$rootScope.current_user.id,qs.search(path,$stateParams[list.iterator+"_search"])})}],job_templatesDataset:["PortalJobTemplateList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams[list.iterator+"_search"])}]}}},function(module,exports){"use strict";function PortalModeJobTemplatesController($scope,PortalJobTemplateList,InitiatePlaybookRun,Dataset){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results}var list=PortalJobTemplateList;init(),$scope.submitJob=function(id){InitiatePlaybookRun({scope:$scope,id:id,job_type:"job_template"})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PortalModeJobTemplatesController=PortalModeJobTemplatesController,PortalModeJobTemplatesController.$inject=["$scope","PortalJobTemplateList","InitiatePlaybookRun","job_templatesDataset"]},function(module,exports){"use strict";function PortalModeJobsController($scope,$rootScope,$state,$stateParams,qs,GetBasePath,PortalJobsList,Dataset){function init(data){var d=data?data:Dataset;$scope.list=list,$scope[list.iterator+"_dataset"]=d.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.iterator=list.iterator}var list=PortalJobsList;$scope.$on("ws-jobs",function(){var path=GetBasePath(list.basePath)||GetBasePath(list.name);qs.search(path,$state.params[list.iterator+"_search"]).then(function(searchResponse){$scope[list.iterator+"_dataset"]=searchResponse.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results})}),init(),$scope.$on("filterPortalJobs",function(e,data){init(data)}),$scope.refresh=function(){$state.go(".",null,{reload:!0})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PortalModeJobsController=PortalModeJobsController,PortalModeJobsController.$inject=["$scope","$rootScope","$state","$stateParams","QuerySet","GetBasePath","PortalJobsList","jobsDataset"]},function(module,exports,__webpack_require__){"use strict";function N_(s){return s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.N_=N_;var sprintf=__webpack_require__(173).sprintf;exports.default=angular.module("I18N",[]).factory("I18NInit",["$window","gettextCatalog",function($window,gettextCatalog){return function(){var langInfo=($window.navigator.languages||[])[0]||$window.navigator.language||$window.navigator.userLanguage||"",langUrl=langInfo.replace("-","_");gettextCatalog.setCurrentLanguage(langInfo),gettextCatalog.loadRemote("/static/languages/"+langUrl+".json")}}]).factory("i18n",["gettextCatalog",function(gettextCatalog){return{_:function(s){return gettextCatalog.getString(s)},N_:N_,sprintf:sprintf,hasTranslation:function(){return void 0!==gettextCatalog.strings[gettextCatalog.currentLanguage]}}}])},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _systemTracking=__webpack_require__(175),_systemTracking2=_interopRequireDefault(_systemTracking),_systemTracking3=__webpack_require__(176),_systemTracking4=_interopRequireDefault(_systemTracking3),_main=__webpack_require__(389),_main2=_interopRequireDefault(_main),_Utilities=__webpack_require__(424),_Utilities2=_interopRequireDefault(_Utilities),_main3=__webpack_require__(425),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(427),_main6=_interopRequireDefault(_main5),_main7=__webpack_require__(433),_main8=_interopRequireDefault(_main7);exports.default=angular.module("systemTracking",[_Utilities2.default.name,_main2.default.name,_main4.default.name,_main8.default.name,_main6.default.name]).controller("systemTracking",_systemTracking4.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_systemTracking2.default)}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_i18n=__webpack_require__(172);exports.default={name:"systemTracking",route:"/inventories/:inventoryId/system-tracking/:hostIds",controller:"systemTracking",templateUrl:(0,_templateUrl.templateUrl)("system-tracking/system-tracking"),params:{hosts:null,inventory:null},reloadOnSearch:!1,ncyBreadcrumb:{label:(0,_i18n.N_)("SYSTEM TRACKING")},resolve:{moduleOptions:["getModuleOptions","ProcessErrors","$stateParams",function(getModuleOptions,ProcessErrors,$stateParams){var hostIds=$stateParams.hostIds.split(","),data=getModuleOptions(hostIds[0]).catch(function(response){ProcessErrors(null,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get license info. GET returned status: "+response.status})}).value();return data}],inventory:["$stateParams","$q","Rest","GetBasePath","ProcessErrors",function($stateParams,$q,rest,getBasePath,ProcessErrors){if($stateParams.inventory)return $q.when($stateParams.inventory);var inventoryId=$stateParams.inventoryId,url=getBasePath("inventory")+inventoryId+"/";return rest.setUrl(url),rest.get().then(function(data){return data.data}).catch(function(response){ProcessErrors(null,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get license info. GET returned status: "+response.status})})}],hosts:["$stateParams","$q","Rest","GetBasePath","ProcessErrors",function($stateParams,$q,rest,getBasePath,ProcessErrors){if($stateParams.hosts)return $q.when($stateParams.hosts);var hostIds=$stateParams.hostIds.split(","),hosts=hostIds.map(function(hostId){var url=getBasePath("hosts")+hostId+"/";return rest.setUrl(url),rest.get().then(function(data){return data.data}).catch(function(response){ProcessErrors(null,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get license info. GET returned status: "+response.status})})});return $q.all(hosts)}]}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function controller($rootScope,$scope,$stateParams,$location,$q,$state,moduleOptions,inventory,hosts,getDataForComparison,waitIndicator,moment,_){function reloadData(params){searchConfig=_.assign({},searchConfig,params);var leftRange=searchConfig.leftRange,rightRange=searchConfig.rightRange,activeModule=searchConfig.module;return"host-to-host"===$scope.compareMode&&(rightRange=searchConfig.leftRange),$scope.leftDataNoScans=!1,$scope.rightDataNoScans=!1,$scope.leftDateWarning=!1,$scope.rightDateWarning=!1,$scope.singleFactOnly=!1,waitIndicator("start"),getDataForComparison(hostIds,activeModule.name,leftRange,rightRange).then(function(responses){var data=[];return _.each(responses,function(response){response.fact?data.push(response.fact):response.facts&&data.push(response.facts)}),_.isEmpty(data[0])&&_.isEmpty(data[1])?_.reject({name:"NoScanData",message:"There was insufficient scan data for the date you selected. Please try selecting a different date or module.",dateValues:{leftDate:$scope.leftDate.clone(),rightDate:$scope.rightDate.clone()}}):(_.isEmpty(data[0])?($scope.leftDataNoScans=!0,$scope.leftScanDate=$scope.leftDate):($scope.leftScanDate=moment(responses[0].timestamp),$scope.leftScanDate.isSame($scope.leftDate,"d")||($scope.leftDateWarning=!0)),_.isEmpty(data[1])?($scope.rightDataNoScans=!0,$scope.rightScanDate=$scope.rightDate):($scope.rightScanDate=moment(responses[1].timestamp),$scope.rightScanDate.isSame($scope.rightDate,"d")||($scope.rightDateWarning=!0)),data)}).then(function(facts){var result,wrappedFacts=facts.map(function(facts,index){return{position:0===index?"left":"right",isEmpty:_.isEmpty(facts),facts:facts}}),splitFacts=_.partition(facts,"isEmpty"),emptyScans=splitFacts[0],nonEmptyScans=splitFacts[1];return result=_.isEmpty(nonEmptyScans)?_.reject({name:"NoScanData",message:"No scans ran on either of the dates you selected. Please try selecting different dates.",dateValues:{leftDate:$scope.leftDate.clone(),rightDate:$scope.rightDate.clone()}}):1===nonEmptyScans.length?_.reject({name:"InsufficientScanData",message:"No scans ran on one of the selected dates. Please try selecting a different date.",dateValue:"left"===emptyScans[0].position?$scope.leftDate.clone():$scope.rightDate.clone()}):_.promise(wrappedFacts)}).then(_.partial(_main.compareFacts,activeModule)).then(function(info){return $scope.error=null,_.isEmpty(info.factData)?"host-to-host"===$scope.compareMode?info=_.reject({name:"NoScanDifferences",message:"No differences in the scans on the dates you selected. Please try selecting different dates.",dateValues:{leftDate:$scope.leftDate.clone(),rightDate:$scope.rightDate.clone()}}):($scope.singleFactOnly=!0,$scope.factData=info.leftData.map(function(fact){var facts,keyNameMap=activeModule.keyNameMap,nameKey=activeModule.nameKey,renderOptions=_.merge({},activeModule),isNestedDisplay=!1;if(_.isObject(renderOptions.factTemplate)&&_.isArray(renderOptions.compareKey)){isNestedDisplay=!0;var templates=_.mapValues(renderOptions.factTemplate,function(template,key){return template===!0?{render:function(fact){return fact[key]}}:new _factTemplate2.default(template)});facts=_.map(templates,function(template,key){var keyName=key;_.isObject(keyNameMap)&&keyNameMap.hasOwnProperty(key)&&(keyName=keyNameMap[key]),renderOptions.factTemplate=template;var formattedValue=(0,_formatFacts.formatFactForDisplay)(fact,renderOptions);return{keyName:keyName,isNestedDisplay:!0,value1:formattedValue}})}else{renderOptions.factTemplate=new _factTemplate2.default(renderOptions.factTemplate);var formattedValue=(0,_formatFacts.formatFactForDisplay)(fact,renderOptions);isNestedDisplay=!1,facts={keyName:fact[nameKey],value1:formattedValue}}return $scope.isNestedDisplay=isNestedDisplay,{displayKeyPath:fact[renderOptions.nameKey],nestingLevel:0,containsValueArray:!1,facts:facts}})):($scope.singleFactOnly=!1,$scope.factData=info.factData,$scope.isNestedDisplay=info.isNestedDisplay),info}).catch(function(error){$scope.error=error}).finally(function(){waitIndicator("stop")})}function dateWatcher(dateProperty){return function(newValue,oldValue){if(!newValue.isSame(oldValue)){var newDate=(0,_searchDateRange.searchDateRange)(newValue),params={};params[dateProperty]=newDate,reloadData(params).value()}}}var hostIds=$stateParams.hostIds.split(","),moduleParam=$stateParams.module||"packages";if($scope.compareMode=1===hostIds.length?"single-host":"host-to-host",$scope.hostIds=$stateParams.hosts,$scope.inventory=inventory,$scope.noModuleData=!1,_.isEmpty(moduleOptions))return void($scope.noModuleData=!0);"host-to-host"===$scope.compareMode?$scope.factModulePickersLabelLeft="Compare latest facts collected across both hosts on or before":($scope.factModulePickersLabelLeft="Compare latest facts collected on or before",$scope.factModulePickersLabelRight="To latest facts collected on or before"),$scope.modules=_.clone(moduleOptions,!0);var leftSearchRange=(0,_searchDateRange.searchDateRange)(),rightSearchRange=(0,_searchDateRange.searchDateRange)(),searchConfig={leftRange:leftSearchRange,rightRange:rightSearchRange};$scope.leftDate=leftSearchRange.from,$scope.rightDate=rightSearchRange.from,$scope.leftHostname=hosts[0].name,$scope.rightHostname=hosts.length>1?hosts[1].name:hosts[0].name,$scope.setActiveModule=function(newModuleName,initialData){var newModule=_.find($scope.modules,function(module){return module.name===newModuleName});if(newModule){if(newModule.isActive)return;$scope.modules.forEach(function(module){module.isActive=!1}),newModule.isActive=!0,$location.replace(),$location.search("module",newModuleName),reloadData({module:newModule},initialData).value()}},$scope.$watch("leftDate",dateWatcher("leftRange"),!0),$scope.$watch("rightDate",dateWatcher("rightRange"),!0),$scope.setActiveModule(moduleParam)}Object.defineProperty(exports,"__esModule",{value:!0});var _searchDateRange=__webpack_require__(177),_main=__webpack_require__(289),_formatFacts=__webpack_require__(388),_factTemplate=__webpack_require__(293),_factTemplate2=_interopRequireDefault(_factTemplate);exports.default=["$rootScope","$scope","$stateParams","$location","$q","$state","moduleOptions","inventory","hosts","getDataForComparison","Wait","moment","lodashAsPromised",controller]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function searchDateRange(dateString){var date;switch(dateString){case"yesterday":date=(0,_moment2.default)().subtract(1,"day");break;case"tomorrow":date=(0,_moment2.default)().add(1,"day");break;default:date=(0,_moment2.default)(dateString)}return{from:date.clone().startOf("day"),to:date.clone().add(1,"day").startOf("day")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.searchDateRange=searchDateRange;var _moment=__webpack_require__(178),_moment2=_interopRequireDefault(_moment)},function(module,exports,__webpack_require__){"use strict";function moment(){var lang=window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.userLanguage;return originalMoment.locale(lang),originalMoment.apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),originalMoment=__webpack_require__(179);(0,_lodash.merge)(moment,originalMoment),exports.default=moment},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function compareFacts(module,facts){var renderOptions=_.merge({},module);if(renderOptions.factTemplate||renderOptions.nameKey){_.isPlainObject(renderOptions.factTemplate)?renderOptions.factTemplate=_.mapValues(renderOptions.factTemplate,function(template){return"string"==typeof template||"function"==typeof template?new _factTemplate2.default(template):template}):renderOptions.factTemplate=new _factTemplate2.default(renderOptions.factTemplate);var leftToRight=(0,_flat2.default)(facts[0],facts[1],renderOptions),rightToLeft=(0,_flat2.default)(facts[1],facts[0],renderOptions);return _(leftToRight).concat(rightToLeft).unique("displayKeyPath").thru(function(result){return{factData:result,isNestedDisplay:_.isPlainObject(renderOptions.factTemplate),leftData:facts[0].facts,rightData:facts[1].facts}}).value()}return{factData:(0,_nested2.default)(facts[0],facts[1]),isNestedDisplay:!0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareFacts=compareFacts;var _nested=__webpack_require__(290),_nested2=_interopRequireDefault(_nested),_flat=__webpack_require__(292),_flat2=_interopRequireDefault(_flat),_factTemplate=__webpack_require__(293),_factTemplate2=_interopRequireDefault(_factTemplate)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function nestedCompare(basisFacts,comparatorFacts){function compareFacts(factsList){function serializedFactKey(fact){return fact.keyPath.join(".")}var groupedByParent=_.groupBy(factsList,function(fact){return serializedFactKey(fact)}),diffed=_.mapValues(groupedByParent,function(facts){return facts.filter(function(fact){return fact.value1!==fact.value2}).map(function(fact){return _.merge({},fact,{isDivergent:!0})})}),itemsWithDiffs=_.filter(factsList,function(facts){var groupedData=diffed[serializedFactKey(facts)];return!_.isEmpty(groupedData)}),keysWithDiffs=_.reduce(diffed,function(diffs,facts,key){return diffs[key]=facts.reduce(function(diffKeys,fact){return fact.isDivergent?diffKeys.concat(fact.keyName):diffKeys},[]),diffs},{}),factsWithDivergence=_.mapValues(itemsWithDiffs,function(fact){var divergentKeys=keysWithDiffs[serializedFactKey(fact)];if(divergentKeys){var isDivergent=_.include(divergentKeys,fact.keyName);return _.merge({},fact,{isDivergent:isDivergent})}return _.merge({},fact,{isDivergent:!1})});return factsWithDivergence}if(_.isEmpty(basisFacts.facts)){var tmp=_.merge({},basisFacts);basisFacts=_.merge({},comparatorFacts),comparatorFacts=tmp}var factsList=[basisFacts,comparatorFacts];return factsList=(0,_nestedHelpers.findFacts)(factsList),factsList=compareFacts(factsList),(0,_nestedHelpers.formatFacts)(factsList)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=nestedCompare;var _nestedHelpers=__webpack_require__(291)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function formatFacts(diffedResults){function log(msg,obj){return loggingEnabled&&console.log(msg,obj),obj}function isFlatFactArray(fact){return!_.isNaN(Number(fact.keyName))}function isNestedFactArray(fact){return!_.isNaN(Number(_.last(fact.keyPath)))}function isFactArray(fact){return isNestedFactArray(fact)||isFlatFactArray(fact)}var loggingEnabled=!1,grouped=_.groupBy(diffedResults,function(obj){var leftKeyPathStr=obj.keyPath.join(".");return log("obj.keyPath",obj.keyPath),log("    reduced key",_.reduce(diffedResults,function(result,obj2){log("        obj2.keyPath",obj2.keyPath);var rightKeyPathStr=obj2.keyPath.join(".");return isFactArray(obj)?(log("            number hit!",Number(_.last(obj.keyPath))),obj.keyPath.slice(0,-1)):rightKeyPathStr&&leftKeyPathStr!==rightKeyPathStr&&log("        intersection",_.intersection(obj.keyPath,obj2.keyPath).join("."))===rightKeyPathStr?(log("            hit!"),obj2.keyPath):(log("            else hit!"),result)},obj.keyPath)).join(".")}),normalized=_.mapValues(grouped,function(arr,rootKey){log("processing",rootKey);var trailingLength,nestingLevel=0;return _(arr).sortBy("keyPath.length").tap(function(arr){trailingLength=arr[0].keyPath.length}).map(function(obj){var keyPathStr=obj.keyPath.join(".");log("    calculating displayKeyPath for",keyPathStr);var displayKeyPath,rootKeyPath=rootKey.split("."),isFactArrayProp=isFactArray(obj);return obj.keyPath.length>trailingLength&&(nestingLevel++,trailingLength=obj.keyPath.length),displayKeyPath=isNestedFactArray(obj)?_.initial(obj.keyPath).join("."):rootKeyPath.join("."),obj.displayKeyPath=displayKeyPath,obj.nestingLevel=nestingLevel,obj.isArrayMember=isFactArrayProp,obj}).value()}),flattened=_.reduce(normalized,function(flat,value){var groupedValues=_.groupBy(value,"displayKeyPath"),groupArr=_.reduce(groupedValues,function(groupArr,facts,key){var isArray=facts[0].isArrayMember,nestingLevel=facts[0].nestingLevel;isArray&&(facts=_(facts).groupBy("arrayPosition").values().value());var displayObj={keyPath:key.split("."),displayKeyPath:key,isNestedDisplay:!0,facts:facts,isFactArray:isArray,nestingLevel:nestingLevel};return groupArr.concat(displayObj)},[]);return flat.concat(groupArr)},[]);return flattened}function findFacts(factData){function factValueOrAbsent(value){return _.isBoolean(value)||_.isNumber(value)?value:_.isNull(value)||_.isEmpty(value)?"absent":value}function factObject(keyPath,key,leftValue,rightValue){var obj={keyPath:keyPath,keyName:key};return leftValue=factValueOrAbsent(leftValue),rightValue=factValueOrAbsent(rightValue),"left"===factData[0].position?(obj.value1=leftValue,obj.value2=rightValue):(obj.value1=rightValue,obj.value2=leftValue),obj}function descend(parentValue,parentKey,parentKeys){if(_.isObject(parentValue))return _.reduce(parentValue,function(all,value,key){var merged=descend(value,key,parentKeys.concat(key));return all.concat(merged)},[]);var rightValue=_.get(rightData,parentKeys);return factObject(parentKeys.slice(0,-1),parentKey,parentValue,rightValue)}var leftData=factData[0].facts,rightData=factData[1].facts;return _.reduce(leftData,function(mergedFacts,parentValue,parentKey){var merged=descend(parentValue,parentKey,[parentKey]);return _.flatten(mergedFacts.concat(merged))},[])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatFacts=formatFacts,exports.findFacts=findFacts}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function slotFactValues(basisPosition,basisValue,comparatorValue){var leftValue,rightValue;return"left"===basisPosition?(leftValue=basisValue,rightValue=comparatorValue):(rightValue=basisValue,leftValue=comparatorValue),{left:leftValue,right:rightValue}}function flatCompare(basisFacts,comparatorFacts,renderOptions){var nameKey=renderOptions.nameKey,compareKeys=renderOptions.compareKey,keyNameMap=renderOptions.keyNameMap,factTemplate=renderOptions.factTemplate;return basisFacts.facts.reduce(function(arr,basisFact){function processFactsForValueArray(basisPosition,basisFacts,comparatorFacts){function renderFactValues(facts){return facts.map(function(fact){return factTemplate.render(fact)})}var basisFactValues=renderFactValues(basisFacts),comparatorFactValues=renderFactValues(comparatorFacts),slottedValues=slotFactValues(basisPosition,basisFactValues,comparatorFactValues),remaining=_.difference(slottedValues.left,slottedValues.right);return _.isEmpty(remaining)?slottedValues.isDivergent=!1:(slottedValues.isDivergent=!0,containsValueArray=!0),slottedValues}function processFactsForSingleValue(basisFact,comparatorFact){return _.reduce(compareKeys,function(result,compareKey){var slottedValues,isNestedDisplay=!1,basisFactValue=basisFact[compareKey],comparatorFactValue=comparatorFact[compareKey];if(_.isUndefined(basisFactValue)&&_.isUndefined(comparatorFactValue))return result;var template=factTemplate;if(_.isObject(template)&&template.hasOwnProperty(compareKey))template=template[compareKey],template===!0&&(template={render:function(fact){return fact[compareKey]}}),isNestedDisplay=!0;else if("function"!=typeof template.hasTemplate||template.hasTemplate()){if("function"==typeof factTemplate.render)template=factTemplate;else if(!template.hasOwnProperty(compareKey))return result}else template={render:function(fact){return fact[compareKey]}},isNestedDisplay=!0;return basisFactValue=template.render(basisFact),comparatorFactValue=template.render(comparatorFact),slottedValues=slotFactValues(basisFacts.position,basisFactValue,comparatorFactValue),slottedValues.left!==slottedValues.right?slottedValues.isDivergent=!0:slottedValues.isDivergent=!1,isNestedDisplay?result[compareKey]=slottedValues:result=slottedValues,result},{})}if(_.any(arr,{displayKeyPath:basisFact[nameKey]}))return arr;var searcher={};searcher[nameKey]=basisFact[nameKey];var comparisonResults,diffs,containsValueArray=!1,matchingFacts=_.where(comparatorFacts.facts,searcher),otherBasisFacts=_.where(basisFacts.facts,searcher);comparisonResults=renderOptions.supportsValueArray&&otherBasisFacts.length>1?processFactsForValueArray(basisFacts.position,otherBasisFacts,matchingFacts):processFactsForSingleValue(basisFact,matchingFacts[0]||{});var hasDiffs=_.any(comparisonResults,{isDivergent:!0})||comparisonResults.isDivergent===!0;hasDiffs&&"function"==typeof factTemplate.render?diffs={keyName:basisFact[nameKey],value1:comparisonResults.left,value2:comparisonResults.right}:hasDiffs&&(diffs=_(comparisonResults).map(function(slottedValues,key){var keyName=key;return keyNameMap&&keyNameMap[key]&&(keyName=keyNameMap[key]),{keyName:keyName,value1:slottedValues.left,value2:slottedValues.right,isDivergent:slottedValues.isDivergent}}).compact().value());var descriptor={displayKeyPath:basisFact[nameKey],nestingLevel:0,containsValueArray:containsValueArray,facts:diffs};return arr.concat(descriptor)},[]).filter(function(diff){return!_.isEmpty(diff.facts);
})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=flatCompare}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FactTemplate(templateString){this.templateString=templateString}function loadFactTemplate(factTemplate,fact){return _.isFunction(factTemplate)?factTemplate(fact):factTemplate}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(294),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(297),_main4=_interopRequireDefault(_main3),$injector=angular.injector(["ng",_main2.default.name,_main4.default.name]),$interpolate=$injector.get("$interpolate");FactTemplate.prototype.render=function(factData){if(_.isUndefined(factData)||_.isEmpty(factData))return"absent";var template=loadFactTemplate(this.templateString,factData);return $interpolate(template)(factData)},FactTemplate.prototype.hasTemplate=function(){return!_.isUndefined(this.templateString)},exports.default=FactTemplate}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _prepend=__webpack_require__(295),_prepend2=_interopRequireDefault(_prepend),_append=__webpack_require__(296),_append2=_interopRequireDefault(_append);exports.default=angular.module("stringFilters",[]).filter("prepend",_prepend2.default).filter("append",_append2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return function(string,prepend){return string?prepend+string:""}}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return function(string,append){return string?string+append:""}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _formatEpoch=__webpack_require__(298),_formatEpoch2=_interopRequireDefault(_formatEpoch),_main=__webpack_require__(299),_main2=_interopRequireDefault(_main);exports.default=angular.module("formatEpoch",[_main2.default.name]).filter("formatEpoch",_formatEpoch2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["moment",function(moment){return function(seconds,formatStr){formatStr||(formatStr="ll LT");var millis=1e3*seconds;return moment(millis).format(formatStr)}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _moment=__webpack_require__(178),_moment2=_interopRequireDefault(_moment);exports.default=angular.module("moment",[__webpack_require__(300).name]).config(function(){delete window.moment}).constant("moment",_moment2.default)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){"use strict";function formatFactForDisplay(fact,renderOptions){var factTemplate=renderOptions.factTemplate,template=factTemplate;return template.render(fact)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatFactForDisplay=formatFactForDisplay},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(114),_main2=_interopRequireDefault(_main),_formGenerator=__webpack_require__(390),_formGenerator2=_interopRequireDefault(_formGenerator),_main3=__webpack_require__(391),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(393),_main6=_interopRequireDefault(_main5),_main7=__webpack_require__(399),_main8=_interopRequireDefault(_main7),_main9=__webpack_require__(402),_main10=_interopRequireDefault(_main9),_lodashAsPromised=__webpack_require__(405),_lodashAsPromised2=_interopRequireDefault(_lodashAsPromised),_main11=__webpack_require__(294),_main12=_interopRequireDefault(_main11),_truncatedText=__webpack_require__(406),_truncatedText2=_interopRequireDefault(_truncatedText),_stateExtender=__webpack_require__(407),_stateExtender2=_interopRequireDefault(_stateExtender),_rbacUiControl=__webpack_require__(408),_rbacUiControl2=_interopRequireDefault(_rbacUiControl),_main13=__webpack_require__(409),_main14=_interopRequireDefault(_main13),_main15=__webpack_require__(126),_main16=_interopRequireDefault(_main15),_main17=__webpack_require__(412),_main18=_interopRequireDefault(_main17),_stateDefinitions=__webpack_require__(417),_stateDefinitions2=_interopRequireDefault(_stateDefinitions),_apiLoader=__webpack_require__(418),_apiLoader2=_interopRequireDefault(_apiLoader),_main19=__webpack_require__(419),_main20=_interopRequireDefault(_main19);__webpack_require__(421),exports.default=angular.module("shared",[_main2.default.name,_formGenerator2.default.name,_main4.default.name,_main6.default.name,_main8.default.name,_main10.default.name,_main12.default.name,"ui.router",_rbacUiControl2.default.name,_main14.default.name,_main16.default.name,_main18.default.name,_apiLoader2.default.name,_main20.default.name,__webpack_require__(422),"angular-duration-format"]).factory("stateDefinitions",_stateDefinitions2.default).factory("lodashAsPromised",_lodashAsPromised2.default).directive("truncatedText",_truncatedText2.default).provider("$stateExtender",_stateExtender2.default)},function(module,exports,__webpack_require__){(function(_,$){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_generatorHelpers=__webpack_require__(118),_generatorHelpers2=_interopRequireDefault(_generatorHelpers),_main=__webpack_require__(114),_main2=_interopRequireDefault(_main);exports.default=angular.module("FormGenerator",[_generatorHelpers2.default.name,"Utilities",_main2.default.name]).factory("GenerateForm",["$rootScope","$location","$compile","generateList","Attr","Icon","Column","NavigationLink","HelpCollapse","DropDown","Empty","SelectIcon","Store","ActionButton","$log","i18n",function($rootScope,$location,$compile,GenerateList,Attr,Icon,Column,NavigationLink,HelpCollapse,DropDown,Empty,SelectIcon,Store,ActionButton,$log,i18n){return{setForm:function(form){this.form=form},attr:Attr,icon:Icon,accordion_count:0,scope:null,has:function(key){return!(!this.form[key]||null===this.form[key]||void 0===this.form[key])},wrapPanel:function(html,ignorePanel){return ignorePanel?"<div>\n                    "+html+'\n                    <div ui-view="related"></div>\n                    <div ui-view="modal"></div>\n                    </div>':'<div class="Panel">\n                    '+html+'\n                    <div ui-view="related"></div>\n                    <div ui-view="modal"></div>\n                    </div>'},inject:function(form,options){var element,fld,set,show,self=this;if(element=options.modal?options.modal_body_id?angular.element(document.getElementById(options.modal_body_id)):angular.element(document.getElementById("form-modal-body")):options.id?angular.element(document.getElementById(options.id)):angular.element(document.getElementById("htmlTemplate")),this.mode=options.mode,this.modal=!!options.modal,this.setForm(form),options.html?element.html(options.html):element.html(this.build(options)),options.scope?this.scope=options.scope:this.scope=element.scope(),options.mode&&(this.scope.mode=options.mode),"edit"===options.mode&&this.form.related&&!_.isEmpty(this.form.related)){var tabs=[this.form.name],that=this;tabs.push(Object.keys(this.form.related)),tabs=_.flatten(tabs),_.map(tabs,function(itm){that.scope.$parent[itm+"Selected"]=!1}),this.scope.$parent[this.form.name+"Selected"]=!0,this.scope.$parent.toggleFormTabs=function($event){_.map(tabs,function(itm){that.scope.$parent[itm+"Selected"]=!1}),that.scope.$parent[$event.target.id.split("_tab")[0]+"Selected"]=!0}}for(fld in form.fields)this.scope[fld+"_field"]=form.fields[fld],this.scope[fld+"_field"].name=fld;for(fld in form.headerFields)this.scope[fld+"_field"]=form.headerFields[fld],this.scope[fld+"_field"].name=fld;if($compile(element)(this.scope),!options.html){for(fld in form.fields)this.scope[fld]=null;for(set in form.related)this.scope[set]=null;"add"===options.mode&&this.applyDefaults(form,this.scope)}$(".tooltip").each(function(){$(this).remove()}),$(".popover").each(function(){$(this).remove()});try{$("#help-modal").empty().dialog("destroy")}catch(e){}return options.modal&&($rootScope.flashMessage=null,this.scope.formModalActionDisabled=!1,this.scope.formModalInfo=!1,form&&(options.modal_title_id?this.scope[options.modal_title_id]="add"===options.mode?form.addTitle:form.editTitle:this.scope.formModalHeader="add"===options.mode?form.addTitle:form.editTitle),options.modal_selector?($(options.modal_selector).modal({show:!0,backdrop:"static",keyboard:!0}),$(options.modal_selector).on("shown.bs.modal",function(){$(options.modal_select+" input:first").focus()}),$(options.modal_selector).on("hidden.bs.modal",function(){$(".tooltip").each(function(){$(this).remove()}),$(".popover").each(function(){$(this).remove()})})):(show=options.show_modal!==!1,$("#form-modal").modal({show:show,backdrop:"static",keyboard:!0}),$("#form-modal").on("shown.bs.modal",function(){$("#form-modal input:first").focus()}),$("#form-modal").on("hidden.bs.modal",function(){$(".tooltip").each(function(){$(this).remove()}),$(".popover").each(function(){$(this).remove()})})),$(document).bind("keydown",function(e){27===e.keyCode&&(options.modal_selector&&$(options.modal_selector).modal("hide"),$("#prompt-modal").modal("hide"),$("#form-modal").modal("hide"))})),self.scope&&!self.scope.$$phase&&setTimeout(function(){self.scope&&self.scope.$digest()},100),self.scope},buildHTML:function(form,options){return this.mode=options.mode,this.setForm(form),this.build(options)},applyDefaults:function(form,scope){scope.mode=this.mode;for(var fld in form.fields)(form.fields[fld].default||0===form.fields[fld].default)&&("select"===form.fields[fld].type&&scope[fld+"_options"]?scope[fld]=scope[fld+"_options"][form.fields[fld].default]:scope[fld]=form.fields[fld].default)},reset:function(){function resetField(f,fld){if("checkbox_group"===f.type)for(var i=0;i<f.fields.length;i++)scope[f.fields[i].name]="",scope[f.fields[i].name+"_api_error"]="",scope[form.name+"_form"][f.fields[i].name].$setValidity("apiError",!0);else scope[fld]="",scope[fld+"_api_error"]="";f.sourceModel&&(scope[f.sourceModel+"_"+f.sourceField]="",scope[f.sourceModel+"_"+f.sourceField+"_api_error"]="",scope[form.name+"_form"][f.sourceModel+"_"+f.sourceField]&&scope[form.name+"_form"][f.sourceModel+"_"+f.sourceField].$setValidity("apiError",!0)),"lookup"===f.type&&scope[form.name+"_form"][f.sourceModel+"_"+f.sourceField]&&(scope[form.name+"_form"][f.sourceModel+"_"+f.sourceField].$setPristine(),scope[form.name+"_form"][f.sourceModel+"_"+f.sourceField].$setValidity("apiError",!0)),scope[form.name+"_form"][fld]&&(scope[form.name+"_form"][fld].$setPristine(),scope[form.name+"_form"][fld].$setValidity("apiError",!0)),f.chkPass&&scope[form.name+"_form"][fld]&&$AnsibleConfig&&($AnsibleConfig.password_length&&scope[form.name+"_form"][fld].$setValidity("password_length",!0),$AnsibleConfig.password_hasLowercase&&scope[form.name+"_form"][fld].$setValidity("hasLowercase",!0),$AnsibleConfig.password_hasUppercase&&scope[form.name+"_form"][fld].$setValidity("hasUppercase",!0),$AnsibleConfig.password_hasNumber&&scope[form.name+"_form"][fld].$setValidity("hasNumber",!0),$AnsibleConfig.password_hasSymbol&&scope[form.name+"_form"][fld].$setValidity("hasSymbol",!0)),f.awPassMatch&&scope[form.name+"_form"][fld]&&scope[form.name+"_form"][fld].$setValidity("awpassmatch",!0),f.subCheckbox&&(scope[f.subCheckbox.variable]=!1)}var fld,scope=this.scope,form=this.form;scope[form.name+"_form"]&&scope[form.name+"_form"].$setPristine();for(fld in form.fields)resetField(form.fields[fld],fld);if(form.statusFields)for(fld in form.statusFields)resetField(form.statusFields[fld],fld);"add"===this.mode&&this.applyDefaults(form,scope)},checkAutoFill:function(params){var fld,model,newVal,type,scope=params&&params.scope?params.scope:this.scope;for(fld in this.form.fields)"text"!==this.form.fields[fld].type&&"textarea"!==this.form.fields[fld].type||(type="text"===this.form.fields[fld].type?"input":"textarea",model=scope[this.form.name+"_form"][fld],newVal=$(type+'[name="'+fld+'"]').val(),newVal&&model&&model.$viewValue!==newVal&&model.$setViewValue(newVal))},genID:function(){var id=new Date;return id.getTime()},headerField:function(fld,field){var html="";return field.label&&(html+="<label>"+field.label+"</label>\n"),html+='<input type="text" name="'+fld+'" ',html+='ng-model="'+fld+'" ',html+=" readonly />\n"},clearApiErrors:function(scope){for(var fld in this.form.fields)this.form.fields[fld].sourceModel?(scope[this.form.fields[fld].sourceModel+"_"+this.form.fields[fld].sourceField+"_api_error"]="",$('[name="'+this.form.fields[fld].sourceModel+"_"+this.form.fields[fld].sourceField+'"]').removeClass("ng-invalid")):this.form.fields[fld].realName?(this.scope[this.form.fields[fld].realName+"_api_error"]="",$('[name="'+this.form.fields[fld].realName+'"]').removeClass("ng-invalid")):(scope[fld+"_api_error"]="",$('[name="'+fld+'"]').removeClass("ng-invalid"));scope.$$phase||scope.$digest()},navigationLink:NavigationLink,buildHelpCollapse:function(collapse_array){var i,html="",params={};for(i=0;i<collapse_array.length;i++)params.hdr=collapse_array[i].hdr,params.content=collapse_array[i].content,params.idx=this.accordion_count++,params.show=collapse_array[i].show?collapse_array[i].show:null,params.ngHide=collapse_array[i].ngHide?collapse_array[i].ngHide:null,params.bind=collapse_array[i].ngBind?collapse_array[i].ngBind:null,html+=HelpCollapse(params);return html},buildHeaderField:function(key,field,options,form){var html="";return"toggle"===field.type&&(html+='<div class="Field-header--'+key,html+=field.class?" "+field.class:"",html+=" "+field.columnClass,html+="\"><div class='ScheduleToggle' ng-class='{\"is-on\": "+form.iterator+".",html+=field.flag?field.flag:"enabled",html+=field.ngDisabled?', "ScheduleToggle--disabled": '+field.ngDisabled:"",html+="}' aw-tool-tip='"+field.awToolTip+"' data-placement='"+field.dataPlacement+"' data-tip-watch='"+field.dataTipWatch+"'><button ng-show='"+form.iterator+".",html+=field.flag?field.flag:"enabled",html+="' class='ScheduleToggle-switch is-on' ng-click='"+field.ngClick+"'>"+i18n._("ON")+"</button><button ng-show='!"+form.iterator+".",html+=field.flag?field.flag:"enabled",html+="' class='ScheduleToggle-switch' ng-click='"+field.ngClick+"'>"+i18n._("OFF")+"</button></div></div>"),html},buildField:function(fld,field,options,form){function getFieldWidth(){var x;return x=form.formFieldSize?form.formFieldSize:field.xtraWide?"col-lg-10":field.column?"col-lg-8":!form.formFieldSize&&options.modal?"col-lg-10":"col-lg-6"}function getLabelWidth(){var x;return x=form.formLabelSize?form.formLabelSize:field.column?"col-lg-4":(!form.formLabelSize&&options.modal,"col-lg-2")}function buildId(field,fld,form){var html="";return html+=field.id?Attr(field,"id"):'id="'+form.name+"_"+fld+'" '}function buildCheckbox(form,field,fld,idx,includeLabel){var html="",label=void 0===includeLabel||includeLabel!==!1;return label&&(html+='<label class="',html+=void 0===field.inline||field.inline===!0?"checkbox-inline":"",html+=field.labelClass?" "+field.labelClass:"",html+='"',html+=field.ngShow?' ng-show="'+field.ngShow+'" ':"",html+=">"),html+='<input type="checkbox" ',html+=Attr(field,"type"),html+='ng-model="'+fld+'" ',html+='name="'+fld+'" ',html+=field.ngChange?Attr(field,"ngChange"):"",html+='id="'+form.name+"_"+fld+'_chbox" ',html+=void 0!==idx?"_"+idx:"",html+='class="',html+='"',html+=void 0!==field.trueValue?Attr(field,"trueValue"):"",html+=void 0!==field.falseValue?Attr(field,"falseValue"):"",html+=field.checked?"checked ":"",html+=field.readonly?"disabled ":"",html+=field.ngChange?'ng-change="'+field.ngChange+'" ':"",html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+=" > ",label&&(html+=field.label+" ",html+=field.awPopOver?Attr(field,"awPopOver",fld):"",html+="</label>\n"),html}function label(){var html="";if(field.label||field.labelBind){if(html+='<label class="',html+=field.labelClass?field.labelClass:"",html+=""+(field.required?" prepend-asterisk ":""),html+=horizontal?" "+getLabelWidth():"Form-inputLabelContainer ",html+='" ',html+=field.labelNGClass?'ng-class="'+field.labelNGClass+'" ':"",html+='for="'+fld+'">\n',html+=field.icon?Icon(field.icon):"",html+=field.labelBind?'\t\t<span ng-class=class="Form-inputLabel" ng-bind="'+field.labelBind+'">\n\t\t</span>':'\t\t<span class="Form-inputLabel">\n\t\t\t'+field.label+"\n\t\t</span>",html+=field.awPopOver&&!field.awPopOverRight?Attr(field,"awPopOver",fld):"",html+=field.hintText?'\n\t\t<span class="label-hint-text">\n\t\t\t<i class="fa fa-info-circle">\n\t\t\t</i>\n\t\t\tHint: '+field.hintText+"\n\t\t</span>":"","variables"!==fld&&"extra_vars"!==fld&&"variables"!==_.last(fld.split("_"))&&"source_vars"!==fld||(html+='<div class="parse-selection" id="'+form.name+"_"+fld+'_parse_type"><input type="radio" ng-disabled="disableParseSelection" ng-model="',html+=field.parseTypeName?field.parseTypeName:"parseType",html+='" value="yaml" ng-change="parseTypeChange(\''+(field.parseTypeName?field.parseTypeName:"parseType")+"', '"+fld+'\')"> <span class="parse-label">YAML</span>\n',html+='<input type="radio" ng-disabled="disableParseSelection" ng-model="',html+=field.parseTypeName?field.parseTypeName:"parseType",html+='" value="json" ng-change="parseTypeChange(\''+(field.parseTypeName?field.parseTypeName:"parseType")+"', '"+fld+'\')"> <span class="parse-label">JSON</span>\n',html+="</div>\n"),field.labelAction){var action=field.labelAction,href=action.href||"",ngClick=action.ngClick||"",cls=action.class||"";html+='<a class="Form-labelAction '+cls+'" href="'+href+'" ng-click="'+ngClick+'">'+action.label+"</a>"}if(field.reset&&!field.disabled){var resetValue="'"+field.reset+"'",resetMessage=i18n._("Revert");html+='<a class="Form-resetValue" ng-click="resetValue('+resetValue+')">'+resetMessage+"</a>"}html+="\n\t</label>\n"}return html}var i,fldWidth,offset,error_message,html="",horizontal=!!this.form.horizontal;if("toggle"===field.type&&(html+='<td class="List-tableCell '+fld+"-column",html+=field.class?" "+field.class:"",html+=" "+field.columnClass,html+="\"><div class='ScheduleToggle' ng-class='{\"is-on\": "+form.iterator+".",html+=field.flag?field.flag:"enabled",html+=field.ngDisabled?', "ScheduleToggle--disabled": '+field.ngDisabled:"",html+="}' aw-tool-tip='"+field.awToolTip+"' data-placement='"+field.dataPlacement+"' data-tip-watch='"+field.dataTipWatch+"'><div ng-show='"+form.iterator+".",html+=field.flag?field.flag:"enabled",html+="' class='ScheduleToggle-switch is-on' ng-click='"+field.ngClick+"'>ON</div><div ng-show='!"+form.iterator+".",html+=field.flag?field.flag:"enabled",html+="' class='ScheduleToggle-switch' ng-click='"+field.ngClick+"'>OFF</div></div></td>"),"alertblock"===field.type&&(html+='<div class="row">\n',html+='<div class="',options.modal||options.id,html+="col-lg-12",html+='">\n',html+='<div class="Form-alertblock',html+=void 0===field.closeable||field.closeable===!0?" alert-dismissable":"",html+='" ',html+=field.ngShow?this.attr(field,"ngShow"):"",html+=">\n",html+=void 0===field.closeable||field.closeable===!0?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n':"",html+=field.alertTxt,html+="</div>\n",html+="</div>\n",html+="</div>\n"),"hidden"===field.type&&("edit"===options.mode&&field.includeOnEdit||"add"===options.mode&&field.includeOnAdd)&&(html+='<input type="hidden" ng-model="'+fld+'" name="'+fld+'" />'),(!field.readonly||field.readonly&&"edit"===options.mode)&&(void 0===field.excludeMode||field.excludeMode!==options.mode)&&"alertblock"!==field.type&&"workflow-chart"!==field.type){html+="<div class='form-group Form-formGroup ",html+=field.disabled?"Form-formGroup--disabled ":"",html+="checkbox"===field.type?"Form-formGroup--checkbox":"",html+=field.class?field.class:"",html+="'",html+=field.ngShow?this.attr(field,"ngShow"):"",html+=field.ngHide?this.attr(field,"ngHide"):"",html+=field.awFeature?'aw-feature="'+field.awFeature+'" ':"",html+=">\n";var definedInFileMessage=i18n._("This setting has been set manually in a settings file and is now disabled.");if(html+=field.definedInFile?'<span class="Form-tooltip--disabled">'+definedInFileMessage+"</span>":"","toggleSwitch"===field.type&&(html+=label(),html+='<div class="ScheduleToggle" ng-class="{\'is-on\': '+field.toggleSource+'}" aw-tool-tip=""\n                            data-placement="top">\n                            <button ng-show="'+field.toggleSource+'" class="ScheduleToggle-switch is-on" ng-click="toggleForm(\''+field.toggleSource+'\')">ON</button>\n                            <button ng-show="!'+field.toggleSource+'" class="ScheduleToggle-switch" ng-click="toggleForm(\''+field.toggleSource+"')\">OFF</button>\n                        </div>"),"text"!==field.type&&"password"!==field.type&&"email"!==field.type||(html+=label(),html+="<div ",html+=horizontal?'class="'+getFieldWidth()+'"':"",html+=">\n",html+=field.clear||field.genMD5?'<div class="input-group">\n':"",(null===field.control||void 0===field.control||field.control)&&(html+="<input ",html+=this.attr(field,"type"),html+='ng-model="'+fld+'" ',html+='name="'+fld+'" ',html+=field.ngChange?this.attr(field,"ngChange"):"",html+=buildId(field,fld,this.form),html+=field.controlNGClass?'ng-class="'+field.controlNGClass+'" ':"",html+='class="form-control Form-textInput',html+='" ',html+=field.placeholder?this.attr(field,"placeholder"):"",html+=field.required?"required ":"",html+=field.disabled?'disabled="disabled" ':"",html+=field.readonly||field.showonly?"readonly ":"",html+=field.awPassMatch?'awpassmatch="'+field.associated+'" ':"",html+=field.capitalize?"capitalize ":"",html+=field.awSurveyQuestion?"aw-survey-question":"",html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+=void 0!==field.autocomplete?this.attr(field,"autocomplete"):"",field.awRequiredWhen&&(html+=field.awRequiredWhen.init?'data-awrequired-init="'+field.awRequiredWhen.init+'" ':"",html+=field.awRequiredWhen.reqExpression?'aw-required-when="'+field.awRequiredWhen.reqExpression+'" ':"",html+=field.awRequiredWhen.alwaysShowAsterisk?"data-awrequired-always-show-asterisk=true ":""),html+=field.awValidUrl?"aw-valid-url ":"",html+=">\n"),field.clear&&(html+='<span class="input-group-btn"><button type="button" ',html+='id="'+this.form.name+"_"+fld+'_clear_btn" ',html+='class="btn btn-default" ng-click="clear(\''+fld+"','"+field.associated+'\')" aw-tool-tip="Clear '+field.label+'" id="'+fld+'-clear-btn" ',html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+=' ><i class="fa fa-undo"></i></button>\n',html+="</span>\n</div>\n"),field.genMD5&&(html+='<span class="input-group-btn"><button type="button" class="btn btn-default Form-lookupButton" ng-click="genMD5(\''+fld+'\')" aw-tool-tip="Generate '+field.label+'" data-placement="top" id="'+this.form.name+"_"+fld+'_gen_btn"><i class="fa fa-magic"></i></button></span>\n</div>\n'),field.subCheckbox&&(html+='<label class="checkbox-inline Form-subCheckbox" ',html+=field.subCheckbox.ngShow?'ng-show="'+field.subCheckbox.ngShow+'" ':"",html+=">",html+='<input type="checkbox" ng-model="'+field.subCheckbox.variable+'" ',html+=field.subCheckbox.ngChange?'ng-change="'+field.subCheckbox.ngChange+'" ':"",html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+='id="'+this.form.name+"_"+fld+'_ask_chbox" ',html+=">",html+=field.subCheckbox.text?field.subCheckbox.text:"",html+="</label>"),(field.required||field.awRequiredWhen)&&(error_message=i18n._("Please enter a value."),html+='<div class="error" id="'+this.form.name+"-"+fld+'-required-error" ng-show="'+this.form.name+"_form."+fld+".$dirty && "+this.form.name+"_form."+fld+'.$error.required">'+(field.requiredErrorMsg?field.requiredErrorMsg:error_message)+"</div>\n"),"email"===field.type&&(error_message=i18n._("Please enter a valid email address."),html+='<div class="error" id="'+this.form.name+"-"+fld+'-email-error" ng-show="'+this.form.name+"_form."+fld+".$dirty && "+this.form.name+"_form."+fld+('.$error.email">'+error_message+"</div>")),field.awPassMatch&&(error_message=i18n._("This value does not match the password you entered previously.  Please confirm that password."),html+='<div class="error" id="'+this.form.name+"-"+fld+'-passmatch-error" ng-show="'+this.form.name+"_form."+fld+('.$error.awpassmatch">'+error_message+"</div>")),field.awValidUrl&&(error_message=i18n._("Please enter a URL that begins with ssh, http or https.  The URL may not contain the '@' character."),html+='<div class="error" id="'+this.form.name+"-"+fld+'-url-error" ng-show="'+this.form.name+"_form."+fld+('.$error.awvalidurl">'+error_message+"</div>")),html+='<div class="error api-error" id="'+this.form.name+"-"+fld+'-api-error" ng-bind="'+fld+'_api_error"></div>\n',html+=field.helpCollapse?this.buildHelpCollapse(field.helpCollapse):"",html+="</div>\n"),"sensitive"===field.type){if(field.showInputInnerHTML=i18n._("Show"),field.inputType="password",html+="\t"+label(),field.hasShowInputButton){var tooltip=i18n._("Toggle the display of plaintext.");html+="<div class='input-group",html+=horizontal?" "+getFieldWidth():"",html+="'>\n",html+="<span class='input-group-btn'>\n",html+="<button aw-password-toggle type='button' class='btn btn-default show_input_button Form-passwordButton' ",html+=buildId(field,fld+"_show_input_button",this.form),html+="aw-tool-tip='"+tooltip+"'} aw-tip-placement='top'",html+="tabindex='-1' ",html+=field.ngDisabled?"ng-disabled='"+field.ngDisabled+"'":"",html+=">\n"+field.showInputInnerHTML,html+="\n</button>\n",html+="</span>\n"}else html+="<div",html+=horizontal?" class='"+getFieldWidth()+"'":"",html+=">\n";(null===field.control||void 0===field.control||field.control)&&(html+="<input ",html+=field.disabled?'disabled="disabled" ':"",html+=buildId(field,fld+"_input",this.form),html+="type='password' ",html+='ng-model="'+fld+'" ',html+='name="'+fld+'" ',html+=field.ngChange?this.attr(field,"ngChange"):"",html+=buildId(field,fld,this.form),html+=field.controlNGClass?"ng-class='"+field.controlNGClass+"' ":"",html+="class='form-control Form-textInput",html+="' ",html+=field.chkPass?"chk-pass ":"",html+=field.placeholder?this.attr(field,"placeholder"):"",html+=field.required?"required ":"",html+=field.ngRequired?'ng-required="'+field.ngRequired+'"':"",html+=field.readonly||field.showonly?"readonly ":"",html+=field.awPassMatch?"awpassmatch='"+field.associated+"' ":"",html+=field.capitalize?"capitalize ":"",html+=field.awSurveyQuestion?"aw-survey-question":"",html+=field.ngDisabled?"ng-disabled='"+field.ngDisabled+"'":"",html+=void 0!==field.autocomplete?this.attr(field,"autocomplete"):"",field.awRequiredWhen&&(html+=field.awRequiredWhen.init?'data-awrequired-init="'+field.awRequiredWhen.init+'" ':"",html+=field.awRequiredWhen.reqExpression?'aw-required-when="'+field.awRequiredWhen.reqExpression+'" ':"",html+=field.awRequiredWhen.alwaysShowAsterisk?"data-awrequired-always-show-asterisk=true ":""),html+=field.awValidUrl?"aw-valid-url ":"",html+=">\n"),html+="</div>\n",field.subCheckbox&&(html+='<label class="checkbox-inline Form-subCheckbox" ',html+=field.subCheckbox.ngShow?'ng-show="'+field.subCheckbox.ngShow+'" ':"",html+=">",html+='<input type="checkbox" ng-model="'+field.subCheckbox.variable+'" ',html+=field.subCheckbox.ngChange?'ng-change="'+field.subCheckbox.ngChange+'" ':"",html+='id="'+this.form.name+"_"+fld+'_ask_chbox" ',html+=void 0!==field.subCheckbox.ngDisabled?"ng-disabled='"+field.subCheckbox.ngDisabled+"'":field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+=">",html+=field.subCheckbox.text?field.subCheckbox.text:"",html+="</label>"),(field.required||field.awRequiredWhen)&&(error_message=i18n._("Please enter a value."),html+="<div class='error' id='"+this.form.name+"-"+fld+"-required-error' ng-show='"+this.form.name+"_form."+fld+".$dirty && "+this.form.name+"_form."+fld+".$error.required'>\n"+(field.requiredErrorMsg?field.requiredErrorMsg:error_message)+"\n</div>\n"),"email"===field.type&&(error_message=i18n._("Please enter a valid email address."),html+="<div class='error' id='"+this.form.name+"-"+fld+"-email-error' ng-show='"+this.form.name+"_form."+fld+".$dirty && "+this.form.name+"_form."+fld+(".$error.email'>"+error_message+"</div>")),field.awPassMatch&&(error_message=i18n._("This value does not match the password you entered previously.  Please confirm that password."),html+="<div class='error' id='"+this.form.name+"-"+fld+"-passmatch-error' ng-show='"+this.form.name+"_form."+fld+(".$error.awpassmatch'>"+error_message+"</div>")),field.awValidUrl&&(error_message=i18n._("Please enter a URL that begins with ssh, http or https.  The URL may not contain the '@' character."),html+="<div class='error' id='"+this.form.name+"-"+fld+"-url-error' ng-show='"+this.form.name+"_form."+fld+(".$error.awvalidurl'>"+error_message+"</div>")),field.chkPass&&$AnsibleConfig&&($AnsibleConfig.password_length&&(error_message=i18n.sprintf(i18n._("Your password must be %d characters long."),$AnsibleConfig.password_length),html+='<div class="error" ng-show="'+this.form.name+"_form."+fld+('.$error.password_length">'+error_message+"</div>")),$AnsibleConfig.password_hasLowercase&&(error_message=i18n._("Your password must contain a lowercase letter."),html+='<div class="error" ng-show="'+this.form.name+"_form."+fld+('.$error.hasLowercase">'+error_message+"</div>")),$AnsibleConfig.password_hasUppercase&&(error_message=i18n._("Your password must contain an uppercase letter."),html+='<div class="error" ng-show="'+this.form.name+"_form."+fld+('.$error.hasUppercase">'+error_message+"</div>")),$AnsibleConfig.password_hasNumber&&(error_message=i18n._("Your password must contain a number."),html+='<div class="error" ng-show="'+this.form.name+"_form."+fld+('.$error.hasNumber">'+error_message+"</div>")),$AnsibleConfig.password_hasSymbol&&(error_message=i18n.sprintf(i18n._("Your password must contain one of the following characters: %s"),"`~!@#$%^&*()_-+=|}]{[;:\"'?/>.<,"),html+='<div class="error" ng-show="'+this.form.name+"_form."+fld+('.$error.hasSymbol">'+error_message+"</div>"))),html+="<div class='error api-error' id='"+this.form.name+"-"+fld+"-api-error' ng-bind='"+fld+"_api_error'>\n</div>\n",html+=field.helpCollapse?this.buildHelpCollapse(field.helpCollapse):""}if("textarea"===field.type&&(html+=label(),html+="<div ",html+=horizontal?'class="'+getFieldWidth()+'"':"",html+=">\n",html+="<textarea ",html+=field.disabled?'disabled="disabled" ':"",html+=field.rows?this.attr(field,"rows"):"",html+='ng-model="'+fld+'" ',html+='name="'+fld+'" ',html+='class="form-control Form-textArea',html+=field.class?" "+field.class:"",html+=field.elementClass?" "+field.elementClass:"",html+='" ',html+=field.ngChange?this.attr(field,"ngChange"):"",html+=buildId(field,fld,this.form),html+=field.placeholder?this.attr(field,"placeholder"):"",html+=field.ngDisabled?this.attr(field,"ngDisabled"):"",html+=field.required?"required ":"",html+=field.ngRequired?'ng-required="'+field.ngRequired+'"':"",
html+=void 0!==field.ngTrim?'ng-trim="'+field.ngTrim+'"':"",html+=field.readonly||field.showonly?"readonly ":"",html+=field.awDropFile?"aw-drop-file ":"",field.awRequiredWhen&&(html+=field.awRequiredWhen.init?'data-awrequired-init="'+field.awRequiredWhen.init+'" ':"",html+=field.awRequiredWhen.reqExpression?'aw-required-when="'+field.awRequiredWhen.reqExpression+'" ':"",html+=field.awRequiredWhen.alwaysShowAsterisk?"data-awrequired-always-show-asterisk=true ":""),html+="aw-watch ></textarea>\n",field.subCheckbox&&(html+='<label class="checkbox-inline Form-subCheckbox" ',html+=field.subCheckbox.ngShow?'ng-show="'+field.subCheckbox.ngShow+'" ':"",html+=">",html+='<input type="checkbox" ng-model="'+field.subCheckbox.variable+'" ',html+=field.subCheckbox.ngChange?'ng-change="'+field.subCheckbox.ngChange+'" ':"",html+='id="'+this.form.name+"_"+fld+'_ask_chbox" ',field.subCheckbox.ngDisabled&&(html+="ng-disabled='"+field.subCheckbox.ngDisabled+"'"),html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+=">",html+=field.subCheckbox.text?field.subCheckbox.text:"",html+="</label>"),field.required&&(html+='<div class="error" id="'+this.form.name+"-"+fld+'-required-error" ng-show="'+this.form.name+"_form."+fld+".$dirty && "+this.form.name+"_form."+fld+'.$error.required">'+(field.requiredErrorMsg?field.requiredErrorMsg:i18n._("Please enter a value."))+"</div>\n"),html+='<div class="error api-error" id="'+this.form.name+"-"+fld+'-api-error" ng-bind="'+fld+'_api_error"></div>\n',html+="</div>\n"),"select"===field.type&&(html+=label(),html+="<div ",html+=horizontal?'class="'+getFieldWidth()+'"':"",html+=">\n",html+='<div class="Form-dropDownContainer">\n',html+="<select ",html+=field.disabled?'disabled="disabled" ':"",html+='ng-model="'+(field.ngModel?field.ngModel:fld)+'" ',html+='name="'+fld+'" ',html+='class="form-control Form-dropDown',html+='" ',html+=field.ngOptions?this.attr(field,"ngOptions"):"",html+=field.ngChange?this.attr(field,"ngChange"):"",html+=field.ngDisabled?this.attr(field,"ngDisabled"):"",html+=field.ngRequired?this.attr(field,"ngRequired"):"",html+=field.ngInit?this.attr(field,"ngInit"):"",html+=buildId(field,fld,this.form),html+=field.required?"required ":"",html+=field.multiSelect?"multiple ":"",html+=field.readonly?"disabled ":"",field.awRequiredWhen&&(html+=field.awRequiredWhen.init?'data-awrequired-init="'+field.awRequiredWhen.init+'" ':"",html+=field.awRequiredWhen.reqExpression?'aw-required-when="'+field.awRequiredWhen.reqExpression+'" ':"",html+=field.awRequiredWhen.alwaysShowAsterisk?"data-awrequired-always-show-asterisk=true ":""),html+=">\n",field.multiSelect||field.disableChooseOption||(html+='<option value="">',html+=field.defaultText?field.defaultText:i18n.sprintf(i18n._("Choose a %s"),field.label.toLowerCase()),html+="</option>\n"),html+="</select>\n",html+="</div>\n",field.subCheckbox&&(html+='<label class="checkbox-inline Form-subCheckbox" ',html+=field.subCheckbox.ngShow?'ng-show="'+field.subCheckbox.ngShow+'" ':"",html+=">",html+='<input type="checkbox" ng-model="'+field.subCheckbox.variable+'" ',html+=field.subCheckbox.ngChange?'ng-change="'+field.subCheckbox.ngChange+'" ':"",html+='id="'+this.form.name+"_"+fld+'_ask_chbox" ',field.subCheckbox.ngDisabled&&(html+="ng-disabled='"+field.subCheckbox.ngDisabled+"'"),html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+=">",html+=field.subCheckbox.text?field.subCheckbox.text:"",html+="</label>"),(field.required||field.awRequiredWhen)&&(html+='<div class="error" id="'+this.form.name+"-"+fld+'-required-error" ng-show="'+this.form.name+"_form."+fld+".$dirty && "+this.form.name+"_form."+fld+'.$error.required">'+(field.requiredErrorMsg?field.requiredErrorMsg:i18n._("Please select a value.")),field.includePlaybookNotFoundError&&(html+='  <span ng-show="playbookNotFound">Playbook {{ job_template_obj.playbook }} not found for project.</span>\n'),html+="</div>\n"),html+='<div class="error api-error" id="'+this.form.name+"-"+fld+'-api-error" ng-bind="'+fld+'_api_error"></div>\n',html+=field.helpCollapse?this.buildHelpCollapse(field.helpCollapse):"",html+="</div>\n"),"number"===field.type&&(html+=label(),html+="<div ",html+=horizontal?'class="'+getFieldWidth()+'"':"",html+=">\n",html+="<input ",html+=field.spinner?"":'type="text" ',html+=' value="'+field.default+'" ',html+='class="',field.slider||field.spinner||(html+="form-control"),html+='" ',html+=field.slider?'aw-slider="'+fld+'" ':"",html+=field.spinner?'aw-spinner="'+fld+'" ':"",html+='ng-model="'+fld+'" ',html+='name="'+fld+'" ',html+=buildId(field,fld,this.form),html+=field.min||0===field.min?this.attr(field,"min"):"",html+=field.max?this.attr(field,"max"):"",html+=field.ngChange?this.attr(field,"ngChange"):"",html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+=field.slider?'id="'+fld+'-number"':field.id?this.attr(field,"id"):"",html+=field.required?"required ":"",html+=field.readonly?"readonly ":"",html+=field.integer?"integer ":"",html+=field.disabled?'data-disabled="true" ':"",field.awRequiredWhen&&(html+=field.awRequiredWhen.init?'data-awrequired-init="'+field.awRequiredWhen.init+'" ':"",html+=field.awRequiredWhen.reqExpression?'aw-required-when="'+field.awRequiredWhen.reqExpression+'" ':"",html+=field.awRequiredWhen.alwaysShowAsterisk?"data-awrequired-always-show-asterisk=true ":""),html+=" >\n",field.subCheckbox&&(html+='<label class="checkbox-inline Form-subCheckbox" ',html+=field.subCheckbox.ngShow?'ng-show="'+field.subCheckbox.ngShow+'" ':"",html+=">",html+='<input type="checkbox" ng-model="'+field.subCheckbox.variable+'" ',html+=field.subCheckbox.ngChange?'ng-change="'+field.subCheckbox.ngChange+'" ':"",html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+='id="'+this.form.name+"_"+fld+'_ask_chbox" ',html+=">",html+=field.subCheckbox.text?field.subCheckbox.text:"",html+="</label>"),field.required&&(html+='<div class="error" id="'+this.form.name+"-"+fld+'-required-error" ng-show="'+this.form.name+"_form."+fld+".$dirty && "+this.form.name+"_form."+fld+'.$error.required">'+(field.requiredErrorMsg?field.requiredErrorMsg:i18n._("Please select a value."))+"</div>\n"),field.integer&&(html+='<div class="error" id="'+this.form.name+"-"+fld+'-integer-error" ng-show="'+this.form.name+"_form."+fld+'.$error.integer">'+i18n._("Please enter a number.")+"</div>\n"),void 0===field.min&&void 0===field.max||(html+='<div class="error" id="'+this.form.name+"-"+fld+'-minmax-error" ng-show="'+this.form.name+"_form."+fld+".$error.min || "+this.form.name+"_form."+fld+'.$error.max">',html+=void 0!==field.max?i18n.sprintf(i18n._("Please enter a number greater than %d and less than %d."),field.min,field.max):i18n.sprintf(i18n._("Please enter a number greater than %d."),field.min),html+="</div>\n"),html+='<div class="error api-error" id="'+this.form.name+"-"+fld+'-api-error" ng-bind="'+fld+'_api_error"></div>\n',html+="</div>\n"),"checkbox_group"===field.type){for(html+=label(),html+="<div ",html+=horizontal?'class="'+getFieldWidth()+'"':"",html+=">\n",html+='<div class="checkbox-group" ',html+='id="'+this.form.name+"_"+fld+'_chbox_group" ',html+=">\n",i=0;i<field.fields.length;i++)html+=buildCheckbox(this.form,field.fields[i],field.fields[i].name,i);field.required&&(html+='<div class="error" id="'+this.form.name+"-"+fld+'-required-error" ng-show="'+this.form.name+"_form."+fld+".$dirty && "+this.form.name+"_form."+fld+'.$error.required">'+(field.requiredErrorMsg?field.requiredErrorMsg:i18n._("Please select at least one value."))+"</div>\n"),field.integer&&(html+='<div class="error" id="'+this.form.name+"-"+fld+'-integer-error" ng-show="'+this.form.name+"_form."+fld+'.$error.integer">'+i18n._("Please select a number.")+"</div>\n"),(field.min||field.max)&&(html+='<div class="error" id="'+this.form.name+"-"+fld+'-minmax-error" ng-show="'+this.form.name+"_form."+fld+".$error.min || "+this.form.name+"_form."+fld+'.$error.max">'+i18n._("Please select a number between ")+field.min+i18n._(" and ")+field.max+"</div>\n"),html+='<div class="error api-error" id="'+this.form.name+"-"+fld+'-api-error" ng-bind="'+fld+'_api_error"></div>\n',html+="</div><!-- checkbox-group -->\n",html+="</div>\n"}if("checkbox"===field.type&&(horizontal&&(fldWidth=getFieldWidth(),offset=12-parseInt(fldWidth.replace(/[A-Z,a-z,-]/g,""),10),html+='<div class="'+fldWidth+" col-lg-offset-"+offset+'">\n'),html+='<div class="checkbox">\n',html+="<label>",html+=buildCheckbox(this.form,field,fld,void 0,!1),html+=field.icon?Icon(field.icon):"",html+=field.labelBind?'\t\t<span class="Form-inputLabel" ng-bind="'+field.labelBind+'">\n\t\t</span>':'<span class="Form-inputLabel">'+field.label+"</span>",html+=field.awPopOver?this.attr(field,"awPopOver",fld):"",html+="</label>\n",html+='<div class="error api-error" id="'+this.form.name+"-"+fld+'-api-error" ng-bind="'+fld+'_api_error"></div>\n',html+="</div><!-- checkbox -->\n",horizontal&&(html+="</div>\n"),html+=field.helpCollapse?this.buildHelpCollapse(field.helpCollapse):""),"radio_group"===field.type){for(html+=label(),html+="<div ",html+=field.ngShow?'ng-show="'+field.ngShow+'" ':"",html+=horizontal?'class="radio-group '+getFieldWidth()+'"':'class="radio-group"',html+=">\n",i=0;i<field.options.length;i++)html+='<label class="radio-inline ',html+=field.options[i].labelClass?" "+field.options[i].labelClass+' "':'"',html+=field.options[i].ngShow?this.attr(field.options[i],"ngShow"):"",html+=">",html+='<input type="radio" ',html+='name="'+fld+'" ',html+='value="'+field.options[i].value+'" ',html+='ng-model="'+fld+'" ',html+=field.ngChange?this.attr(field,"ngChange"):"",html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'"':"",html+=field.readonly?"disabled ":"",html+=field.required?"required ":"",html+=field.ngshow?'ng-show="'+field.ngShow+'" ':"",field.awRequiredWhen&&(html+=field.awRequiredWhen.init?'data-awrequired-init="'+field.awRequiredWhen.init+'" ':"",html+=field.awRequiredWhen.reqExpression?'aw-required-when="'+field.awRequiredWhen.reqExpression+'" ':"",html+=field.awRequiredWhen.alwaysShowAsterisk?"data-awrequired-always-show-asterisk=true ":""),html+=field.ngDisabled?this.attr(field,"ngDisabled"):"",html+=" > "+field.options[i].label+"\n",html+="</label>\n";(field.required||field.awRequiredWhen)&&(html+='<div class="error" id="'+this.form.name+"-"+fld+'-required-error" ng-show="'+this.form.name+"_form."+fld+".$dirty && "+this.form.name+"_form."+fld+'.$error.required">'+i18n._("Please select a value.")+"</div>\n"),html+='<div class="error api-error" id="'+this.form.name+"-"+fld+'-api-error" ng-bind="'+fld+'_api_error"></div>\n',html+=field.helpCollapse?this.buildHelpCollapse(field.helpCollapse):"",html+="</div>\n"}if("radio"===field.type&&(horizontal&&(fldWidth=getFieldWidth(),offset=12-parseInt(fldWidth.replace(/[A-Z,a-z,-]/g,""),10),html+='<div class="'+fldWidth+" col-lg-offset-"+offset+'">\n'),html+='<div class="radio">\n',html+="<label ",html+=field.labelBind?'ng-bind="'+field.labelBind+'" ':"",html+='for="'+fld+'">',html+='<input type="radio" ',html+='name="'+fld+'" ',html+='value="'+field.value+'" ',html+='ng-model="'+field.ngModel+'" ',html+=field.ngChange?Attr(field,"ngChange"):"",html+=field.readonly?"disabled ":"",html+=field.ngDisabled?Attr(field,"ngDisabled"):"",html+=" > ",html+=field.label,html+="</label>\n",html+='<div class="error api-error" id="'+this.form.name+"-"+fld+'-api-error" ng-bind="'+fld+'_api_error"></div>\n',html+="</div><!-- radio -->\n",horizontal&&(html+="</div>\n")),"lookup"===field.type){var defaultLookupNgClick="$state.go($state.current.name + '."+field.sourceModel+"', {selected: "+field.sourceModel+"})";html+=label(),html+="<div ",html+=horizontal?'class="'+getFieldWidth()+'"':"",html+=">\n",html+='<div class="input-group">',html+='<span class="input-group-btn">\n',html+='<button type="button" class="Form-lookupButton btn btn-default" ng-click="'+(field.ngClick||defaultLookupNgClick)+'"\n                        '+(field.readonly||field.showonly)+"\n                        "+this.attr(field,"ngDisabled")+'\n                        id="'+fld+'-lookup-btn"><i class="fa fa-search"></i></button>',html+="</span>\n",html+='<input type="text" class="form-control Form-textInput input-medium lookup" ',html+='ng-model="'+field.sourceModel+"_"+field.sourceField+'" ',html+='name="'+field.sourceModel+"_"+field.sourceField+'" ',html+='class="form-control" ',html+=field.required?"required ":"",html+=field.ngChange?this.attr(field,"ngChange"):"",html+=field.ngDisabled?this.attr(field,"ngDisabled"):"",html+=field.ngRequired?this.attr(field,"ngRequired"):"",html+=field.id?this.attr(field,"id"):"",html+=field.placeholder?this.attr(field,"placeholder"):"",html+="edit"===options.mode&&field.editRequired?"required ":"",html+=field.readonly||field.showonly?"readonly ":"",field.awRequiredWhen&&(html+=field.awRequiredWhen.init?'data-awrequired-init="'+field.awRequiredWhen.init+'" ':"",html+=field.awRequiredWhen.reqExpression?'aw-required-when="'+field.awRequiredWhen.reqExpression+'" ':"",html+=field.awRequiredWhen.alwaysShowAsterisk?"data-awrequired-always-show-asterisk=true ":""),html+='data-basePath="'+field.basePath+'"',html+='data-source="'+field.sourceModel+'"',html+='data-query="?'+field.sourceField+'__iexact=:value"',html+=void 0!==field.awLookupType?" data-awLookupType="+field.awLookupType+" ":"",html+=void 0!==field.autopopulateLookup?" autopopulateLookup="+field.autopopulateLookup+" ":"",html+=void 0!==field.watchBasePath?" watchBasePath="+field.watchBasePath+" ":"",html+="ng-model-options=\"{ updateOn: 'default blur', debounce: { 'default': 300, 'blur': 0 } }\"",html+=void 0!==field.awLookupWhen?this.attr(field,"awLookupWhen"):"",html+=" awlookup >\n",html+="</div>\n",field.subCheckbox&&(html+='<label class="checkbox-inline Form-subCheckbox" ',html+=field.subCheckbox.ngShow?'ng-show="'+field.subCheckbox.ngShow+'" ':"",html+=">",html+='<input type="checkbox" ng-model="'+field.subCheckbox.variable+'" ',html+=field.subCheckbox.ngChange?'ng-change="'+field.subCheckbox.ngChange+'" ':"",html+=field.ngDisabled?'ng-disabled="'+field.ngDisabled+'" ':"",html+='id="'+this.form.name+"_"+fld+'_ask_chbox" ',html+=">",html+=field.subCheckbox.text?field.subCheckbox.text:"",html+="</label>"),field.required||field.awRequiredWhen?(html+='<div class="error" id="'+this.form.name+"-"+fld+'-required-error" ng-show="'+this.form.name+"_form."+field.sourceModel+"_"+field.sourceField+".$dirty && "+this.form.name+"_form."+field.sourceModel+"_"+field.sourceField+'.$error.required">'+(field.requiredErrorMsg?field.requiredErrorMsg:i18n._("Please select a value."))+"</div>\n",html+='<div class="error" id="'+this.form.name+"-"+fld+'-notfound-error" ng-show="'+this.form.name+"_form."+field.sourceModel+"_"+field.sourceField+".$dirty && "+this.form.name+"_form."+field.sourceModel+"_"+field.sourceField+".$error.awlookup && !("+this.form.name+"_form."+field.sourceModel+"_"+field.sourceField+".$dirty && "+this.form.name+"_form."+field.sourceModel+"_"+field.sourceField+'.$error.required)">'+i18n._("That value was not found.  Please enter or select a valid value.")+"</div>\n"):html+='<div class="error" id="'+this.form.name+"-"+fld+'-notfound-error" ng-show="'+this.form.name+"_form."+field.sourceModel+"_"+field.sourceField+".$dirty && "+this.form.name+"_form."+field.sourceModel+"_"+field.sourceField+'.$error.awlookup">'+i18n._("That value was not found.  Please enter or select a valid value.")+"</div>\n",html+='<div class="error api-error" id="'+this.form.name+"-"+fld+'-api-error" ng-bind="'+field.sourceModel+"_"+field.sourceField+'_api_error"></div>\n',html+="</div>\n"}"custom"===field.type&&(html+=label(),html+="<div ",html+=horizontal?'class="'+getFieldWidth()+'"':"",html+=">\n",html+="<div ",html+='id="'+form.name+"_"+fld+'" ',html+=field.controlNGClass?'ng-class="'+field.controlNGClass+'" ':"",html+=">\n",html+=field.control,html+="</div>\n",html+="</div>\n"),html+="</div>\n"}return html},build:function(options){var btn,button,fld,field,section,group,sectionShow,offset,width,ngDisabled,itm,html="";if(void 0===this.form.showHeader||this.form.showHeader!==!1){if(html+='<div class="Form-header">',html+='<div class="Form-title">',html+="edit"===options.mode?this.form.editTitle:this.form.addTitle,"user"===this.form.name&&(html+="<span class=\"Form-title--is_superuser\" ng-show='is_superuser'>"+i18n._("Admin")+"</span>",html+="<span class=\"Form-title--is_system_auditor\" ng-show='is_system_auditor'>"+i18n._("Auditor")+"</span>",html+="<span class=\"Form-title--is_ldap_user\" ng-show='ldap_user'>LDAP</span>",html+="<span class=\"Form-title--is_external_account\" ng-show='external_account'>{{external_account}}</span>"),html+="</div>\n",html+='<div class="Form-header--fields">',this.form.headerFields){var that=this;_.forEach(this.form.headerFields,function(value,key){html+=that.buildHeaderField(key,value,options,that.form)}),html+="</div>\n"}else html+="</div>\n";void 0!==this.form.cancelButton&&this.form.cancelButton===!1?(html+='<div class="Form-exitHolder">',html+="</div></div>"):(html+='<div class="Form-exitHolder">',html+='<button class="Form-exit" ng-click="formCancel()">',html+='<i class="fa fa-times-circle"></i>',html+="</button></div>\n"),html+="</div>"}if(!_.isEmpty(this.form.related)||!_.isEmpty(this.form.relatedButtons)){var collection,details=i18n._("Details");if(html+='<div class="Form-tabHolder">',"edit"===this.mode){html+='<div id="'+this.form.name+'_tab" class="Form-tab" ',html+=this.form.detailsClick?'ng-click="'+this.form.detailsClick+'" ':"ng-click=\"$state.go('"+this.form.stateTree+".edit')\" ",html+="ng-class=\"{'is-selected': $state.is('"+this.form.activeEditState+"') || $state.is('"+this.form.stateTree+".edit') || $state.$current.data.formChildState }\">"+(details+"</div>");for(itm in this.form.related)collection=this.form.related[itm],html+='<div id="'+itm+'_tab" class="Form-tab" ',html+=this.form.related[itm].ngClick?'ng-click="'+this.form.related[itm].ngClick+'" ':"ng-click=\"$state.go('"+this.form.stateTree+".edit."+itm+"')\" ",collection.awToolTip&&collection.awToolTipTabEnabledInEditMode===!0&&(html+='aw-tool-tip="'+collection.awToolTip+'" '+('aw-tip-placement="'+collection.dataPlacement+'" ')+('data-tip-watch="'+collection.dataTipWatch+'" ')),html+="ng-class=\"{'is-selected' : $state.is('"+this.form.activeEditState+"."+itm+"') || $state.is('"+this.form.stateTree+".edit."+itm+"') ",this.form.related[itm].disabled&&(html+=", 'Form-tab--disabled' : "+this.form.related[itm].disabled),html+='}">'+(collection.title||collection.editTitle)+"</div>";for(itm in this.form.relatedButtons)button=this.form.relatedButtons[itm],html+='<button type="button" ',html+='class="btn btn-sm',html+=button.class?" "+button.class:"",html+='" ',html+='id="'+this.form.name+"_"+btn+'_btn" ',button.ngShow&&(html+=this.attr(button,"ngShow")),button.ngClick&&(html+=this.attr(button,"ngClick")),button.awFeature&&(html+=this.attr(button,"awFeature")),button.ngDisabled&&(ngDisabled=button.ngDisabled===!0?this.form.name+"_form.$invalid":button.ngDisabled,"reset"!==btn&&(html+='ng-disabled="'+ngDisabled,html+='" ')),button.awToolTip&&(html+=" aw-tool-tip='"+button.awToolTip+"' data-placement='"+button.dataPlacement+"' data-tip-watch='"+button.dataTipWatch+"'"),html+=">",html+=" "+button.label+"</button>\n"}else if("add"===this.mode){html+='<div id="'+this.form.name+'_tab"'+('class="Form-tab is-selected">'+details+"</div>");for(itm in this.form.related)collection=this.form.related[itm],html+='<div id="'+itm+'_tab" aw-tool-tip="'+collection.awToolTip+'" aw-tip-placement="'+collection.dataPlacement+'" data-container="body" tooltipinnerclass="StartStatus-tooltip" data-trigger="hover"class="Form-tab Form-tab--disabled">'+(collection.title||collection.editTitle)+"</div>\n";for(itm in this.form.relatedButtons)button=this.form.relatedButtons[itm],html+='<button type="button" ',html+='class="btn btn-sm Form-tab--disabled',html+=button.class?" "+button.class:"",html+='" ',html+='id="'+this.form.name+"_"+btn+'_btn" ',button.ngShow&&(html+=this.attr(button,"ngShow")),button.awFeature&&(html+=this.attr(button,"awFeature")),button.awToolTip&&(html+=" aw-tool-tip='"+button.awToolTip+"' data-placement='"+button.dataPlacement+"' data-tip-watch='"+button.dataTipWatch+"'"),html+=">",html+=" "+button.label+"</button>\n"}html+="</div>"}_.isEmpty(this.form.related)||"edit"!==this.mode||(html+="<div class=\"Form-tabSection\" ng-class=\"{'is-selected' : $state.is('"+this.form.activeEditState+"') || $state.is('"+this.form.stateTree+".edit') || $state.$current.data.formChildState }\">"),html+='<form class="Form',html+=this.form.horizontal?"form-horizontal":"",html+=this.form.class?" "+this.form.class:"",html+='" name="'+this.form.name+'_form" id="'+this.form.name+'_form" autocomplete="off" novalidate>\n',html+='<div ng-show="flashMessage != null && flashMessage != undefined" class="alert alert-info">{{ flashMessage }}</div>\n';var currentSubForm,hasSubFormField;section="",group="";for(fld in this.form.fields)if(field=this.form.fields[fld],!options.modal||!field.excludeModal){if(field.group&&field.group!==group&&(""!==group&&(html+="</div>\n"),html+='<div class="well">\n',html+="<h5>"+field.group+"</h5>\n",group=field.group),field.section&&field.section!==section&&(""!==section?html+="</div>\n":(html+="</div>\n",html+='<div id="'+this.form.name+'-collapse" class="jqui-accordion-modal">\n'),sectionShow=this.form[field.section+"Show"]?' ng-show="'+this.form[field.section+"Show"]+'"':"",html+="<h3"+sectionShow+">"+field.section+"</h3>\n",html+="<div"+sectionShow+">\n",section=field.section),field.hasSubForm===!0&&(hasSubFormField=fld),field.subForm&&void 0===currentSubForm){currentSubForm=field.subForm;var subFormTitle=this.form.subFormTitles[field.subForm];html+='<div class="Form-subForm '+currentSubForm+'" ng-hide="'+hasSubFormField+".value === undefined || "+field.hideSubForm+'"> ',html+='<span class="Form-subForm--title">'+subFormTitle+"</span>"}else field.subForm||void 0===currentSubForm||(currentSubForm=void 0,html+="</div> ");html+=this.buildField(fld,field,options,this.form)}if(currentSubForm&&(currentSubForm=void 0,html+="</div>"),""!==section&&(html+="</div>\n</div>\n"),""!==group&&(html+="</div>\n"),html+="</form>\n",(void 0===options.showButtons||options.showButtons===!0)&&!this.modal&&this.has("buttons")){html+='<div class="buttons Form-buttons" ',html+='id="'+this.form.name+'_controls" ',"edit"!==options.mode||_.isEmpty(this.form.related)||(html+="ng-show=\"$state.is('"+this.form.activeEditState+"') || $state.is('"+this.form.stateTree+".edit') || $state.matches('lookup') \""),html+=">\n",this.form.horizontal&&(offset=2,this.form.buttons.labelClass&&(offset=parseInt(this.form.buttons.labelClass.replace(/[A-Z,a-z,-]/g,""))),width=12-offset,html+='<div class="col-lg-offset-'+offset+" col-lg-"+width+">\n");for(btn in this.form.buttons)"object"===_typeof(this.form.buttons[btn])&&(button=this.form.buttons[btn],"save"===btn&&(button.label=i18n._("Save"),button.class="Form-saveButton"),"select"===btn&&(button.label=i18n._("Select"),button.class="Form-saveButton"),"cancel"===btn&&(button.label=i18n._("Cancel"),button.class="Form-cancelButton"),"close"===btn&&(button.label=i18n._("Close"),button.class="Form-cancelButton"),"launch"===btn&&(button.label=i18n._("Launch"),button.class="Form-launchButton"),"add_survey"===btn&&(button.label=i18n._("Add Survey"),button.class="Form-surveyButton"),"edit_survey"===btn&&(button.label=i18n._("Edit Survey"),button.class="Form-surveyButton"),"view_survey"===btn&&(button.label=i18n._("View Survey"),button.class="Form-surveyButton"),"workflow_editor"===btn&&(button.label=i18n._("Workflow Editor"),button.class="Form-primaryButton"),html+='<button type="button" ',html+='class="btn btn-sm',html+=button.class?" "+button.class:"",html+='" ',html+='id="'+this.form.name+"_"+btn+'_btn" ',button.ngShow&&(html+=this.attr(button,"ngShow")),button.ngClick&&(html+=this.attr(button,"ngClick")),button.awFeature&&(html+=this.attr(button,"awFeature")),button.ngDisabled&&(ngDisabled=button.ngDisabled===!0?this.form.name+"_form.$invalid ||  "+this.form.name+"_form.$pending":button.ngDisabled,"reset"!==btn&&(button.disabled&&button.disable!==!0||(html+='ng-disabled="'+ngDisabled,html+='" '))),button.disabled&&button.disable!==!0&&(html+=' disabled="disabled" '),button.awToolTip&&(html+=" aw-tool-tip='"+button.awToolTip+"' data-placement='"+button.dataPlacement+"' data-tip-watch='"+button.dataTipWatch+"'"),html+=">",html+=" "+button.label+"</button>\n");html+="</div><!-- buttons -->\n",this.form.horizontal&&(html+="</div>\n")}return _.isEmpty(this.form.related)||"edit"!==this.mode||(html+="</div>"),this.form.include&&_.forEach(this.form.include,function(template){html+="<div ng-include=\"'"+template+"'\"></div>"}),this.wrapPanel(html,options.noPanel)},buildCollection:function(params){this.form=params.form;var html="",collection=this.form.related[params.related];return html+=collection.generateList?GenerateList.build({mode:params.mode,list:collection}):this.GenerateCollection({form:this.form,related:params.related},{mode:params.mode})},GenerateCollection:function(params,options){var act,fld,cnt,base,fAction,width,html="",form=params.form,itm=params.related,collection=form.related[itm];collection.instructions&&(html+='<div class="alert alert-info alert-block">\n',html+='<button type="button" class="close" data-dismiss="alert">&times;</button>\n',html+="<strong>Hint: </strong>"+collection.instructions+"\n",html+="</div>\n");var actionButtons="";Object.keys(collection.actions||{}).forEach(function(act){actionButtons+=ActionButton(collection.actions[act])});width=0===actionButtons.length?"col-lg-12 col-md-12 col-sm-12 col-xs-12":"col-lg-8 col-md-8 col-sm-8 col-xs-12",actionButtons.length>0&&(html+='<div class="list-actions">\n                            '+actionButtons+"\n                        </div>"),html+='\n                <div\n                    ng-hide="('+itm+'.length === 0 && (searchTags | isEmpty)) || hideSmartSearch === true">\n                        <smart-search\n                            django-model="'+itm+'"\n                            search-size="'+width+'"\n                            base-path="'+collection.basePath+'"\n                            iterator="'+collection.iterator+'"\n                            list="list"\n                            collection="'+collection.iterator+'s"\n                            dataset="'+collection.iterator+'_dataset"\n                            search-tags="searchTags">\n                        </smart-search>\n                </div>\n                    ',html+='\n                    <div\n                        class="row"\n                        ng-show="'+itm+'.length === 0 && !(searchTags | isEmpty)">\n                        <div class="col-lg-12 List-searchNoResults">',html+=i18n._("No records matched your search."),html+="</div>\n                    </div>\n                ";var emptyListText=collection.emptyListText?collection.emptyListText:i18n._("PLEASE ADD ITEMS TO THIS LIST");html+='<div ng-hide="is_superuser">',html+='<div class="List-noItems" ng-show="'+itm+'.length === 0 && (searchTags | isEmpty)"> '+emptyListText+" </div>",html+="</div>",html+='\n                    <div class="List-noItems" ng-show="is_superuser">\n                        System Administrators have access to all '+collection.iterator+"s\n                    </div>\n                ",html+='\n                <div class="list-wrapper"\n                    ng-show="'+collection.iterator+'s.length > 0 && !is_superuser">\n                    <table id="'+itm+'_table" class="'+collection.iterator+' List-table">\n                        <thead>\n                        <tr class="List-tableHeaderRow">\n                ',html+=void 0===collection.index||collection.index!==!1?'<th class="col-xs-1">#</th>\n':"";for(fld in collection.fields)html+='<th class="List-tableHeader list-header '+collection.fields[fld].columnClass+'"\n                        id="'+collection.iterator+"-"+fld+'-header"\n                        base-path="'+collection.basePath+'"\n                        collection="'+collection.name+'"\n                        dataset="'+collection.iterator+'_dataset"\n                        column-sort\n                        column-field="'+fld+'"\n                        column-iterator="'+collection.iterator+'"\n                        column-no-sort="'+collection.fields[fld].nosort+'"\n                        column-label="'+collection.fields[fld].label+'">\n                        '+collection.fields[fld].label+"\n                        </th>";collection.fieldActions&&(html+='<th class="List-tableHeader List-tableHeader--actions">Actions</th>\n'),html+="</tr>\n",html+="</thead>",html+="<tbody>\n",html+='<tr class="List-tableRow" ng-repeat="'+collection.iterator+" in "+itm+'" ',html+="ng-class-odd=\"'List-tableRow--oddRow'\" ",html+="ng-class-even=\"'List-tableRow--evenRow'\" ",html+='id="{{ '+collection.iterator+'.id }}">\n',void 0!==collection.index&&collection.index===!1||(html+='<td class="List-tableCell',html+=collection.fields[fld].class?collection.fields[fld].class:"",html+='">{{ $index + (('+collection.iterator+"_page - 1) * "+collection.iterator+"_page_size) + 1 }}.</td>\n"),cnt=1,base=collection.base?collection.base:itm,base=base.replace(/^\//,"");for(fld in collection.fields)collection.fields[fld].searchOnly||(cnt++,html+=Column({list:collection,fld:fld,options:options,base:base}));if(collection.fieldActions){html+='<td class="List-actionsContainer"><div class="List-tableCell List-actionButtonCell actions">';for(act in collection.fieldActions)fAction=collection.fieldActions[act],html+='<button id="'+(fAction.id?fAction.id:act+"-action")+'" ',html+=fAction.awToolTip?'aw-tool-tip="'+fAction.awToolTip+'"':"",html+=fAction.dataPlacement?'data-placement="'+fAction.dataPlacement+'"':"",html+=fAction.href?'href="'+fAction.href+'" ':"",html+=fAction.ngClick?this.attr(fAction,"ngClick"):"",html+=fAction.ngHref?this.attr(fAction,"ngHref"):"",html+=fAction.ngShow?this.attr(fAction,"ngShow"):"",html+=' class="List-actionButton ',html+="delete"===act?"List-actionButton--delete":"",html+='"',html+=">",html+=fAction.iconClass?'<i class="'+fAction.iconClass+'"></i>':SelectIcon({action:act}),html+="</button>";html+="</div></td>",html+="</tr>\n"}return html+='<tr ng-show="'+collection.iterator+'Loading == true">\n',html+='<td colspan="'+cnt+'"><div class="loading-info">'+i18n._("Loading...")+"</div></td>\n",html+="</tr>\n",html+="</tbody>\n",html+="</table>\n",html+="</div>\n",html+='<paginate base-path="'+collection.basePath+'" dataset="'+collection.iterator+'_dataset" collection="'+collection.iterator+'s" iterator="'+collection.iterator+'" ng-hide="hidePagination">'}}}])}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lookupModal=__webpack_require__(392),_lookupModal2=_interopRequireDefault(_lookupModal);exports.default=angular.module("LookupModalModule",[]).directive("lookupModal",_lookupModal2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"E",replace:!0,transclude:!0,scope:!1,templateUrl:templateUrl("shared/lookup/lookup-modal"),link:function(scope,element,attrs,controller,transcludefn){transcludefn(scope,function(clone,linked_scope){var list=linked_scope.$resolve.ListDefinition,Dataset=linked_scope.$resolve.Dataset;linked_scope.list=list,linked_scope[list.iterator+"_dataset"]=Dataset.data,linked_scope[list.name]=linked_scope[list.iterator+"_dataset"].results,element.find(".modal-body").append(clone),scope.init()}),$("#form-modal").modal("show");
},controller:["$scope","$state",function($scope,$state){function selectRowIfPresent(){var list=$scope.list;$scope.currentSelection&&$scope.currentSelection.id&&$scope[list.name].forEach(function(row){row.id===$scope.currentSelection.id&&(row.checked=!0)})}$scope.init=function(){var list=$scope.list;$state.params.selected&&($scope.currentSelection={name:null,id:parseInt($state.params.selected)}),$scope.$watch(list.name,function(){selectRowIfPresent()})},$scope.saveForm=function(){var list=$scope.list;null!==$scope.currentSelection.name&&($scope.$parent[list.iterator+"_name"]=$scope.currentSelection.name),$scope.$parent[list.iterator]=$scope.currentSelection.id,$state.go("^")},$scope.cancelForm=function(){$state.go("^")},$scope.toggle_row=function(rowId){var list=$scope.list,count=0;$scope[list.name].forEach(function(row){row.id===rowId?(row.checked?row.success_class="success":(row.checked=!0,row.success_class=""),$scope.currentSelection={name:row.name,id:row.id}):(row.checked=0,row.success_class=""),row.checked&&count++})}}]}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _smartSearch=__webpack_require__(394),_smartSearch2=_interopRequireDefault(_smartSearch),_smartSearch3=__webpack_require__(395),_smartSearch4=_interopRequireDefault(_smartSearch3),_queryset=__webpack_require__(396),_queryset2=_interopRequireDefault(_queryset),_djangoSearchModel=__webpack_require__(397),_djangoSearchModel2=_interopRequireDefault(_djangoSearchModel),_smartSearch5=__webpack_require__(398),_smartSearch6=_interopRequireDefault(_smartSearch5);exports.default=angular.module("SmartSearchModule",[]).directive("smartSearch",_smartSearch2.default).controller("SmartSearchController",_smartSearch4.default).service("QuerySet",_queryset2.default).service("SmartSearchService",_smartSearch6.default).constant("DjangoSearchModel",_djangoSearchModel2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"E",replace:!1,transclude:{actions:"?div"},scope:{djangoModel:"@",searchSize:"@",basePath:"@",iterator:"@",list:"=",dataset:"=",collection:"=",searchTags:"=",disableSearch:"=",defaultParams:"=",querySet:"="},controller:"SmartSearchController",templateUrl:templateUrl("shared/smart-search/smart-search")}}]},function(module,exports,__webpack_require__){(function(_){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$stateParams","$scope","$state","QuerySet","GetBasePath","QuerySet","SmartSearchService","i18n",function($stateParams,$scope,$state,QuerySet,GetBasePath,qs,SmartSearchService,i18n){function init(){function compareParams(a,b){for(var key in a)if(!(key in b)||a[key].toString()!==b[key].toString())return!1;for(var _key in b)if(!(_key in a))return!1;return!0}path=GetBasePath($scope.basePath)||$scope.basePath,$scope.searchTags=stripDefaultParams($state.params[$scope.iterator+"_search"]),qs.initFieldset(path,$scope.djangoModel).then(function(data){$scope.models=data.models,$scope.options=data.options.data,$scope.$emit($scope.list.iterator+"_options",data.options)}),$scope.searchPlaceholder=$scope.disableSearch?i18n._("Cannot search running job"):i18n._("Search"),stateChangeSuccessListener&&stateChangeSuccessListener(),stateChangeSuccessListener=$scope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){fromState.name===toState.name&&(compareParams(fromParams[$scope.iterator+"_search"],toParams[$scope.iterator+"_search"])||(queryset=toParams[$scope.iterator+"_search"],qs.search(path,queryset).then(function(res){$scope.dataset=res.data,$scope.collection=res.data.results}),$scope.searchTerm=null,$scope.searchTags=stripDefaultParams(queryset)))}),$scope.$on("$destroy",stateChangeSuccessListener),$scope.$watch("disableSearch",function(disableSearch){disableSearch?$scope.searchPlaceholder=i18n._("Cannot search running job"):$scope.searchPlaceholder=i18n._("Search")})}function stripDefaultParams(params){var stripped=_.pick(params,function(value,key){return defaults[key]!==value&&"order_by"!==key&&"page"!==key&&"page_size"!==key&&null!==defaults[key]}),strippedCopy=_.cloneDeep(stripped);if(_.keys(_.pick(defaults,_.keys(strippedCopy))).length>0){for(var key in strippedCopy)if(strippedCopy.hasOwnProperty(key)){var value=strippedCopy[key];if(_.isArray(value)){var index=_.indexOf(value,defaults[key]);value=value.splice(index,1)[0]}}stripped=strippedCopy}return _(strippedCopy).map(qs.decodeParam).flatten().value()}function setDefaults(term){return $scope.list.defaultSearchParams?$scope.list.defaultSearchParams(encodeURIComponent(term)):{search:encodeURIComponent(term)}}var path=void 0,defaults=void 0,queryset=void 0,stateChangeSuccessListener=void 0;defaults=$scope.defaultParams?$scope.defaultParams:_.find($state.$current.path,function(step){if(step&&step.params&&step.params.hasOwnProperty($scope.iterator+"_search"))return step.params.hasOwnProperty($scope.iterator+"_search")}).params[$scope.iterator+"_search"].config.value,queryset=$scope.querySet?_.cloneDeep($scope.querySet):$stateParams[$scope.iterator+"_search"],init(),$scope.toggleKeyPane=function(){$scope.showKeyPane=!$scope.showKeyPane},$scope.clearAll=function(){var cleared=_.cloneDeep(defaults);delete cleared.page,queryset=cleared,$scope.querySet||$state.go(".",_defineProperty({},$scope.iterator+"_search",queryset),{notify:!1}),qs.search(path,queryset).then(function(res){$scope.querySet&&($scope.querySet=queryset),$scope.dataset=res.data,$scope.collection=res.data.results}),$scope.searchTags=stripDefaultParams(queryset)},$scope.remove=function(index){var tagToRemove=$scope.searchTags.splice(index,1)[0],termParts=SmartSearchService.splitTermIntoParts(tagToRemove),removed=void 0,removeFromQuerySet=function(set){_.each(removed,function(value,key){Array.isArray(set[key])?(_.remove(set[key],function(item){return item===value}),0===set[key].length&&delete set[key]):delete set[key]})};if(1===termParts.length)removed=setDefaults(tagToRemove);else{var root=termParts[0].split(".")[0].replace(/^-/,""),encodeParams={term:tagToRemove};$scope.models[$scope.list.name]?_.has($scope.models[$scope.list.name].base,root)?($scope.models[$scope.list.name].base[root].type&&"field"===$scope.models[$scope.list.name].base[root].type?encodeParams.relatedSearchTerm=!0:encodeParams.searchTerm=!0,removed=qs.encodeParam(encodeParams)):_.contains($scope.models[$scope.list.name].related,root)?(encodeParams.relatedSearchTerm=!0,removed=qs.encodeParam(encodeParams)):removed=setDefaults(termParts[termParts.length-1]):removed=setDefaults(termParts[termParts.length-1])}removeFromQuerySet(queryset),$scope.querySet||$state.go(".",_defineProperty({},$scope.iterator+"_search",queryset),{notify:!1}).then(function(){removeFromQuerySet($stateParams[$scope.iterator+"_search"])}),qs.search(path,queryset).then(function(res){$scope.querySet&&($scope.querySet=queryset),$scope.dataset=res.data,$scope.collection=res.data.results}),$scope.searchTags=stripDefaultParams(queryset)},$scope.add=function(terms){var params={},origQueryset=_.clone(queryset);if(terms=terms?terms.trim():"",terms&&""!==terms){var splitTerms=SmartSearchService.splitSearchIntoTerms(terms);_.forEach(splitTerms,function(term){function combineSameSearches(a,b){return _.isArray(a)?a.concat(b):a?[a,b]:void 0}var termParts=SmartSearchService.splitTermIntoParts(term);if(1===termParts.length)params=_.merge(params,setDefaults(term),combineSameSearches);else{var root=termParts[0].split(".")[0].replace(/^-/,"");params=_.has($scope.models[$scope.list.name].base,root)?$scope.models[$scope.list.name].base[root].type&&"field"===$scope.models[$scope.list.name].base[root].type?_.merge(params,qs.encodeParam({term:term,relatedSearchTerm:!0}),combineSameSearches):_.merge(params,qs.encodeParam({term:term,searchTerm:!0}),combineSameSearches):_.contains($scope.models[$scope.list.name].related,root)?_.merge(params,qs.encodeParam({term:term,relatedSearchTerm:!0}),combineSameSearches):_.merge(params,setDefaults(term),combineSameSearches)}}),queryset=_.merge(queryset,params,function(objectValue,sourceValue,key,object){return object[key]&&object[key]!==sourceValue?_.isArray(object[key])?(object[key].push(sourceValue),object[key]):[object[key],sourceValue]:void 0}),delete queryset.page,$scope.querySet||$state.go(".",_defineProperty({},$scope.iterator+"_search",queryset),{notify:!1}).then(function(){delete $stateParams[$scope.iterator+"_search"].page}),qs.search(path,queryset).then(function(res){$scope.querySet&&($scope.querySet=queryset),$scope.dataset=res.data,$scope.collection=res.data.results}).catch(function(){$scope.revertSearch(origQueryset)}),$scope.searchTerm=null,$scope.searchTags=stripDefaultParams(queryset)}},$scope.revertSearch=function(queryToBeRestored){queryset=queryToBeRestored,$scope.querySet||$state.go(".",_defineProperty({},$scope.iterator+"_search",queryset),{notify:!1}),qs.search(path,queryset).then(function(res){$scope.querySet&&($scope.querySet=queryset),$scope.dataset=res.data,$scope.collection=res.data.results}),$scope.searchTerm=null,$scope.searchTags=stripDefaultParams(queryset)}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$q","Rest","ProcessErrors","$rootScope","Wait","DjangoSearchModel","SmartSearchService",function($q,Rest,ProcessErrors,$rootScope,Wait,DjangoSearchModel,SmartSearchService){return{initFieldset:function(path,name){var defer=$q.defer();return defer.resolve(this.getCommonModelOptions(path,name)),defer.promise},getCommonModelOptions:function(path,name){var resolve=void 0,base=void 0,defer=$q.defer();return this.url=path,resolve=this.options(path).then(function(res){base=res.data.actions.GET;var relatedSearchFields=res.data.related_search_fields;defer.resolve({models:_defineProperty({},name,new DjangoSearchModel(name,base,relatedSearchFields)),options:res})}),defer.promise},encodeQueryset:function(params){function encodeTerm(value,key){if(key=key.replace(/__icontains_DEFAULT/g,"__icontains"),key=key.replace(/__search_DEFAULT/g,"__search"),Array.isArray(value)){value=_.uniq(_.flattenDeep(value));var concated="";return angular.forEach(value,function(item){item&&"string"==typeof item&&(item=decodeURIComponent(item).replace(/"|'/g,"")),concated+=key+"="+item+"&"}),concated}return value&&"string"==typeof value&&(value=decodeURIComponent(value).replace(/"|'/g,"")),key+"="+value+"&"}var queryset=void 0;return queryset=_.reduce(params,function(result,value,key){return result+encodeTerm(value,key)},""),queryset=queryset.substring(0,queryset.length-1),angular.isObject(params)?"?"+queryset:""},encodeParam:function(params){var paramParts=SmartSearchService.splitTermIntoParts(params.term),keySplit=paramParts[0].split("."),exclude=!1,lessThanGreaterThan=!!paramParts[1].match(/^(>|<).*$/);keySplit[0].match(/^-/g)&&(exclude=!0,keySplit[0]=keySplit[0].replace(/^-/,""));var paramString=exclude?"not__":"",valueString=paramParts[1];return paramString+=1===keySplit.length?params.searchTerm&&!lessThanGreaterThan?keySplit[0]+"__icontains_DEFAULT":params.relatedSearchTerm?keySplit[0]+"__search_DEFAULT":keySplit[0]:keySplit.join("__"),lessThanGreaterThan&&(paramParts[1].match(/^>=.*$/)?(paramString+="__gte",valueString=valueString.replace(/^(>=)/,"")):paramParts[1].match(/^<=.*$/)?(paramString+="__lte",valueString=valueString.replace(/^(<=)/,"")):paramParts[1].match(/^<.*$/)?(paramString+="__lt",valueString=valueString.replace(/^(<)/,"")):paramParts[1].match(/^>.*$/)&&(paramString+="__gt",valueString=valueString.replace(/^(>)/,""))),_defineProperty({},paramString,encodeURIComponent(valueString))},decodeParam:function(value,key){var decodeParamString=function(searchString){if("search"===key)return decodeURIComponent(""+searchString);key=key.replace(/__icontains_DEFAULT/g,""),key=key.replace(/__search_DEFAULT/g,"");var split=key.split("__"),decodedParam=searchString,exclude=!1;key.startsWith("not__")&&(exclude=!0,split=split.splice(1,split.length)),key.endsWith("__gt")?(decodedParam=">"+decodedParam,split=split.splice(0,split.length-1)):key.endsWith("__lt")?(decodedParam="<"+decodedParam,split=split.splice(0,split.length-1)):key.endsWith("__gte")?(decodedParam=">="+decodedParam,split=split.splice(0,split.length-1)):key.endsWith("__lte")&&(decodedParam="<="+decodedParam,split=split.splice(0,split.length-1));var uriDecodedParam=decodeURIComponent(decodedParam);return exclude?"-"+split.join(".")+":"+uriDecodedParam:split.join(".")+":"+uriDecodedParam};return Array.isArray(value)?(value=_.uniq(_.flattenDeep(value)),_.map(value,function(item){return decodeParamString(item)})):decodeParamString(value)},encodeArr:function(params){function encodeUrlString(value,key){return Array.isArray(value)?(value=_.uniq(_.flattenDeep(value)),_.map(value,function(item){return key+":"+item})):key+":"+value}var url=void 0;return url=_.reduce(params,function(result,value,key){return result.concat(encodeUrlString(value,key))},[]),url.join(";")},decodeArr:function(arr){var params={};return _.forEach(arr.split(";"),function(item){var key=item.split(":")[0],value=item.split(":")[1];params[key]?Array.isArray(params[key])?(params[key]=_.uniq(_.flattenDeep(params[key])),params[key].push(value)):params[key]=[params[key],value]:params[key]=value}),params},options:function(endpoint){return Rest.setUrl(endpoint),Rest.options(endpoint)},search:function(endpoint,params){return Wait("start"),this.url=""+endpoint+this.encodeQueryset(params),Rest.setUrl(this.url),Rest.get().then(function(response){return Wait("stop"),null!==response.headers("X-UI-Max-Events")&&(response.data.maxEvents=response.headers("X-UI-Max-Events")),response}).catch(function(response){if(Wait("stop"),/^\/api\/v[0-9]+\/workflow_job_templates\/$/.test(endpoint)&&402===response.status)return response;throw this.error(response.data,response.status),response}.bind(this))},error:function error(data,status){if(data&&data.detail){var error=JSON.parse(data.detail);_.isArray(error)&&(data.detail=error[0])}ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Invalid search term entered. GET returned: "+status})}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var DjangoSearchModel=function DjangoSearchModel(name,baseFields,relatedSearchFields){function trimRelated(relatedSearchField){return relatedSearchField.replace(/\__search$/,"")}var _this=this;_classCallCheck(this,DjangoSearchModel),this.name=name,this.searchExamples=[],this.related=_.uniq(_.map(relatedSearchFields,trimRelated));for(var key in baseFields)baseFields.hasOwnProperty(key)&&"object"===baseFields[key].type&&delete baseFields[key];delete baseFields.url,this.base=baseFields,baseFields.id&&this.searchExamples.push("id:>10");var stringFound=!1,dateTimeFound=!1;_.forEach(baseFields,function(value,key){stringFound||"string"!==value.type||(_this.searchExamples.push(key+":foobar"),stringFound=!0),dateTimeFound||"datetime"!==value.type||(_this.searchExamples.push(key+':>="2000-01-01T00:00:00Z"'),_this.searchExamples.push(key+":<2000-01-01"),dateTimeFound=!0)})};exports.default=DjangoSearchModel}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=[function(){return{splitSearchIntoTerms:function(searchString){return searchString.match(/(?:[^\s"']+|"[^"]*"|'[^']*')+/g)},splitTermIntoParts:function(searchTerm){var breakOnColon=searchTerm.match(/(?:[^:"]+|"[^"]*")+/g);if(breakOnColon.length>2){var stringsToJoin=breakOnColon.slice(1,breakOnColon.length);return[breakOnColon[0],stringsToJoin.join(":")]}return breakOnColon}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _paginate=__webpack_require__(400),_paginate2=_interopRequireDefault(_paginate),_paginate3=__webpack_require__(401),_paginate4=_interopRequireDefault(_paginate3);exports.default=angular.module("PaginateModule",[]).directive("paginate",_paginate2.default).controller("PaginateController",_paginate4.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"E",replace:!1,scope:{collection:"=",dataset:"=",iterator:"@",basePath:"@",querySet:"=",maxVisiblePages:"@"},controller:"PaginateController",templateUrl:templateUrl("shared/paginate/paginate")}}]},function(module,exports,__webpack_require__){(function(_){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$stateParams","$state","$filter","GetBasePath","QuerySet","$interpolate",function($scope,$stateParams,$state,$filter,GetBasePath,qs,$interpolate){function init(){var updatePaginationVariables=function(){$scope.current=calcCurrent(),$scope.last=calcLast(),$scope.pageRange=calcPageRange($scope.current,$scope.last),$scope.dataRange=calcDataRange()};updatePaginationVariables(),$scope.$watch("collection",function(){updatePaginationVariables()})}function calcLast(){return Math.ceil($scope.dataset.count/pageSize)}function calcCurrent(){return $scope.querySet?parseInt($scope.querySet.page||"1"):parseInt($stateParams[$scope.iterator+"_search"].page||"1")}function calcPageRange(current,last){var result=[],maxVisiblePages=$scope.maxVisiblePages?parseInt($scope.maxVisiblePages):10,pagesLeft=void 0,pagesRight=void 0;if(maxVisiblePages%2?(pagesLeft=(maxVisiblePages-1)/2,pagesRight=(maxVisiblePages-1)/2+1):pagesLeft=pagesRight=maxVisiblePages/2,last<maxVisiblePages)result=_.range(1,last+1);else if(current===last)result=_.range(last+1-maxVisiblePages,last+1);else{var topOfRange=current+pagesRight>maxVisiblePages+1?current+pagesRight<last+1?current+pagesRight:last+1:maxVisiblePages+1,bottomOfRange=topOfRange===last+1?last+1-maxVisiblePages:current-pagesLeft>0?current-pagesLeft:1;result=_.range(bottomOfRange,topOfRange)}return result}function calcDataRange(){if(1===$scope.current&&$scope.dataset.count<parseInt(pageSize))return"1 - "+$scope.dataset.count;if(1===$scope.current)return"1 - "+pageSize;var floor=($scope.current-1)*parseInt(pageSize)+1,ceil=floor+parseInt(pageSize)<$scope.dataset.count?floor+parseInt(pageSize):$scope.dataset.count;return floor+" - "+ceil}var pageSize=$scope.querySet?$scope.querySet.page_size||20:$stateParams[$scope.iterator+"_search"].page_size||20,queryset=void 0,path=void 0;$scope.pageSize=pageSize,$scope.dataCount=function(){return $filter("number")($scope.dataset.count)},$scope.toPage=function(page){if(0!==page){if(GetBasePath($scope.basePath)||$scope.basePath)path=GetBasePath($scope.basePath)||$scope.basePath;else{var interpolator=$interpolate($scope.basePath);path=interpolator({$stateParams:$stateParams})}if($scope.querySet){var origQuerySet=_.cloneDeep($scope.querySet);queryset=_.merge(origQuerySet,{page:page})}else queryset=_.merge($stateParams[$scope.iterator+"_search"],{page:page});$scope.querySet||$state.go(".",_defineProperty({},$scope.iterator+"_search",queryset),{notify:!1}),qs.search(path,queryset).then(function(res){$scope.querySet&&($scope.querySet=queryset),$scope.dataset=res.data,$scope.collection=res.data.results}),$scope.pageRange=calcPageRange($scope.current,$scope.last),$scope.dataRange=calcDataRange()}},init()}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _columnSort=__webpack_require__(403),_columnSort2=_interopRequireDefault(_columnSort),_columnSort3=__webpack_require__(404),_columnSort4=_interopRequireDefault(_columnSort3);exports.default=angular.module("ColumnSortModule",[]).directive("columnSort",_columnSort2.default).controller("ColumnSortController",_columnSort4.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"AE",replace:!0,scope:{collection:"=",dataset:"=",basePath:"@",columnOrderBy:"@",columnNoSort:"@",columnCustomClass:"@",columnIterator:"@",columnField:"@",columnLabel:"@",querySet:"="},controller:"ColumnSortController",templateUrl:templateUrl("shared/column-sort/column-sort")}}]},function(module,exports,__webpack_require__){(function(_){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$state","QuerySet","GetBasePath","$stateParams","$interpolate",function($scope,$state,qs,GetBasePath,$stateParams,$interpolate){function isDescending(str){return!!str&&"-"===str.charAt(0)}function invertOrderBy(str){return"-"===str.charAt(0)?""+str.substring(1,str.length):"-"+str}var queryset=void 0,path=void 0;$scope.orderByIcon=function(){var order_by=$scope.querySet?$scope.querySet.order_by:$state.params[$scope.columnIterator+"_search"].order_by;return order_by!==$scope.columnField&&order_by!==invertOrderBy($scope.columnField)?"fa-sort":isDescending(order_by)?"fa-sort-down":"fa-sort-up"},$scope.toggleColumnOrderBy=function(){var order_by=$scope.querySet?$scope.querySet.order_by:$state.params[$scope.columnIterator+"_search"].order_by;if(order_by=order_by===$scope.columnField||order_by===invertOrderBy($scope.columnField)?invertOrderBy(order_by):$scope.columnField,$scope.querySet){var origQuerySet=_.cloneDeep($scope.querySet);queryset=_.merge(origQuerySet,{order_by:order_by})}else queryset=_.merge($state.params[$scope.columnIterator+"_search"],{order_by:order_by});if(GetBasePath($scope.basePath)||$scope.basePath)path=GetBasePath($scope.basePath)||$scope.basePath;else{var interpolator=$interpolate($scope.basePath);path=interpolator({$stateParams:$stateParams})}$scope.querySet||$state.go(".",_defineProperty({},$scope.columnIterator+"_search",queryset),{notify:!1}),qs.search(path,queryset).then(function(res){$scope.querySet&&($scope.querySet=queryset),$scope.dataset=res.data,$scope.collection=res.data.results})}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function lodashAsPromised($q){function log(label,obj){return console.log(label,obj),obj}function _reject(reason){return $q.reject(reason)}function _promise(value){return $q.when(value)}function _then(promise,fn){return promise.then(function(value){return _.isFunction(value.then)?_then(value,fn):fn(value)})}function _catch(promise,fn){return promise.catch(fn)}function _finally(promise,fn){return promise.finally(fn)}function thenAll(arr,then,deep){var doAll=function(arr){var promise=$q.all(arr).then(function(resolvedArr){return deep?lodash(resolvedArr).thenMap(function(elem){return _.isArray(elem)?thenAll(elem,null,!0):elem}).thenAll().value():resolvedArr});return then?promise.then(then):promise};return arr.then?arr.then(doAll):doAll(arr)}function thenFlatten(array,isShallow,callback,thisArg){return thenAll(array,_.partialRight(_.flatten,isShallow,callback,thisArg),!0)}function wrapCallback(method,callback,thisArg,collection){return method(collection,function(value,index,collection){return _.isUndefined(value)?callback(value,index,collection):_.isFunction(value.then)?value.then(_.partialRight(callback,index,collection)):callback(value,index,collection)},thisArg)}function promiseWrapper(method,collection,callback,thisArg){return _.isFunction(collection.then)?collection.then(_.partial(wrapCallback,method,callback,thisArg)):$q.all(collection).then(function(unwrappedResults){return method(unwrappedResults,callback,thisArg)})}var lodash=_.runInContext(),_aw={},toExtend=["map","filter","reduce","pluck","compact","xor","groupBy","thru"];return toExtend.forEach(function(fnName){var wrappedName="then"+_.capitalize(fnName);_aw[wrappedName]=_.partial(promiseWrapper,_[fnName])}),_aw.promise=_promise,_aw.reject=_reject,_aw.then=_then,_aw.catch=_catch,_aw.finally=_finally,_aw.thenAll=thenAll,_aw.thenFlatten=thenFlatten,_aw.log=log,lodash.mixin(_aw),lodash}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$q",lodashAsPromised]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function link($compile,scope,element,attrs){function elementTextWillWrap(element){if(8===element[0].nodeType)return!1;var fullTextWidth=element[0].scrollWidth,elementWidth=element.outerWidth(),threshold=5;return fullTextWidth>elementWidth&&fullTextWidth-elementWidth>threshold}function getText(){return element.text()}function addTitleIfWrapping(text){elementTextWillWrap(element)&&(element.addClass("u-truncatedText").removeAttr("truncated-text").attr("title",text),$compile(element)(scope))}8===element[0].nodeType&&(element=element.next(),0===element.length)||(scope.$watch(getText,addTitleIfWrapping),element.resize(function(){addTitleIfWrapping(getText())}),scope.$watch("$destroy",function(){element.off("resize")}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$compile",function($compile){return{link:_.partial(link,$compile)}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function($stateProvider){this.$get=function(){return{addSocket:function(state){state.data&&null!==state.data.socket&&(state.resolve||(state.resolve={}),state.resolve.socket=["SocketService","$stateParams",function(SocketService,$stateParams){SocketService.addStateResolve(state,$stateParams.id)}])},buildDefinition:function(state){var params=void 0,defaults=void 0,definition=void 0,searchPrefix=state.searchPrefix?state.searchPrefix+"_search":null,route=state.route||state.url;return searchPrefix?(defaults={params:_defineProperty({},searchPrefix,{value:{page_size:"20",order_by:"name"},dynamic:!0,squash:""})},route=state.squashSearchUrl?route:route+"?{"+searchPrefix+":queryset}",params=void 0===state.params?defaults.params:_.merge(defaults.params,state.params)):params=state.params,definition={name:state.name,url:route,abstract:state.abstract,controller:state.controller,templateUrl:state.templateUrl,templateProvider:state.templateProvider,resolve:state.resolve,params:params,data:state.data,ncyBreadcrumb:state.ncyBreadcrumb,onEnter:state.onEnter,onExit:state.onExit,template:state.template,controllerAs:state.controllerAs,views:state.views,parent:state.parent,lazyLoad:state.lazyLoad},this.addSocket(definition),definition},addState:function(state){var definition=this.buildDefinition(state);$stateProvider.state(state.name,definition)}}}}}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("rbacUiControl",[]).service("rbacUiControlService",["$q","GetBasePath","Rest","Wait",function($q,GetBasePath,Rest,Wait){this.canAdd=function(apiPath){var canAddVal=$q.defer();return apiPath.indexOf("api/v1")>-1?Rest.setUrl(apiPath):Rest.setUrl(GetBasePath(apiPath)),Wait("start"),Rest.options().success(function(data){data.actions.POST?canAddVal.resolve(!0):canAddVal.reject(!1),Wait("stop")}),canAddVal.promise}}])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _socket=__webpack_require__(410),_socket2=_interopRequireDefault(_socket);exports.default=angular.module("socket",[]).service("SocketService",_socket2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _reconnectingwebsocket=__webpack_require__(411),_reconnectingwebsocket2=_interopRequireDefault(_reconnectingwebsocket);exports.default=["$rootScope","$location","$log","$state","$q","i18n",function($rootScope,$location,$log,$state,$q,i18n){var needsResubscribing=!1,socketPromise=$q.defer();return{init:function(){var protocol,url,self=this,host=window.location.host;return"http"===$location.protocol()&&(protocol="ws"),"https"===$location.protocol()&&(protocol="wss"),url=protocol+"://"+host+"/websocket/",!$rootScope.sessionTimer||$rootScope.sessionTimer&&!$rootScope.sessionTimer.isExpired()?($log.debug("Socket connecting to: "+url),self.socket=new _reconnectingwebsocket2.default(url,null,{timeoutInterval:3e3,maxReconnectAttempts:10}),self.socket.onopen=function(){$log.debug("Websocket connection opened."),socketPromise.resolve(),self.checkStatus(),needsResubscribing&&(self.subscribe(self.getLast()),needsResubscribing=!1)},self.socket.onerror=function(error){self.checkStatus(),$log.debug("Websocket Error Logged: "+error)},self.socket.onconnecting=function(){self.checkStatus(),$log.debug("Websocket reconnecting"),needsResubscribing=!0},self.socket.onclose=function(){self.checkStatus(),$log.debug("Websocket disconnected")},self.socket.onmessage=this.onMessage,self.socket):($rootScope.sessionTimer.expireSession("idle"),void $location.url("/login"))},onMessage:function(e){$log.debug("Received From Server: "+e.data);var data=JSON.parse(e.data),str="";return"jobs"!==data.group_name||"status"in data?("job_events"===data.group_name?str="ws-"+data.group_name+"-"+data.job:"ad_hoc_command_events"===data.group_name?str="ws-"+data.group_name+"-"+data.ad_hoc_command:"control"===data.group_name?($log.debug(data.reason),$rootScope.sessionTimer.expireSession("session_limit"),$state.go("signOut")):str="ws-"+data.group_name,void $rootScope.$broadcast(str,data)):($log.debug("Job summary_complete "+data.unified_job_id),void $rootScope.$broadcast("ws-jobs-summary",data))},disconnect:function(){this.socket&&this.socket.close()},subscribe:function(state){this.emit(JSON.stringify(state.data.socket)),this.setLast(state)},unsubscribe:function(state){this.requiresNewSubscribe(state)&&this.emit(JSON.stringify(state.data.socket)||JSON.stringify({groups:{}})),this.setLast(state)},setLast:function(state){this.last=state},getLast:function(){return this.last},requiresNewSubscribe:function(state){return void 0===this.getLast()||(!_.isEmpty(state.data.socket.groups)||!_.isEmpty(this.getLast().data.socket.groups))},checkStatus:function(){var self=this;if(self&&self.socket)return void(0===self.socket.readyState?($rootScope.socketStatus="connecting",$rootScope.socketTip=i18n._("Live events: attempting to connect to the Tower server.")):1===self.socket.readyState?($rootScope.socketStatus="ok",$rootScope.socketTip=i18n._("Live events: connected. Pages containing job status information will automatically update in real-time.")):2!==self.socket.readyState&&3!==self.socket.readyState||($rootScope.socketStatus="error",
$rootScope.socketTip=i18n._("Live events: error connecting to the Tower server.")))},emit:function(data,callback){var self=this;$log.debug("Sent to Websocket Server: "+data),socketPromise.promise.then(function(){self.socket.send(data,function(){var args=arguments;self.scope.$apply(function(){callback&&callback.apply(self.socket,args)})})})},addStateResolve:function(state,id){var self=this;socketPromise.promise.then(function(){return state.data&&state.data.socket?(state.data&&state.data.socket&&state.data.socket.groups.hasOwnProperty("job_events")&&(state.data.socket.groups.job_events=[id]),state.data&&state.data.socket&&state.data.socket.groups.hasOwnProperty("ad_hoc_command_events")&&(state.data.socket.groups.ad_hoc_command_events=[id]),state.data&&state.data.socket&&state.data.socket.groups.hasOwnProperty("workflow_events")&&(state.data.socket.groups.workflow_events=[id]),self.subscribe(state)):(_.merge(state.data,{socket:{groups:{}}}),self.unsubscribe(state)),!0})}}}]}).call(exports,__webpack_require__(2))},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _restServices=__webpack_require__(413),_restServices2=_interopRequireDefault(_restServices),_interceptors=__webpack_require__(414),_interceptors2=_interopRequireDefault(_interceptors),_getChoices=__webpack_require__(415),_getChoices2=_interopRequireDefault(_getChoices),_getLabels=__webpack_require__(416),_getLabels2=_interopRequireDefault(_getLabels);exports.default=angular.module("RestServices",[]).config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push("RestInterceptor")}]).factory("Rest",_restServices2.default).service("RestInterceptor",_interceptors2.default).factory("fieldChoices",_getChoices2.default).factory("fieldLabels",_getLabels2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$http","$rootScope","$cookieStore","$q","Authorization",function($http,$rootScope,$cookieStore,$q,Authorization){return{headers:{},setUrl:function(url){this.url=url.replace(/\/?(\?|#|$)/,"/$1")},checkExpired:function(){return!!$rootScope.sessionTimer&&$rootScope.sessionTimer.isExpired()},pReplace:function(){var key,rgx;for(key in this.params)rgx=new RegExp("\\:"+key,"gm"),rgx.test(this.url)&&(this.url=this.url.replace(rgx,this.params[key]),delete this.params[key])},createResponse:function(data,status){var promise=$q.reject({data:data,status:status});return promise.success=function(fn){return promise.then(function(response){fn(response.data,response.status)},null),promise},promise.error=function(fn){return promise.then(null,function(response){fn(response.data,response.status)}),promise},promise},setHeader:function(hdr){for(var h in hdr)this.headers[h]=hdr[h]},get:function(args){args=args?args:{},this.params=args.params?args.params:null,this.pReplace();var expired=this.checkExpired(),token=Authorization.getToken();return expired?this.createResponse({detail:"Token is expired"},401):token?(this.setHeader({Authorization:"Token "+token}),this.setHeader({"X-Auth-Token":"Token "+token}),$http({method:"GET",url:this.url,headers:this.headers,params:this.params})):this.createResponse({detail:"Invalid token"},401)},post:function(data){var token=Authorization.getToken(),expired=this.checkExpired();return expired?this.createResponse({detail:"Token is expired"},401):token?(this.setHeader({Authorization:"Token "+token}),this.setHeader({"X-Auth-Token":"Token "+token}),$http({method:"POST",url:this.url,headers:this.headers,data:data})):this.createResponse({detail:"Invalid token"},401)},put:function(data){var token=Authorization.getToken(),expired=this.checkExpired();return expired?this.createResponse({detail:"Token is expired"},401):token?(this.setHeader({Authorization:"Token "+token}),this.setHeader({"X-Auth-Token":"Token "+token}),$http({method:"PUT",url:this.url,headers:this.headers,data:data})):this.createResponse({detail:"Invalid token"},401)},patch:function(data){var token=Authorization.getToken(),expired=this.checkExpired();return expired?this.createResponse({detail:"Token is expired"},401):token?(this.setHeader({Authorization:"Token "+token}),this.setHeader({"X-Auth-Token":"Token "+token}),$http({method:"PATCH",url:this.url,headers:this.headers,data:data})):this.createResponse({detail:"Invalid token"},401)},destroy:function(data){var token=Authorization.getToken(),expired=this.checkExpired();return expired?this.createResponse({detail:"Token is expired"},401):token?(this.setHeader({Authorization:"Token "+token}),this.setHeader({"X-Auth-Token":"Token "+token}),$http({method:"DELETE",url:this.url,headers:this.headers,data:data})):this.createResponse({detail:"Invalid token"},401)},options:function(cache){var params,token=Authorization.getToken(),expired=this.checkExpired();return expired?this.createResponse({detail:"Token is expired"},401):token?(this.setHeader({Authorization:"Token "+token}),this.setHeader({"X-Auth-Token":"Token "+token}),params={method:"OPTIONS",url:this.url,headers:this.headers,data:"",cache:!!cache},$http(params)):this.createResponse({detail:"Invalid token"},401)}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","$q","$injector",function($rootScope,$q,$injector){return{response:function(config){return null!==config.headers("auth-token-timeout")&&$rootScope.loginConfig.promise.then(function(){$AnsibleConfig.session_timeout=Number(config.headers("auth-token-timeout"))}),config},responseError:function(rejection){if(rejection&&rejection.data&&rejection.data.detail&&"Maximum per-user sessions reached"===rejection.data.detail){$rootScope.sessionTimer.expireSession("session_limit");var state=$injector.get("$state");return state.go("signOut"),$q.reject(rejection)}return $q.reject(rejection)}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Rest","ProcessErrors",function(Rest,ProcessErrors){return function(params){var scope=params.scope,url=params.url,field=params.field;return Rest.setUrl(url),Rest.options().then(function(data){data=data.data;var choices=data.actions.GET[field].choices;return"permission_type"===field&&choices.push(["adhoc",data.actions.GET.run_ad_hoc_commands.help_text]),choices}).catch(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to get "+field+" labels. Options requrest returned status: "+status})})}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=[function(){return function(params){return params.choices.reduce(function(obj,kvp){return obj[kvp[0]]=kvp[1],obj},{})}}]},function(module,exports,__webpack_require__){(function(_,$){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$injector","$stateExtender","$log","i18n",function($injector,$stateExtender,$log,i18n){return{generateTree:function(params){var _this=this,form=void 0,list=void 0,formStates=void 0,listState=void 0,states=[];return new Promise(function(resolve){params.list&&(list=$injector.get(params.list),listState=_this.generateListNode(list,params),states.push(listState)),params.form&&(form=$injector.get(params.form),form="function"==typeof form?form():form,formStates=_.map(params.modes,function(mode){return _this.generateFormNode(mode,form,params)}),states=states.concat(_.flatten(formStates))),$log.debug("*** Generated State Tree",states),resolve({states:states})})},generateListNode:function(list,params){function generateTemplateBlock(){return params.templates&&params.templates.list?params.templates.list:function(ListDefinition,generateList){var html=generateList.build({list:ListDefinition,mode:"edit"});return html=generateList.wrapPanel(html),generateList.insertFormView()+html}}var _2,state=void 0,url=params.urls&&params.urls.list?params.urls.list:params.url?params.url:"/"+list.name;return state=$stateExtender.buildDefinition({searchPrefix:list.iterator,name:params.parent,url:url,data:params.data,ncyBreadcrumb:{label:list.title},resolve:{Dataset:[params.list,"QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams[list.iterator+"_search"])}],ListDefinition:function(){return list}},views:{"@":(_2={},_defineProperty(_2,params.templates&&params.templates.list?"templateUrl":"templateProvider",generateTemplateBlock()),_defineProperty(_2,"controller",params.controllers.list),_2)}}),params.resolve&&params.resolve.list&&(state.resolve=_.merge(state.resolve,params.resolve.list)),params.ncyBreadcrumb&&(state.ncyBreadcrumb=params.ncyBreadcrumb),list.search&&(state.params[list.iterator+"_search"].value=_.merge(state.params[list.iterator+"_search"].value,list.search)),state},generateFormNode:function(mode,form,params){var _ncyBreadcrumb,_ncyBreadcrumb2,formNode=void 0,states=[],url=void 0;switch(mode){case"add":url=params.urls&&params.urls.add?params.urls.add:params.url?params.url:"/add",formNode=$stateExtender.buildDefinition({name:params.name||params.parent+".add",url:url,ncyBreadcrumb:(_ncyBreadcrumb={},_defineProperty(_ncyBreadcrumb,params.parent?"parent":null,""+params.parent),_defineProperty(_ncyBreadcrumb,"label",i18n.sprintf(i18n._("CREATE %s"),i18n._(""+(form.breadcrumbName||form.name.toUpperCase())))),_ncyBreadcrumb),views:{form:{templateProvider:function(FormDefinition,GenerateForm){var form="function"==typeof FormDefinition?FormDefinition():FormDefinition;return GenerateForm.buildHTML(form,{mode:"add",related:!1})},controller:params.controllers.add}},resolve:{FormDefinition:[params.form,function(definition){return definition}]}}),params.resolve&&params.resolve.add&&(formNode.resolve=_.merge(formNode.resolve,params.resolve.add));break;case"edit":url=params.urls&&params.urls.edit?params.urls.edit:params.url?params.url:"/:"+form.name+"_id";var formNodeState={name:params.name||params.parent+".edit",url:url,ncyBreadcrumb:(_ncyBreadcrumb2={},_defineProperty(_ncyBreadcrumb2,params.parent?"parent":null,""+params.parent),_defineProperty(_ncyBreadcrumb2,"label","{{parentObject.name || name}}"),_ncyBreadcrumb2),views:{form:{templateProvider:function(FormDefinition,GenerateForm){var form="function"==typeof FormDefinition?FormDefinition():FormDefinition;return GenerateForm.buildHTML(form,{mode:"edit"})},controller:params.controllers.edit}},resolve:{FormDefinition:[params.form,function(definition){return definition}],resourceData:["FormDefinition","Rest","$stateParams","GetBasePath",function(FormDefinition,Rest,$stateParams,GetBasePath){var form=void 0,path=void 0;if(form="function"==typeof FormDefinition?FormDefinition():FormDefinition,void 0===GetBasePath(form.basePath)&&void 0===GetBasePath(form.stateTree))throw{name:"NotImplementedError",message:form.name+" form definition is missing basePath or stateTree property."};return path=(GetBasePath(form.basePath)||GetBasePath(form.stateTree)||form.basePath)+$stateParams[form.name+"_id"],Rest.setUrl(path),Rest.get()}]}};params.data&&params.data.activityStreamTarget&&(formNodeState.data={},formNodeState.data.activityStreamId=params.data.activityStreamId?params.data.activityStreamId:params.data.activityStreamTarget+"_id",formNodeState.data.activityStreamTarget=params.data.activityStreamTarget),formNode=$stateExtender.buildDefinition(formNodeState),params.resolve&&params.resolve.edit&&(formNode.resolve=_.merge(formNode.resolve,params.resolve.edit))}return states.push(formNode),states=states.concat(this.generateLookupNodes(form,formNode)).concat(this.generateFormListDefinitions(form,formNode,params))},generateFormListDefinitions:function(form,formStateDefinition,params){function buildRbacUserTeamDirective(){var states=[];return states.push($stateExtender.buildDefinition({name:formStateDefinition.name+".permissions.add",squashSearchUrl:!0,url:"/add-permissions",params:{project_search:{value:{order_by:"name",page_size:"5",role_level:"admin_role"},dynamic:!0},job_template_search:{value:{order_by:"name",page_size:"5",role_level:"admin_role"},dynamic:!0},workflow_template_search:{value:{order_by:"name",page_size:"5",role_level:"admin_role"},dynamic:!0},inventory_search:{value:{order_by:"name",page_size:"5",role_level:"admin_role"},dynamic:!0},credential_search:{value:{order_by:"name",page_size:"5",role_level:"admin_role"},dynamic:!0}},ncyBreadcrumb:{skip:!0},views:_defineProperty({},"modal@"+formStateDefinition.name,{template:'<add-rbac-user-team resolve="$resolve" title="'+i18n._("Add Permissions")+'"></add-rbac-user-team>'}),resolve:{jobTemplatesDataset:["QuerySet","$stateParams","GetBasePath",function(qs,$stateParams,GetBasePath){var path=GetBasePath("job_templates");return qs.search(path,$stateParams.job_template_search)}],workflowTemplatesDataset:["QuerySet","$stateParams","GetBasePath",function(qs,$stateParams,GetBasePath){var path=GetBasePath("workflow_job_templates");return qs.search(path,$stateParams.workflow_template_search)}],projectsDataset:["ProjectList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams[list.iterator+"_search"])}],inventoriesDataset:["InventoryList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams[list.iterator+"_search"])}],credentialsDataset:["CredentialList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams[list.iterator+"_search"])}]},onExit:function($state){$state.transition&&($("#add-permissions-modal").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"))}})),states}function buildRbacResourceDirective(){var states=[];return states.push($stateExtender.buildDefinition({name:formStateDefinition.name+".permissions.add",squashSearchUrl:!0,url:"/add-permissions",params:{user_search:{value:{order_by:"username",page_size:"5"},dynamic:!0},team_search:{value:{order_by:"name",page_size:"5"},dynamic:!0}},views:_defineProperty({},"modal@"+formStateDefinition.name,{template:'<add-rbac-resource users-dataset="$resolve.usersDataset" teams-dataset="$resolve.teamsDataset" selected="allSelected" resource-data="$resolve.resourceData" title="'+i18n._("Add Users")+" / "+i18n._("Teams")+'"></add-rbac-resource>'}),ncyBreadcrumb:{skip:!0},resolve:{usersDataset:["addPermissionsUsersList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams.user_search)}],teamsDataset:["addPermissionsTeamsList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams.team_search)}]},onExit:function($state){$state.transition&&($("#add-permissions-modal").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"))}})),states}function buildNotificationState(field){var state=void 0,list=field.include?$injector.get(field.include):field,breadcrumbLabel=(field.iterator.replace("_"," ")+"s").toUpperCase();return state=$stateExtender.buildDefinition({searchPrefix:""+list.iterator,name:formStateDefinition.name+"."+list.iterator+"s",url:"/"+list.iterator+"s",ncyBreadcrumb:{parent:""+formStateDefinition.name,label:""+breadcrumbLabel},params:_defineProperty({},list.iterator+"_search",{value:{order_by:field.order_by?field.order_by:"name"}}),views:{related:{templateProvider:function(FormDefinition,GenerateForm){var html=GenerateForm.buildCollection({mode:"edit",related:list.iterator+"s",form:"function"==typeof FormDefinition?FormDefinition():FormDefinition});return html},controller:["$scope","ListDefinition","Dataset","ToggleNotification","NotificationsListInit","GetBasePath","$stateParams","inventorySourceData",function($scope,list,Dataset,ToggleNotification,NotificationsListInit,GetBasePath,$stateParams,inventorySourceData){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,NotificationsListInit({scope:$scope,url:url,id:id}),$scope.$watch(list.iterator+"_dataset",function(){$scope.$emit("relatednotifications")})}var url,id,params=$stateParams;params.hasOwnProperty("project_id")&&(id=params.project_id,url=GetBasePath("projects")),params.hasOwnProperty("job_template_id")&&(id=params.job_template_id,url=GetBasePath("job_templates")),params.hasOwnProperty("workflow_job_template_id")&&(id=params.workflow_job_template_id,url=GetBasePath("workflow_job_templates")),params.hasOwnProperty("inventory_id")&&(id=inventorySourceData.id,url=GetBasePath("inventory_sources")),params.hasOwnProperty("organization_id")&&(id=params.organization_id,url=GetBasePath("organizations")),$scope.toggleNotification=function(event,notifier_id,column){var notifier=this.notification;try{$(event.target).tooltip("hide")}catch(e){}ToggleNotification({scope:$scope,url:url+id,notifier:notifier,column:column,callback:"NotificationRefresh"})},init()}]}},resolve:{ListDefinition:function(){return list},inventorySourceData:["$stateParams","GroupManageService",function($stateParams,GroupManageService){return $stateParams.hasOwnProperty("group_id")?GroupManageService.getInventorySource({group:$stateParams.group_id}).then(function(res){return res.data.results[0]}):null}],Dataset:["ListDefinition","QuerySet","$stateParams","GetBasePath","$interpolate","$rootScope",function(list,qs,$stateParams,GetBasePath,$interpolate,$rootScope){var path=void 0,interpolator=void 0;return GetBasePath(list.basePath)?path=GetBasePath(list.basePath):(interpolator=$interpolate(list.basePath),path=interpolator({$rootScope:$rootScope,$stateParams:$stateParams})),qs.search(path,$stateParams[list.iterator+"_search"])}]}})}function buildRbacUserDirective(){var states=[];return states.push($stateExtender.buildDefinition({name:formStateDefinition.name+".users.add",squashSearchUrl:!0,url:"/add-user",params:{user_search:{value:{order_by:"username",page_size:"5"},dynamic:!0}},views:_defineProperty({},"modal@"+formStateDefinition.name,{template:'<add-rbac-resource users-dataset="$resolve.usersDataset" selected="allSelected" resource-data="$resolve.resourceData" without-team-permissions="true" title="'+i18n._("Add Users")+'"></add-rbac-resource>'}),ncyBreadcrumb:{skip:!0},resolve:{usersDataset:["addPermissionsUsersList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams.user_search)}]},onExit:function($state){$state.transition&&($("#add-permissions-modal").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"))}})),states}function buildListNodes(field){var states=[];return"notification"===field.iterator?(states.push(buildNotificationState(field)),states=_.flatten(states)):(states.push(buildListDefinition(field)),"permission"===field.iterator&&field.actions&&field.actions.add?"user"===form.name||"team"===form.name?states.push(buildRbacUserTeamDirective()):states.push(buildRbacResourceDirective()):"user"===field.iterator&&field.actions&&field.actions.add&&("team"!==form.name&&"organization"!==form.name||states.push(buildRbacUserDirective()))),states=_.flatten(states)}function buildListDefinition(field){var state=void 0,list=field.include?$injector.get(field.include):field,breadcrumbLabel=(field.iterator.replace("_"," ")+"s").toUpperCase(),stateConfig={searchPrefix:""+list.iterator,name:formStateDefinition.name+"."+list.iterator+"s",url:"/"+list.iterator+"s",ncyBreadcrumb:{parent:""+formStateDefinition.name,label:""+breadcrumbLabel},params:_defineProperty({},list.iterator+"_search",{value:{order_by:field.order_by?field.order_by:"name"}}),views:{related:{templateProvider:function(FormDefinition,GenerateForm){var html=GenerateForm.buildCollection({mode:"edit",related:list.iterator+"s",form:"function"==typeof FormDefinition?FormDefinition():FormDefinition});return html}}},resolve:{ListDefinition:function(){return list},Dataset:["ListDefinition","QuerySet","$stateParams","GetBasePath","$interpolate","$rootScope",function(list,qs,$stateParams,GetBasePath,$interpolate,$rootScope){var path=void 0,interpolator=void 0;return GetBasePath(list.basePath)?path=GetBasePath(list.basePath):(interpolator=$interpolate(list.basePath),path=interpolator({$rootScope:$rootScope,$stateParams:$stateParams})),qs.search(path,$stateParams[list.iterator+"_search"])}]}};return params.controllers&&params.controllers.related&&params.controllers.related[field.name]?stateConfig.views.related.controller=params.controllers.related[field.name]:"permissions"===field.name?stateConfig.views.related.controller="PermissionsList":stateConfig.views.related.controller=["$scope","ListDefinition","Dataset",function($scope,list,Dataset){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.iterator+"s"]=$scope[list.iterator+"_dataset"].results}],state=$stateExtender.buildDefinition(stateConfig),field.search&&(state.params[field.iterator+"_search"].value=_.merge(state.params[field.iterator+"_search"].value,field.search)),state}return _(form.related).map(buildListNodes).flatten().value()},generateLookupNodes:function(form,formStateDefinition){function buildFieldDefinition(field){var params;params="organization"===field.sourceModel?{page_size:"5",role_level:"admin_role"}:"inventory_script"===field.sourceModel?{page_size:"5",role_level:"admin_role",organization:null}:{page_size:"5",role_level:"use_role"};var state=$stateExtender.buildDefinition({searchPrefix:field.sourceModel,name:formStateDefinition.name+"."+field.sourceModel,url:"/"+field.sourceModel+"?selected",data:{basePath:field.basePath||null,formChildState:!0},params:_defineProperty({},field.sourceModel+"_search",{value:params}),ncyBreadcrumb:{skip:!0},views:{modal:{templateProvider:function(ListDefinition,generateList){var list_html=generateList.build({mode:"lookup",list:ListDefinition,input_type:"radio"});return"<lookup-modal>"+list_html+"</lookup-modal>"}}},resolve:{ListDefinition:[field.list,function(list){return list.iterator=field.sourceModel,list}],OrganizationId:["ListDefinition","InventoryManageService","$stateParams","$rootScope",function(list,InventoryManageService,$stateParams,$rootScope){return"inventory_script"===list.iterator?$rootScope.$$childTail&&$rootScope.$$childTail.$resolve&&$rootScope.$$childTail.$resolve.hasOwnProperty("inventoryData")?$rootScope.$$childTail.$resolve.inventoryData.summary_fields.organization.id:InventoryManageService.getInventory($stateParams.inventory_id).then(function(res){return res.data.summary_fields.organization.id}):void 0}],Dataset:["ListDefinition","QuerySet","$stateParams","GetBasePath","$interpolate","$rootScope","$state","OrganizationId",function(list,qs,$stateParams,GetBasePath,$interpolate,$rootScope,$state,OrganizationId){var path=void 0,interpolator=void 0;return $state.transition._targetState._definition.data&&GetBasePath($state.transition._targetState._definition.data.basePath)?path=GetBasePath($state.transition._targetState._definition.data.basePath):$state.transition._targetState._definition.data&&$state.transition._targetState._definition.data.basePath?(interpolator=$interpolate($state.transition._targetState._definition.data.basePath),path=interpolator({$rootScope:$rootScope,$stateParams:$stateParams})):GetBasePath(list.basePath)?path=GetBasePath(list.basePath):(interpolator=$interpolate(list.basePath),path=interpolator({$rootScope:$rootScope,$stateParams:$stateParams})),"organization"===list.iterator&&($stateParams[list.iterator+"_search"].role_level="admin_role"),"inventory_script"===list.iterator&&($stateParams[list.iterator+"_search"].role_level="admin_role",$stateParams[list.iterator+"_search"].organization=OrganizationId),qs.search(path,$stateParams[list.iterator+"_search"])}]},onExit:function($state){$state.transition&&($("#form-modal").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"))}});return field.search&&(state.params[field.sourceModel+"_search"].value=_.merge(state.params[field.sourceModel+"_search"].value,field.search)),state}return _(form.fields).filter({type:"lookup"}).map(buildFieldDefinition).value()}}}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ApiLoader",["Utilities"]).factory("LoadBasePaths",["$http","$rootScope","Store","ProcessErrors",function($http,$rootScope,Store,ProcessErrors){return function(){$http({method:"GET",url:"/api/",headers:{Authorization:""}}).success(function(data){var base=data.current_version;$http({method:"GET",url:base,headers:{Authorization:""}}).success(function(data){data.base=base,$rootScope.defaultUrls=data,Store("api",data)}).error(function(data,status){$rootScope.defaultUrls={status:"error"},ProcessErrors(null,data,status,null,{hdr:"Error",msg:"Failed to read "+base+". GET status: "+status})})}).error(function(data,status){$rootScope.defaultUrls={status:"error"},ProcessErrors(null,data,status,null,{hdr:"Error",msg:"Failed to read /api. GET status: "+status})})}}]).factory("GetBasePath",["$rootScope","Store","LoadBasePaths","Empty",function($rootScope,Store,LoadBasePaths,Empty){return function(set){return Empty($rootScope.defaultUrls)?Store("api")?($rootScope.defaultUrls=Store("api"),$rootScope.defaultUrls[set]):"":$rootScope.defaultUrls[set]}}])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _orgAdminLookup=__webpack_require__(420),_orgAdminLookup2=_interopRequireDefault(_orgAdminLookup);exports.default=angular.module("orgAdminLookup",[]).service("OrgAdminLookup",_orgAdminLookup2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Rest","Authorization","GetBasePath","$rootScope","$q",function(Rest,Authorization,GetBasePath,$rootScope,$q){return{checkForAdminAccess:function(params){var deferred=$q.defer();return Authorization.getUserInfo("is_superuser")!==!0?(Rest.setUrl(GetBasePath("users")+$rootScope.current_user.id+"/admin_of_organizations"),Rest.get({params:{id:params.organization}}).success(function(data){data.count&&data.count>0?deferred.resolve(!0):deferred.resolve(!1)})):deferred.resolve(!0),deferred.promise}}}]},,,,function(module,exports,__webpack_require__){(function($,_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=angular.module("Utilities",["RestServices","Utilities","sanitizeFilter"]).factory("ClearScope",["$rootScope",function($rootScope){return function(){$rootScope.flashMessage=null,$("#form-modal2 .modal-body").empty(),$(".tooltip").each(function(){$(this).remove()}),$(".popover").each(function(){$(this).remove()}),$(".ui-dialog-content").each(function(){$(this).dialog("close")});try{$("#help-modal").dialog("close")}catch(e){}}}]).factory("Empty",[function(){return function(val){return null===val||void 0===val||""===val}}]).factory("ToggleClass",function(){return function(selector,cssClass){$(selector)&&$(selector).hasClass(cssClass)?$(selector).removeClass(cssClass):$(selector)&&$(selector).addClass(cssClass)}}).factory("Alert",["$rootScope","$filter",function($rootScope,$filter){return function(hdr,msg,cls,action,secondAlert,disableButtons,backdrop,customStyle){var alertClass,local_backdrop,scope=$rootScope.$new();customStyle!==!0&&(msg=$filter("sanitize")(msg)),secondAlert?($("#alertHeader2").html(hdr),$("#alert2-modal-msg").html(msg),alertClass=cls?cls:"alert-danger",local_backdrop=void 0===backdrop?"static":backdrop,$("#alert2-modal-msg").attr({class:"alert "+alertClass}),$("#alert-modal2").modal({show:!0,keyboard:!0,backdrop:local_backdrop}),scope.disableButtons2=!!disableButtons,$("#alert-modal2").on("hidden.bs.modal",function(){action&&action()}),$("#alert-modal2").on("shown.bs.modal",function(){$("#alert2_ok_btn").focus()}),$(document).bind("keydown",function(e){27!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),$("#alert-modal2").modal("hide"))})):($("#alertHeader").html(hdr),$("#alert-modal-msg").html(msg),alertClass=cls?cls:"alert-danger",local_backdrop=void 0===backdrop?"static":backdrop,$("#alert-modal-msg").attr({class:"alert "+alertClass}),$("#alert-modal").modal({show:!0,keyboard:!0,backdrop:local_backdrop}),$("#alert-modal").on("hidden.bs.modal",function(){action&&action()}),$("#alert-modal").on("shown.bs.modal",function(){$("#alert_ok_btn").focus()}),$(document).bind("keydown",function(e){27!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),$("#alert-modal").modal("hide"))}),scope.disableButtons=!!disableButtons)}}]).factory("ProcessErrors",["$rootScope","$cookieStore","$log","$location","Alert","Wait",function($rootScope,$cookieStore,$log,$location,Alert,Wait){return function(scope,data,status,form,defaultMsg){var field,fieldErrors,msg,keys;if(Wait("stop"),$log.debug("Debug status: "+status),$log.debug("Debug data: "),$log.debug(data),defaultMsg.msg&&$log.debug("Debug: "+defaultMsg.msg),403===status)msg="The API responded with a 403 Access Denied error. ",msg+=data&&data.detail?"Detail: "+data.detail:"Please contact your system administrator.",Alert(defaultMsg.hdr,msg);else if(409===status)Alert("Conflict",data.conflict||"Resource currently in use.");else if(410===status)Alert("Deleted Object","The requested object was previously deleted and can no longer be accessed.");else if("Token is expired"===status||401===status&&data.detail&&"Token is expired"===data.detail||401===status&&data&&data.detail&&"Invalid token"===data.detail)$rootScope.sessionTimer&&$rootScope.sessionTimer.expireSession("idle"),$location.url("/login");else if(data&&data.non_field_errors)Alert("Error!",data.non_field_errors);else if(data&&data.detail)Alert(defaultMsg.hdr,defaultMsg.msg+" "+data.detail);else if(data&&data.__all__)"object"===_typeof(data.__all__)&&Array.isArray(data.__all__)?Alert("Error!",data.__all__[0]):Alert("Error!",data.__all__);else if(form){fieldErrors=!1;for(field in form.fields)data[field]&&form.fields[field].tab&&$("#"+form.name+'_tabs a[href="#'+form.fields[field].tab+'"]').tab("show"),form.fields[field].realName&&data[form.fields[field].realName]&&(scope[field+"_api_error"]=data[form.fields[field]][0],$('[name="'+form.fields[field].realName+'"]').addClass("ng-invalid"),$("html, body").animate({scrollTop:$('[name="'+form.fields[field].realName+'"]').offset().top},0),fieldErrors=!0),form.fields[field].sourceModel?data[field]&&(scope[form.fields[field].sourceModel+"_"+form.fields[field].sourceField+"_api_error"]=data[field][0],$('[name="'+form.fields[field].sourceModel+"_"+form.fields[field].sourceField+'"]').addClass("ng-invalid"),$('[name="'+form.fields[field].sourceModel+"_"+form.fields[field].sourceField+'"]').ScrollTo({onlyIfOutside:!0,offsetTop:100}),fieldErrors=!0):data[field]&&(scope[field+"_api_error"]=data[field][0],$('[name="'+field+'"]').addClass("ng-invalid"),$("html, body").animate({scrollTop:$('[name="'+field+'"]').offset().top
},0),fieldErrors=!0);!fieldErrors&&defaultMsg&&Alert(defaultMsg.hdr,defaultMsg.msg)}else"object"===("undefined"==typeof data?"undefined":_typeof(data))&&null!==data&&Object.keys(data).length>0?(keys=Object.keys(data),msg=Array.isArray(data[keys[0]])?data[keys[0]][0]:data[keys[0]],Alert(defaultMsg.hdr,msg)):Alert(defaultMsg.hdr,defaultMsg.msg)}}]).factory("HelpDialog",["$rootScope","$compile","$location","Store",function($rootScope,$compile,$location,Store){return function(params){function setButtonMargin(){var width=$('.ui-dialog[aria-describedby="help-modal-dialog"] .ui-dialog-buttonpane').innerWidth()/2-$("#help-next-button").outerWidth()-93;$("#help-next-button").css({"margin-right":width+"px"})}function showHelp(step){function buildHtml(step){var html="";return html+="<h4>"+step.intro+"</h4>\n",step.img&&(html+='<div class="img-container">\n',html+='<img src="'+$basePath+"assets/help/"+step.img.src+'" ',html+=step.img.maxWidth?'style="max-width:'+step.img.maxWidth+'px" ':"",html+=">",html+="</div>\n"),step.icon&&(html+='<div class="icon-container"',html+=step.icon.containerHeight?'style="height:'+step.icon.containerHeight+'px;">\n':"",html+='<i class="'+step.icon.class+'" ',html+=step.icon.style?'style="'+step.icon.style+'" ':"",html+="></i>\n",html+="</div>\n"),html+='<div class="help-box">'+step.box+"</div>",html+=autoShow&&step.autoOffNotice?'<div class="help-auto-off"><label><input type="checkbox" name="auto-off-checkbox" id="auto-off-checkbox"> Do not show this message in the future</label></div>\n':""}var e,btns,ww,width,height,isOpen=!1;current_step=step,width=defn.story.width?defn.story.width:510,height=defn.story.height?defn.story.height:600,ww=$(document).width(),width=width>ww?ww:width;try{isOpen=$("#help-modal-dialog").dialog("isOpen")}catch(err){}e=angular.element(document.getElementById("help-modal-dialog")),e.empty().html(buildHtml(defn.story.steps[current_step])),setTimeout(function(){scope.$apply(function(){$compile(e)(scope)})}),isOpen||(btns=[],defn.story.steps.length>1&&(btns.push({text:"Prev",click:function(){current_step-1===0&&$("#help-prev-button").prop("disabled",!0),current_step-1<defn.story.steps.length-1&&$("#help-next-button").prop("disabled",!1),showHelp(current_step-1)},disabled:!0}),btns.push({text:"Next",click:function(){current_step+1>0&&$("#help-prev-button").prop("disabled",!1),current_step+1>=defn.story.steps.length-1&&$("#help-next-button").prop("disabled",!0),showHelp(current_step+1)}})),btns.push({text:"Close",click:function(){$("#help-modal-dialog").dialog("close")}}),$(".overlay").css({width:$(document).width(),height:$(document).height()}).fadeIn(),$("#help-modal-dialog").dialog({position:{my:"center top",at:"center top+150",of:"body"},title:defn.story.hdr,width:width,height:height,buttons:btns,closeOnEscape:!0,show:500,hide:500,resizable:!1,close:function(){$(".overlay").hide(),$("#help-modal-dialog").empty()}}),$(".ui-dialog-buttonset button").each(function(){var c,h,i,l;l=$(this).text(),"Close"===l?(h="fa-times",c="btn btn-default",i="help-close-button",$(this).attr({class:c,id:i}).html('<i class="fa '+h+'"></i> Close')):"Prev"===l?(h="fa-chevron-left",c="btn btn-primary",i="help-prev-button",$(this).attr({class:c,id:i}).html('<i class="fa '+h+'"></i> Prev')):(h="fa-chevron-right",c="btn btn-primary",i="help-next-button",$(this).attr({class:c,id:i}).html('Next <i class="fa '+h+'"></i>').css({"margin-right":"20px"}))}),$('.ui-dialog[aria-describedby="help-modal-dialog"]').find(".ui-dialog-titlebar button").empty().attr({class:"close"}).text("x"),$("#auto-off-checkbox").click(function(){$('input[name="auto-off-checkbox"]:checked').length?Store("inventoryAutoHelp","off"):Store("inventoryAutoHelp","on")}),setButtonMargin())}var defn=params.defn,current_step=params.step,autoShow=params.autoShow||!1,scope=params.scope?params.scope:$rootScope.$new();showHelp(0)}}]).factory("ReturnToCaller",["$location","Empty",function($location,Empty){return function(idx){var i,paths=$location.path().replace(/^\//,"").split("/"),newpath="";for(idx=Empty(idx)?paths.length-1:idx+1,i=0;i<idx;i++)newpath+="/"+paths[i];$location.path(newpath)}}]).factory("FormatDate",["$filter",function($filter){return function(dt){return $filter("longDate")(dt)}}]).factory("Wait",["$rootScope",function($rootScope){return function(directive){var docw,doch,spinnyw,spinnyh;"start"!==directive||$rootScope.waiting?"stop"===directive&&$rootScope.waiting&&$(".spinny, .overlay").fadeOut(400,function(){$rootScope.waiting=!1}):($rootScope.waiting=!0,docw=$(window).width(),doch=$(window).height(),spinnyw=$(".spinny").width(),spinnyh=$(".spinny").height(),$(".overlay").css({width:$(document).width(),height:$(document).height()}).fadeIn(),$(".spinny").css({bottom:15,right:15}).fadeIn(400))}}]).factory("HideElement",[function(){return function(selector,action){var target=$(selector),width=target.css("width"),height=target.css("height"),position=target.position(),parent=target.parent(),borderRadius=target.css("border-radius"),backgroundColor=target.css("background-color"),margin=target.css("margin"),padding=target.css("padding");parent.append('<div id="curtain-div" style="position: absolute;top: '+position.top+"px; left: "+position.left+"px; z-index: 1000; width: "+width+"; height: "+height+"; background-color: "+backgroundColor+"; margin: "+margin+"; padding: "+padding+"; border-radius: "+borderRadius+'; opacity: .75; display: none; "></div>'),$("#curtain-div").show(0,action)}}]).factory("ShowElement",[function(){return function(){$("#curtain-div").fadeOut(500,function(){$(this).remove()})}}]).factory("CreateSelect2",["$filter",function($filter){return function(params){var element=params.element,options=params.opts,multiple=void 0===params.multiple||params.multiple,placeholder=params.placeholder,customDropdownAdapter=void 0===params.customDropdownAdapter||params.customDropdownAdapter,addNew=params.addNew;$.fn.select2.amd.require(["select2/utils","select2/dropdown","select2/dropdown/search","select2/dropdown/attachContainer","select2/dropdown/closeOnSelect","select2/dropdown/minimumResultsForSearch","select2/data/tokenizer"],function(Utils,Dropdown,Search,AttachContainer,CloseOnSelect,MinimumResultsForSearch,Tokenizer){var CustomAdapter=_.reduce([Search,AttachContainer,CloseOnSelect,MinimumResultsForSearch,Tokenizer],function(Adapter,Decorator){return Utils.Decorate(Adapter,Decorator)},Dropdown),config={placeholder:placeholder,multiple:multiple,containerCssClass:"Form-dropDown",width:"100%",minimumResultsForSearch:1/0,escapeMarkup:function(m){return $filter("sanitize")(m)}};if(customDropdownAdapter&&(config.dropdownAdapter=CustomAdapter),addNew&&(config.tags=!0,config.tokenSeparators=[]),$(element).select2(config),multiple&&$(element).on("select2:opening",function(e){var unselecting=$(e.target).data("select2-unselecting");unselecting===!0&&($(e.target).removeData("select2-unselecting"),e.preventDefault())}).on("select2:unselecting",function(e){$(e.target).data("select2-unselecting",!0)}),options){for(var d=0;d<$(element+" option").length;d++)for(var item=$(element+" option")[d],f=0;f<options.length;f++)item.value===options[f].id&&item.setAttribute("selected","selected");$(element).trigger("change")}})}}]).factory("GetChoices",["Rest","ProcessErrors",function(Rest,ProcessErrors){return function(params){var scope=params.scope,url=params.url,field=params.field,variable=params.variable,callback=params.callback,choice_name=params.choice_name;scope[variable]?scope[variable].length=0:scope[variable]=[],Rest.setUrl(url),Rest.options().success(function(data){var choices,defaultChoice;if(choices=choice_name?data.actions.GET[field][choice_name]:data.actions.GET[field].choices,data&&data.actions&&data.actions.POST&&data.actions.POST[field]&&(defaultChoice=data.actions.POST[field].default),choices&&choices.forEach(function(choice){scope[variable].push({label:choice[1],value:choice[0],name:choice[1]})}),void 0!==defaultChoice){var val;for(val in scope[variable])scope[variable][val].value===defaultChoice&&(scope[variable][val].isDefault=!0)}callback&&scope.$emit(callback)}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to get "+url+". GET status: "+status})})}}]).factory("Find",[function(){return function(params){var i,list=params.list,key=params.key,val=params.val,found=!1;if("object"===("undefined"==typeof list?"undefined":_typeof(list))&&Array.isArray(list)){for(i=0;i<params.list.length;i++)if(list[i][key]===val){found=!0;break}return found?list[i]:null}return null}}]).factory("DebugForm",[function(){return function(params){var fld,form=params.form,scope=params.scope;for(fld in form.fields)scope[form.name+"_form"][fld]&&console.log(fld+" valid: "+scope[form.name+"_form"][fld].$valid),form.fields[fld].sourceModel&&scope[form.name+"_form"][form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]&&console.log(form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField+" valid: "+scope[form.name+"_form"][form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField].$valid);console.log("form pristine: "+scope[form.name+"_form"].$pristine),console.log("form valid: "+scope[form.name+"_form"].$valid)}}]).factory("Store",["Empty",function(Empty){return function(key,value){if(Empty(value)){if(!Empty(key)){var val=localStorage[key];return Empty(val)?null:JSON.parse(val)}}else localStorage[key]=JSON.stringify(value)}}]).factory("ApplyEllipsis",[function(){return function(selector){var tmp=$("#string-test");tmp.length||($("body").append('<div style="display:none;" id="string-test"></div>'),tmp=$("#string-test")),$(selector).each(function(){var txt,w,pw,cw,df,setTitle=!0;$(this).attr("title")?(txt=$(this).attr("title"),setTitle=!1):txt=$(this).text(),tmp.text(txt),w=tmp.width(),pw=$(this).parent().width(),w>pw&&(setTitle&&$(this).attr("title",txt),cw=w/txt.length,df=w-pw,txt=txt.substr(0,txt.length-(Math.ceil(df/cw)+3)),$(this).text(txt+"...")),pw>w&&!setTitle&&(txt=$(this).attr("title"),$(this).text(txt))})}}]).factory("ParamPass",function(){function set(data){savedData=data}function get(){var returnData=savedData;return savedData=void 0,returnData}var savedData;return{set:set,get:get}})}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _datePicker=__webpack_require__(426),_datePicker2=_interopRequireDefault(_datePicker);exports.default=angular.module("systemTracking.datePicker",[]).directive("datePicker",_datePicker2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["moment","templateUrl",function(moment,templateUrl){return{restrict:"E",scope:{date:"=",minDate:"=",autoUpdate:"=?",inputClass:"&"},templateUrl:templateUrl("system-tracking/date-picker/date-picker"),link:function(scope,element,attrs){function momentLocaleToDPLocale(localeKey){var parts=localeKey.split("-");if(2===parts.length){var lastPart=parts[1].toUpperCase();return[parts[0],lastPart].join("-")}return localeKey}function momentFormatToDPFormat(momentFormat){function lowerCase(str){return str.toLowerCase()}var resultFormat=momentFormat;return resultFormat=resultFormat.replace(/D{1,2}/,lowerCase),resultFormat=/MMM/.test(resultFormat)?resultFormat.replace("MMM","M"):resultFormat.replace(/M{1,2}/,"m"),resultFormat=resultFormat.replace(/Y{2,4}/,lowerCase)}var mustUpdateValue=!0;scope.autoUpdate=scope.autoUpdate!==!1,scope.$watch("minDate",function(newValue){newValue&&(scope.autoUpdate&&scope.date.isBefore(newValue)&&(scope.date=newValue),$(".date",element).datepicker("setStartDate",newValue.toDate()))}),scope.$watch("date",function(newValue){newValue&&(mustUpdateValue=!1,scope.dateValue=newValue.format("L"))},!0),scope.$watch("dateValue",function(newValue){var newDate=moment(newValue,["L"],moment.locale());newValue&&!newDate.isValid()?scope.error="That is not a valid date.":newValue&&(scope.date=newDate),mustUpdateValue=!0});var localeData=moment.localeData(),dateFormat=momentFormatToDPFormat(localeData._longDateFormat.L),localeKey=momentLocaleToDPLocale(moment.locale());element.find(".DatePicker").addClass("input-prepend date"),element.find(".DatePicker").find(".DatePicker-icon").addClass("add-on"),$(".date").datepicker({autoclose:!0,language:localeKey,format:dateFormat})}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _factScanData=__webpack_require__(428),_factScanData2=_interopRequireDefault(_factScanData),_getDataForComparison=__webpack_require__(429),_getDataForComparison2=_interopRequireDefault(_getDataForComparison),_getModuleOptions=__webpack_require__(431),_getModuleOptions2=_interopRequireDefault(_getModuleOptions),_resolveEmptyVersions=__webpack_require__(432),_resolveEmptyVersions2=_interopRequireDefault(_resolveEmptyVersions),_main=__webpack_require__(389),_main2=_interopRequireDefault(_main);exports.default=angular.module("systemTracking.dataServices",[_main2.default.name]).factory("getModuleOptions",_getModuleOptions2.default).factory("getDataForComparison",_getDataForComparison2.default).factory("resolveEmptyVersions",_resolveEmptyVersions2.default).service("factScanDataService",_factScanData2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Rest","GetBasePath","ProcessErrors","lodashAsPromised",function(Rest,GetBasePath,ProcessErrors,_){function buildUrl(host_id,module,startDate,endDate){var url=GetBasePath("hosts")+host_id+"/fact_versions/",params=[["module",module],["from",startDate.format()],["to",endDate.format()]];return params=params.filter(function(p){return!_.isEmpty(p[1])}),params=params.map(function(p){return p.join("=")}).join("&"),url=_.compact([url,params]).join("?")}return{getFacts:function(version){var promise;return Rest.setUrl(version.related.fact_view),promise=Rest.get(),promise.then(function(response){return response.data}).catch(function(response){ProcessErrors(null,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get license info. GET returned status: "+response.status})})},getVersion:function(versionParams){var promise,hostId=versionParams.hostId,startDate=versionParams.dateRange.from,endDate=versionParams.dateRange.to,module=versionParams.moduleName,url=buildUrl(hostId,module,startDate,endDate);return Rest.setUrl(url),promise=Rest.get(),promise.then(function(response){return versionParams.versions=response.data.results,versionParams}).catch(function(response){ProcessErrors(null,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get license info. GET returned status: "+response.status})})}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dedupeVersions=__webpack_require__(430),_dedupeVersions2=_interopRequireDefault(_dedupeVersions);exports.default=["factScanDataService","getModuleOptions","resolveEmptyVersions","lodashAsPromised",function(factScanDataService,getModuleOptions,resolveEmptyVersions,_){return function(hostIds,moduleName,leftDate,rightDate){var singleHostMode=!1;1===hostIds.length&&(singleHostMode=!0,hostIds=hostIds.concat(hostIds[0]));var hostVersionParams=[{hostId:hostIds[0],dateRange:leftDate,moduleName:moduleName},{hostId:hostIds[1],dateRange:rightDate,moduleName:moduleName}];return _(factScanDataService.getVersion(hostVersionParams[1])).then(function(result){return resolveEmptyVersions(result)}).thenAll(function(firstResult){return factScanDataService.getVersion(hostVersionParams[0]).then(function(secondResult){return _.isEmpty(secondResult.versions)&&(secondResult=resolveEmptyVersions(secondResult)),[firstResult,secondResult]})}).thenAll(function(results){var finalSet;return finalSet=singleHostMode?(0,_dedupeVersions2.default)(results.reverse()):_.pluck(results,"versions[0]").reverse()}).thenMap(function(versionData){return versionData?factScanDataService.getFacts(versionData):{fact:[]}}).thenAll(function(hostFacts){return hostFacts})}}]},function(module,exports,__webpack_require__){(function(_){"use strict";function dedupeVersions(nonEmptyResults){if(_.any(nonEmptyResults,"versions.length",0))return _.pluck(nonEmptyResults,"versions[0]");nonEmptyResults[0].versions[0].timestamp>nonEmptyResults[1].versions[0].timestamp&&(nonEmptyResults=nonEmptyResults.reverse());var firstTimestamp=nonEmptyResults[0].versions[0].timestamp,hostIdsWithDupes=_(nonEmptyResults).pluck("versions[0]").filter("timestamp",firstTimestamp).map(function(version,index){return nonEmptyResults[index].hostId}).value();if(1===hostIdsWithDupes.length)return _.pluck(nonEmptyResults,"versions[0]");var bestScanResults=_.max(nonEmptyResults,"versions.length");return nonEmptyResults.map(function(scan,index){var hasDupe=_.include(hostIdsWithDupes,scan.hostId);return hasDupe&&1===index?bestScanResults.versions[0]:bestScanResults.versions[1]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=dedupeVersions}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function makeModule(option,index){var name=option[0],displayName=option[1],config=moduleConfig.hasOwnProperty(name)?moduleConfig[name]:moduleConfig.custom,modulesCount=_.keys(moduleConfig).length-1;return config.name=name,config.displayName=displayName,_.isUndefined(config.sortKey)&&(config.sortKey=index-1+modulesCount),config}function factory(hostId,rest,getBasePath,_){var url=[getBasePath("hosts")+hostId,"fact_versions"].join("/");return rest.setUrl(url),_(rest.options()).then(function(response){var choices=response.data.actions.GET.module.choices;return _.sortBy(choices,"1")}).thenMap(makeModule)}Object.defineProperty(exports,"__esModule",{value:!0});var moduleConfig={packages:{compareKey:["release","version"],nameKey:"name",sortKey:1,factTemplate:"{{epoch|append:':'}}{{version}}-{{release}}{{arch|prepend:'.'}}",supportsValueArray:!0},services:{compareKey:["state","source"],nameKey:"name",factTemplate:"{{state}} ({{source}})",sortKey:2},files:{compareKey:["size","mode","md5","mtime","gid","uid"],keyNameMap:{uid:"ownership"},factTemplate:{uid:"user id: {{uid}}, group id: {{gid}}",mode:!0,md5:!0,size:!0,mtime:"{{mtime|formatEpoch}}"},nameKey:"path",sortKey:3},ansible:{sortKey:4},custom:{}};exports.default=["Rest","GetBasePath","lodashAsPromised",function(rest,getBasePath,lodash){return _.partialRight(factory,rest,getBasePath,lodash)}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function resolveEmptyVersions(service,_,candidate,previousResult){if(candidate=_.merge({},candidate),_.isEmpty(candidate.versions)||1===candidate.versions.length){var originalStartDate=candidate.dateRange.to.clone();return _.isUndefined(previousResult)?candidate.dateRange.from=originalStartDate.clone().subtract(1,"year"):candidate.dateRange.from=(0,_moment2.default)(previousResult.versions[0].timestamp),candidate.dateRange.to=originalStartDate,service.getVersion(candidate)}return _.promise(candidate)}Object.defineProperty(exports,"__esModule",{value:!0});var _moment=__webpack_require__(178),_moment2=_interopRequireDefault(_moment);exports.default=["factScanDataService","lodashAsPromised",function(factScanDataService,lodash){return _.partial(resolveEmptyVersions,factScanDataService,lodash)}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _factDataTable=__webpack_require__(434),_factDataTable2=_interopRequireDefault(_factDataTable);exports.default=angular.module("systemTracking.factDataTable",[]).directive("factDataTable",_factDataTable2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"E",templateUrl:templateUrl("system-tracking/fact-data-table/fact-data-table"),scope:{leftHostname:"=",rightHostname:"=",leftScanDate:"=",rightScanDate:"=",leftDataNoScans:"=",rightDataNoScans:"=",isNestedDisplay:"=",singleResultView:"=",factData:"="}}}]},function(module,exports,__webpack_require__){(function(_,$){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(436),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(438),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(440),_main6=_interopRequireDefault(_main5),_main7=__webpack_require__(442),_main8=_interopRequireDefault(_main7),_inventoryManage=__webpack_require__(458),_inventoryManage2=_interopRequireDefault(_inventoryManage),_copyMove=__webpack_require__(463),_adhoc=__webpack_require__(465),_adhoc2=_interopRequireDefault(_adhoc),_templateUrl=__webpack_require__(116),_i18n=__webpack_require__(172);exports.default=angular.module("inventory",[_main2.default.name,_main4.default.name,_main6.default.name,_main8.default.name]).config(["$stateProvider","$stateExtenderProvider","stateDefinitionsProvider",function($stateProvider,$stateExtenderProvider,stateDefinitionsProvider){function generateStateTree(){return inventories=stateDefinitions.generateTree({parent:"inventories",modes:["add","edit"],list:"InventoryList",form:"InventoryForm",controllers:{list:"InventoryListController",add:"InventoryAddController",edit:"InventoryEditController"},data:{activityStream:!0,activityStreamTarget:"inventory"},ncyBreadcrumb:{label:(0,_i18n.N_)("INVENTORIES")}}),listSchedules={name:"inventoryManage.editGroup.schedules",url:"/schedules",searchPrefix:"schedule",ncyBreadcrumb:{parent:"inventoryManage({group_id: parentObject.id})",label:(0,_i18n.N_)("SCHEDULES")},resolve:{Dataset:["ScheduleList","QuerySet","$stateParams","GetBasePath","groupData",function(list,qs,$stateParams,GetBasePath,groupData){var path=groupData.related.inventory_source+"schedules";return qs.search(path,$stateParams[list.iterator+"_search"])}],ParentObject:["groupData",function(groupData){return groupData}],UnifiedJobsOptions:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){Rest.setUrl(GetBasePath("unified_jobs"));var val=$q.defer();return Rest.options().then(function(data){val.resolve(data.data)},function(data){val.reject(data)}),val.promise}],ScheduleList:["SchedulesList","groupData",function(SchedulesList,groupData){var list=_.cloneDeep(SchedulesList);return list.basePath=groupData.related.inventory_source+"schedules",list}]},views:{form:{templateProvider:function(){return""}},"@":{templateProvider:function(ScheduleList,generateList,ParentObject){ScheduleList.listTitle=ParentObject.name+"<div class='List-titleLockup'></div>"+(0,_i18n.N_)("SCHEDULES");var html=generateList.build({list:ScheduleList,mode:"edit"});return html=generateList.wrapPanel(html),"<div class='InventoryManage-container'>"+generateList.insertFormView()+html+"</div>"},controller:"schedulerListController"}}},addSchedule={name:"inventoryManage.editGroup.schedules.add",url:"/add",ncyBreadcrumb:{label:(0,_i18n.N_)("CREATE SCHEDULE")},views:{form:{controller:"schedulerAddController",templateUrl:(0,_templateUrl.templateUrl)("scheduler/schedulerForm")}}},editSchedule={name:"inventoryManage.editGroup.schedules.edit",url:"/:schedule_id",ncyBreadcrumb:{label:"{{schedule_obj.name}}"},views:{form:{templateUrl:(0,_templateUrl.templateUrl)("scheduler/schedulerForm"),controller:"schedulerEditController"}}},addGroup=stateDefinitions.generateTree({url:"/add-group",name:"inventoryManage.addGroup",modes:["add"],form:"GroupForm",controllers:{add:"GroupAddController"}}),editGroup=stateDefinitions.generateTree({url:"/edit-group/:group_id",name:"inventoryManage.editGroup",modes:["edit"],form:"GroupForm",controllers:{edit:"GroupEditController"},resolve:{edit:{groupData:["$stateParams","GroupManageService",function($stateParams,GroupManageService){return GroupManageService.get({id:$stateParams.group_id}).then(function(res){return res.data.results[0]})}],inventorySourceData:["$stateParams","GroupManageService",function($stateParams,GroupManageService){return GroupManageService.getInventorySource({group:$stateParams.group_id}).then(function(res){return res.data.results[0]})}]}}}).then(function(generated){var schedulerDefinitions=_.map([stateExtender.buildDefinition(listSchedules),stateExtender.buildDefinition(addSchedule),stateExtender.buildDefinition(editSchedule)],function(state){return stateExtender.buildDefinition(state)});return{states:_(generated.states).concat(schedulerDefinitions).value()}}),addHost=stateDefinitions.generateTree({url:"/add-host",name:"inventoryManage.addHost",modes:["add"],form:"HostForm",controllers:{add:"HostsAddController"}}),editHost=stateDefinitions.generateTree({url:"/edit-host/:host_id",name:"inventoryManage.editHost",modes:["edit"],form:"HostForm",controllers:{edit:"HostEditController"},resolve:{edit:{host:["$stateParams","HostManageService",function($stateParams,HostManageService){return HostManageService.get({id:$stateParams.host_id}).then(function(res){return res.data.results[0]})}]}},ncyBreadcrumb:{label:"{{host.name}}"}}),adhocCredentialLookup={searchPrefix:"credential",name:"inventoryManage.adhoc.credential",url:"/credential",data:{formChildState:!0},params:{credential_search:{value:{page_size:"5"},squash:!0,dynamic:!0}},ncyBreadcrumb:{skip:!0},views:{related:{templateProvider:function(ListDefinition,generateList){var list_html=generateList.build({mode:"lookup",list:ListDefinition,input_type:"radio"});return"<lookup-modal>"+list_html+"</lookup-modal>"}}},resolve:{ListDefinition:["CredentialList",function(CredentialList){var list=_.cloneDeep(CredentialList);return list.lookupConfirmText="SELECT",list}],Dataset:["ListDefinition","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.name)||GetBasePath(list.basePath);return qs.search(path,$stateParams[list.iterator+"_search"])}]},onExit:function($state){$state.transition&&($("#form-modal").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"))}},Promise.all([inventories,addGroup,editGroup,addHost,editHost]).then(function(generated){return{states:_.reduce(generated,function(result,definition){return result.concat(definition.states)},[stateExtender.buildDefinition(_inventoryManage2.default),stateExtender.buildDefinition(_copyMove.copyMoveGroupRoute),stateExtender.buildDefinition(_copyMove.copyMoveHostRoute),stateExtender.buildDefinition(_adhoc2.default),stateExtender.buildDefinition(adhocCredentialLookup)])}})}var stateTree=void 0,inventories=void 0,addGroup=void 0,editGroup=void 0,addHost=void 0,editHost=void 0,listSchedules=void 0,addSchedule=void 0,editSchedule=void 0,adhocCredentialLookup=void 0,stateDefinitions=stateDefinitionsProvider.$get(),stateExtender=$stateExtenderProvider.$get();stateTree={name:"inventories",url:"/inventories",ncyBreadcrumb:{label:(0,_i18n.N_)("INVENTORIES")},lazyLoad:function(){return generateStateTree()}},$stateProvider.state(stateTree)}])}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _inventoryAdd=__webpack_require__(437),_inventoryAdd2=_interopRequireDefault(_inventoryAdd);exports.default=angular.module("inventoryAdd",[]).controller("InventoryAddController",_inventoryAdd2.default)},function(module,exports){"use strict";function InventoriesAdd($scope,$rootScope,$compile,$location,$log,$stateParams,GenerateForm,InventoryForm,rbacUiControlService,Rest,Alert,ProcessErrors,ClearScope,GetBasePath,ParseTypeChange,Wait,ToJSON,$state){function init(){$scope.canEditOrg=!0,form.formLabelSize=null,form.formFieldSize=null,GenerateForm.applyDefaults(form,$scope),$scope.parseType="yaml",ParseTypeChange({scope:$scope,variable:"variables",parse_variable:"parseType",field_id:"inventory_variables"})}$scope.canAdd=!1,rbacUiControlService.canAdd(GetBasePath("inventory")).then(function(canAdd){$scope.canAdd=canAdd}),Rest.setUrl(GetBasePath("inventory")),Rest.options().success(function(data){data.actions.POST||($state.go("^"),Alert("Permission Error","You do not have permission to add an inventory.","alert-info"))}),ClearScope();var defaultUrl=GetBasePath("inventory"),form=InventoryForm;init(),$scope.formSave=function(){Wait("start");try{var fld,json_data,data;json_data=ToJSON($scope.parseType,$scope.variables,!0),data={};for(fld in form.fields)form.fields[fld].realName?data[form.fields[fld].realName]=$scope[fld]:data[fld]=$scope[fld];Rest.setUrl(defaultUrl),Rest.post(data).success(function(data){var inventory_id=data.id;Wait("stop"),$location.path("/inventories/"+inventory_id+"/manage")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to add new inventory. Post returned status: "+status})})}catch(err){Wait("stop"),Alert("Error","Error parsing inventory variables. Parser returned: "+err)}},$scope.formCancel=function(){$state.go("inventories")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$compile","$location","$log","$stateParams","GenerateForm","InventoryForm","rbacUiControlService","Rest","Alert","ProcessErrors","ClearScope","GetBasePath","ParseTypeChange","Wait","ToJSON","$state",InventoriesAdd]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _inventoryEdit=__webpack_require__(439),_inventoryEdit2=_interopRequireDefault(_inventoryEdit);exports.default=angular.module("inventoryEdit",[]).controller("InventoryEditController",_inventoryEdit2.default)},function(module,exports){"use strict";function InventoriesEdit($scope,$rootScope,$compile,$location,$log,$stateParams,InventoryForm,Rest,Alert,ProcessErrors,ClearScope,GetBasePath,ParseTypeChange,Wait,ToJSON,ParseVariableString,Prompt,InitiatePlaybookRun,TemplatesService,$state,OrgAdminLookup){function init(){ClearScope(),form.formLabelSize=null,form.formFieldSize=null,$scope.inventory_id=inventory_id,$scope.$watch("inventory_obj.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAdd=!1)})}var fld,json_data,data,defaultUrl=GetBasePath("inventory"),form=InventoryForm,inventory_id=$stateParams.inventory_id,master={};ClearScope(),init(),Wait("start"),Rest.setUrl(GetBasePath("inventory")+inventory_id+"/"),Rest.get().success(function(data){var fld;for(fld in form.fields)"variables"===fld?($scope.variables=ParseVariableString(data.variables),master.variables=$scope.variables):"inventory_name"===fld?($scope[fld]=data.name,master[fld]=$scope[fld]):"inventory_description"===fld?($scope[fld]=data.description,master[fld]=$scope[fld]):data[fld]&&($scope[fld]=data[fld],master[fld]=$scope[fld]),form.fields[fld].sourceModel&&data.summary_fields&&data.summary_fields[form.fields[fld].sourceModel]&&($scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField],master[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField]);
Wait("stop"),$scope.parseType="yaml",ParseTypeChange({scope:$scope,variable:"variables",parse_variable:"parseType",field_id:"inventory_variables"}),OrgAdminLookup.checkForAdminAccess({organization:data.organization}).then(function(canEditOrg){$scope.canEditOrg=canEditOrg}),$scope.inventory_obj=data,$scope.name=data.name,$scope.$emit("inventoryLoaded")}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to get inventory: "+inventory_id+". GET returned: "+status})}),$scope.formSave=function(){Wait("start"),json_data=ToJSON($scope.parseType,$scope.variables),data={};for(fld in form.fields)form.fields[fld].realName?data[form.fields[fld].realName]=$scope[fld]:data[fld]=$scope[fld];Rest.setUrl(defaultUrl+inventory_id+"/"),Rest.put(data).success(function(){Wait("stop"),$state.go($state.current,{},{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to update inventory. PUT returned status: "+status})})},$scope.manageInventory=function(){$location.path($location.path()+"/manage")},$scope.formCancel=function(){$state.go("inventories")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$compile","$location","$log","$stateParams","InventoryForm","Rest","Alert","ProcessErrors","ClearScope","GetBasePath","ParseTypeChange","Wait","ToJSON","ParseVariableString","Prompt","InitiatePlaybookRun","TemplatesService","$state","OrgAdminLookup",InventoriesEdit]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _inventoryList=__webpack_require__(441),_inventoryList2=_interopRequireDefault(_inventoryList);exports.default=angular.module("inventoryList",[]).controller("InventoryListController",_inventoryList2.default)},function(module,exports,__webpack_require__){(function(_,$){"use strict";function InventoriesList($scope,$rootScope,$location,$log,$stateParams,$compile,$filter,sanitizeFilter,Rest,Alert,InventoryList,Prompt,ClearScope,ProcessErrors,GetBasePath,Wait,Find,Empty,$state,rbacUiControlService,Dataset){function init(){$scope.canAdd=!1,rbacUiControlService.canAdd("inventory").then(function(canAdd){$scope.canAdd=canAdd}),$scope.$watchCollection(list.name,function(){_.forEach($scope[list.name],buildStatusIndicators)}),$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$rootScope.flashMessage=null}function buildStatusIndicators(inventory){inventory.launch_class="",inventory.has_inventory_sources?inventory.inventory_sources_with_failures>0?(inventory.syncStatus="error",inventory.syncTip=inventory.inventory_sources_with_failures+" groups with sync failures. Click for details"):(inventory.syncStatus="successful",inventory.syncTip="No inventory sync failures. Click for details."):(inventory.syncStatus="na",inventory.syncTip="Not configured for inventory sync.",inventory.launch_class="btn-disabled"),inventory.has_active_failures?(inventory.hostsStatus="error",inventory.hostsTip=inventory.hosts_with_active_failures+" hosts with failures. Click for details."):inventory.total_hosts?(inventory.hostsStatus="successful",inventory.hostsTip="No hosts with failures. Click for details."):(inventory.hostsStatus="none",inventory.hostsTip="Inventory contains 0 hosts.")}function ellipsis(a){return a.length>20?a.substr(0,20)+"...":a}function attachElem(event,html,title){var elem=$(event.target).parent();try{elem.tooltip("hide"),elem.popover("destroy")}catch(err){}$(".popover").each(function(){$(this).remove()}),$(".tooltip").each(function(){$(this).hide()}),elem.attr({"aw-pop-over":html,"data-popover-title":title,"data-placement":"right"}),elem.removeAttr("ng-click"),$compile(elem)($scope),$scope.triggerPopover(event)}var list=InventoryList,defaultUrl=GetBasePath("inventory");init(),$scope.removeHostSummaryReady&&$scope.removeHostSummaryReady(),$scope.removeHostSummaryReady=$scope.$on("HostSummaryReady",function(e,event,data){var html,title="Recent Jobs";Wait("stop"),data.count>0?(html='<table class="table table-condensed flyout" style="width: 100%">\n',html+="<thead>\n",html+="<tr>",html+="<th>Status</th>",html+="<th>Finished</th>",html+="<th>Name</th>",html+="</tr>\n",html+="</thead>\n",html+="<tbody>\n",data.results.forEach(function(row){html+="<tr>\n",html+='<td><a href="#/jobs/'+row.id+'" aw-tool-tip="'+row.status.charAt(0).toUpperCase()+row.status.slice(1)+'. Click for details" aw-tip-placement="top"><i class="fa icon-job-'+row.status+'"></i></a></td>\n',html+="<td>"+$filter("longDate")(row.finished).replace(/ /,"<br />")+"</td>",html+='<td><a href="#/jobs/'+row.id+'" aw-tool-tip="'+row.status.charAt(0).toUpperCase()+row.status.slice(1)+'. Click for details" aw-tip-placement="top">'+$filter("sanitize")(ellipsis(row.name))+"</a></td>",html+="</tr>\n"}),html+="</tbody>\n",html+="</table>\n"):html="<p>No recent job data available for this inventory.</p>\n",attachElem(event,html,title)}),$scope.removeGroupSummaryReady&&$scope.removeGroupSummaryReady(),$scope.removeGroupSummaryReady=$scope.$on("GroupSummaryReady",function(e,event,inventory,data){var html,title;Wait("stop"),html='<table class="table table-condensed flyout" style="width: 100%">\n',html+="<thead>\n",html+="<tr>",html+="<th>Status</th>",html+="<th>Last Sync</th>",html+="<th>Group</th>",html+="</tr>",html+="</thead>\n",html+="<tbody>\n",data.results.forEach(function(row){row.related.last_update?(html+="<tr>",html+='<td><a href="" ng-click="viewJob(\''+row.related.last_update+'\')" aw-tool-tip="'+(row.status.charAt(0).toUpperCase()+row.status.slice(1))+'. Click for details" aw-tip-placement="top"><i class="SmartStatus-tooltip--'+row.status+" fa icon-job-"+row.status+'"></i></a></td>',html+="<td>"+$filter("longDate")(row.last_updated).replace(/ /,"<br />")+"</td>",html+='<td><a href="" ng-click="viewJob(\''+row.related.last_update+"')\">"+$filter("sanitize")(ellipsis(row.summary_fields.group.name))+"</a></td>",html+="</tr>\n"):(html+="<tr>",html+='<td><a href="" aw-tool-tip="No sync data" aw-tip-placement="top"><i class="fa icon-job-none"></i></a></td>',html+="<td>NA</td>",html+='<td><a href="">'+$filter("sanitize")(ellipsis(row.summary_fields.group.name))+"</a></td>",html+="</tr>\n")}),html+="</tbody>\n",html+="</table>\n",title="Sync Status",attachElem(event,html,title)}),$scope.showGroupSummary=function(event,id){try{var elem=$(event.target).parent();if(elem.data()["bs.popover"].tip().hasClass("in"))return}catch(err){var inventory;Empty(id)||(inventory=Find({list:$scope.inventories,key:"id",val:id}),"na"!==inventory.syncStatus&&(Wait("start"),Rest.setUrl(inventory.related.inventory_sources+"?or__source=ec2&or__source=rax&order_by=-last_job_run&page_size=5"),Rest.get().success(function(data){$scope.$emit("GroupSummaryReady",event,inventory,data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+inventory.related.inventory_sources+" failed. GET returned status: "+status})})))}},$scope.showHostSummary=function(event,id){try{var elem=$(event.target).parent();if(elem.data()["bs.popover"].tip().hasClass("in"))return}catch(err){var url,inventory;Empty(id)||(inventory=Find({list:$scope.inventories,key:"id",val:id}),inventory.total_hosts>0&&(Wait("start"),url=GetBasePath("jobs")+"?type=job&inventory="+id+"&failed=",url+=inventory.has_active_failures?"true":"false",url+="&order_by=-finished&page_size=5",Rest.setUrl(url),Rest.get().success(function(data){$scope.$emit("HostSummaryReady",event,data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. GET returned: "+status})})))}},$scope.viewJob=function(url){var id=url.replace(/^\//,"").split("/")[3];$state.go("inventorySyncStdout",{id:id})},$scope.addInventory=function(){$state.go("inventories.add")},$scope.editInventory=function(id){$state.go("inventories.edit",{inventory_id:id})},$scope.manageInventory=function(id){$location.path($location.path()+"/"+id+"/manage")},$scope.deleteInventory=function(id,name){var action=function(){var url=defaultUrl+id+"/";Wait("start"),$("#prompt-modal").modal("hide"),Rest.setUrl(url),Rest.destroy().success(function(){parseInt($state.params.inventory_id)===id?$state.go("^",null,{reload:!0}):($state.go(".",null,{reload:!0}),Wait("stop"))}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned status: "+status})})};Prompt({hdr:"Delete",body:'<div class="Prompt-bodyQuery">Are you sure you want to delete the inventory below?</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>",action:action,actionText:"DELETE"})},$scope.viewJobs=function(id){$location.url("/jobs/?inventory__int="+id)},$scope.viewFailedJobs=function(id){$location.url("/jobs/?inventory__int="+id+"&status=failed")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$location","$log","$stateParams","$compile","$filter","sanitizeFilter","Rest","Alert","InventoryList","Prompt","ClearScope","ProcessErrors","GetBasePath","Wait","Find","Empty","$state","rbacUiControlService","Dataset",InventoriesList]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _inventoryManage=__webpack_require__(443),_inventoryManage2=_interopRequireDefault(_inventoryManage),_hosts=__webpack_require__(444),_hosts2=_interopRequireDefault(_hosts),_groups=__webpack_require__(445),_groups2=_interopRequireDefault(_groups),_main=__webpack_require__(446),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(449),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(452),_main6=_interopRequireDefault(_main5),_main7=__webpack_require__(455),_main8=_interopRequireDefault(_main7);exports.default=angular.module("inventoryManage",[_main2.default.name,_main4.default.name,_main8.default.name,_main6.default.name]).service("InventoryManageService",_inventoryManage2.default).service("HostManageService",_hosts2.default).service("GroupManageService",_groups2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","Rest","GetBasePath","ProcessErrors","Wait",function($rootScope,Rest,GetBasePath,ProcessErrors,Wait){return{url:function(){return""},error:function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+this.url+". GET returned: "+status})},success:function(data){return data},getInventory:function(id){return Wait("start"),this.url=GetBasePath("inventory")+id,Rest.setUrl(this.url),Rest.get().success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},getBreadcrumbs:function(groups){return Wait("start"),this.url=GetBasePath("groups")+"?"+_.map(groups,function(item){return"&or__id="+item}).join(""),Rest.setUrl(this.url),Rest.get().success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},rootHostsUrl:function(id){var url=GetBasePath("inventory")+id+"/hosts";return url},childHostsUrl:function(id){var url=GetBasePath("groups")+id+"/all_hosts";return url},childGroupsUrl:function(id){var url=GetBasePath("groups")+id+"/children";return url},rootGroupsUrl:function(id){var url=GetBasePath("inventory")+id+"/root_groups";return url}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","Rest","GetBasePath","ProcessErrors","Wait",function($rootScope,Rest,GetBasePath,ProcessErrors,Wait){return{stringifyParams:function(params){return _.reduce(params,function(result,value,key){return result+key+"="+value+"&"},"")},url:function(){return""},error:function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+this.url+". GET returned: "+status})},success:function(data){return data},get:function(params){return Wait("start"),this.url=GetBasePath("hosts")+"?"+this.stringifyParams(params),Rest.setUrl(this.url),Rest.get().success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},post:function(host){return Wait("start"),this.url=GetBasePath("hosts"),Rest.setUrl(this.url),Rest.post(host).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},put:function(host){return Wait("start"),this.url=GetBasePath("hosts")+host.id,Rest.setUrl(this.url),Rest.put(host).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},delete:function(id){return Wait("start"),this.url=GetBasePath("hosts")+id,Rest.setUrl(this.url),Rest.destroy().success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},associateGroup:function(host,group){return Wait("start"),this.url=GetBasePath("groups")+group+"/hosts/",Rest.setUrl(this.url),Rest.post(host).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},disassociateGroup:function(host,group){return Wait("start"),this.url=GetBasePath("groups")+group+"/hosts/",Rest.setUrl(this.url),Rest.post({id:host.id,disassociate:1}).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","Rest","GetBasePath","ProcessErrors","Wait",function($rootScope,Rest,GetBasePath,ProcessErrors,Wait){return{stringifyParams:function(params){return _.reduce(params,function(result,value,key){return result+key+"="+value+"&"},"")},url:function(){return""},error:function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+this.url+". GET returned: "+status})},success:function(data){return data},get:function(params){return Wait("start"),this.url=GetBasePath("groups")+"?"+this.stringifyParams(params),Rest.setUrl(this.url),Rest.get().success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},post:function(group){return Wait("start"),this.url=GetBasePath("groups"),Rest.setUrl(this.url),Rest.post(group).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},put:function(group){return Wait("start"),this.url=GetBasePath("groups")+group.id,Rest.setUrl(this.url),Rest.put(group).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},delete:function(id){return Wait("start"),this.url=GetBasePath("groups")+id,Rest.setUrl(this.url),Rest.destroy().success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},getCredential:function(id){return Wait("start"),this.url=GetBasePath("credentials")+id,Rest.setUrl(this.url),Rest.get().success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},getInventorySource:function(params){return Wait("start"),this.url=GetBasePath("inventory_sources")+"?"+this.stringifyParams(params),Rest.setUrl(this.url),Rest.get().success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},putInventorySource:function(params,url){return Wait("start"),this.url=url,Rest.setUrl(this.url),Rest.put(params).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},associateGroup:function(group,target){return Wait("start"),this.url=GetBasePath("groups")+target+"/children/",Rest.setUrl(this.url),Rest.post(group).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},disassociateGroup:function(group,parent){return Wait("start"),this.url=GetBasePath("groups")+parent+"/children/",Rest.setUrl(this.url),Rest.post({id:group,disassociate:1}).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))},promote:function(group,inventory){return Wait("start"),this.url=GetBasePath("inventory")+inventory+"/groups/",Rest.setUrl(this.url),Rest.post({id:group,disassociate:1}).success(this.success.bind(this)).error(this.error.bind(this)).finally(Wait("stop"))}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _hostsAdd=__webpack_require__(447),_hostsAdd2=_interopRequireDefault(_hostsAdd),_hostsEdit=__webpack_require__(448),_hostsEdit2=_interopRequireDefault(_hostsEdit);exports.default=angular.module("manageHosts",[]).controller("HostsAddController",_hostsAdd2.default).controller("HostEditController",_hostsEdit2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$state","$stateParams","$scope","HostForm","ParseTypeChange","GenerateForm","HostManageService","rbacUiControlService","GetBasePath","ToJSON",function($state,$stateParams,$scope,HostForm,ParseTypeChange,GenerateForm,HostManageService,rbacUiControlService,GetBasePath,ToJSON){function init(){$scope.canAdd=!1,rbacUiControlService.canAdd(GetBasePath("inventory")+$stateParams.inventory_id+"/hosts").then(function(canAdd){$scope.canAdd=canAdd}),$scope.parseType="yaml",$scope.host={enabled:!0},GenerateForm.applyDefaults(HostForm,$scope),ParseTypeChange({scope:$scope,field_id:"host_variables",variable:"variables",parse_variable:"parseType"})}init(),$scope.formCancel=function(){$state.go("^")},$scope.toggleHostEnabled=function(){$scope.host.has_inventory_sources||($scope.host.enabled=!$scope.host.enabled)},$scope.formSave=function(){var json_data=ToJSON($scope.parseType,$scope.variables,!0),params={variables:json_data,name:$scope.name,description:$scope.description,enabled:$scope.host.enabled,inventory:$stateParams.inventory_id};HostManageService.post(params).then(function(res){$stateParams.group?HostManageService.associateGroup(res.data,_.last($stateParams.group)).then(function(){$state.go("inventoryManage.editHost",{host_id:res.data.id},{reload:!0})}):$state.go("inventoryManage.editHost",{host_id:res.data.id},{reload:!0})})}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(jsyaml){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$state","$stateParams","$scope","HostForm","ParseTypeChange","HostManageService","host","ToJSON",function($state,$stateParams,$scope,HostForm,ParseTypeChange,HostManageService,host,ToJSON){function init(){$scope.$watch("host.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAdd=!1)}),$scope.parseType="yaml",$scope.host=host,$scope.variables=getVars(host.variables),$scope.name=host.name,$scope.description=host.description,ParseTypeChange({scope:$scope,field_id:"host_variables"})}function getVars(str){function IsJsonString(str){try{JSON.parse(str)}catch(e){return!1}return!0}return""===str?"---":IsJsonString(str)?(str=JSON.parse(str),jsyaml.safeDump(str)):IsJsonString(str)?void 0:str}init(),$scope.formCancel=function(){$state.go("^")},$scope.toggleHostEnabled=function(){$scope.host.has_inventory_sources||($scope.host.enabled=!$scope.host.enabled)},$scope.formSave=function(){var json_data=ToJSON($scope.parseType,$scope.variables,!0),host={id:$scope.host.id,variables:json_data,name:$scope.name,description:$scope.description,enabled:$scope.host.enabled};HostManageService.put(host).then(function(){$state.go($state.current,null,{reload:!0})})}}]}).call(exports,__webpack_require__(25))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _groupsAdd=__webpack_require__(450),_groupsAdd2=_interopRequireDefault(_groupsAdd),_groupsEdit=__webpack_require__(451),_groupsEdit2=_interopRequireDefault(_groupsEdit);exports.default=angular.module("manageGroups",[]).controller("GroupAddController",_groupsAdd2.default).controller("GroupEditController",_groupsEdit2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$state","$stateParams","$scope","GroupForm","CredentialList","ParseTypeChange","GenerateForm","inventoryData","GroupManageService","GetChoices","GetBasePath","CreateSelect2","GetSourceTypeOptions","rbacUiControlService","ToJSON",function($state,$stateParams,$scope,GroupForm,CredentialList,ParseTypeChange,GenerateForm,inventoryData,GroupManageService,GetChoices,GetBasePath,CreateSelect2,GetSourceTypeOptions,rbacUiControlService,ToJSON){function init(){GenerateForm.applyDefaults(form,$scope),rbacUiControlService.canAdd(GetBasePath("inventory")+$stateParams.inventory_id+"/groups").then(function(canAdd){$scope.canAdd=canAdd}),$scope.parseType="yaml",$scope.envParseType="yaml",ParseTypeChange({scope:$scope,field_id:"group_variables",variable:"variables"}),initSources()}function initRegionSelect(){CreateSelect2({element:"#group_source_regions",multiple:!0}),CreateSelect2({element:"#group_group_by",multiple:!0})}function initSourceSelect(){CreateSelect2({element:"#group_source",multiple:!1})}function initSources(){GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"rax_regions",choice_name:"rax_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"ec2_regions",choice_name:"ec2_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"gce_regions",choice_name:"gce_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"azure_regions",choice_name:"azure_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"group_by",variable:"ec2_group_by",choice_name:"ec2_group_by_choices",callback:"choicesReadyGroup"}),GetSourceTypeOptions({scope:$scope,variable:"source_type_options"})}var form=GroupForm();init(),$scope.lookupCredential=function(){var kind="ec2"===$scope.source.value?"aws":$scope.source.value;$state.go(".credential",{credential_search:{kind:kind,page_size:"5",page:"1"}})},$scope.formCancel=function(){$state.go("^")},$scope.formSave=function(){var params,source,json_data;json_data=ToJSON($scope.parseType,$scope.variables,!0);var group={variables:json_data,name:$scope.name,description:$scope.description,inventory:inventoryData.id};switch($scope.source?(params={instance_filters:$scope.instance_filters,source_vars:"---"===$scope[$scope.source.value+"_variables"]||"{}"===$scope[$scope.source.value+"_variables"]?null:$scope[$scope.source.value+"_variables"],source_script:$scope.inventory_script,source:$scope.source.value,credential:$scope.credential,overwrite:$scope.overwrite,overwrite_vars:$scope.overwrite_vars,update_on_launch:$scope.update_on_launch,update_cache_timeout:$scope.update_cache_timeout||0,group_by:_.map($scope.group_by,"value").join(","),source_regions:_.map($scope.source_regions,"value").join(",")},source=$scope.source.value):source=null,source){case"":GroupManageService.post(group).then(function(res){return $stateParams.group?GroupManageService.associateGroup(res.data,_.last($stateParams.group)).then(function(){return $state.go("^",null,{reload:!0})}):void $state.go("^",null,{reload:!0})});break;default:GroupManageService.post(group).then(function(res){return $stateParams.group?(GroupManageService.associateGroup(res.data,_.last($stateParams.group)),res):res}).then(function(res){return GroupManageService.putInventorySource(_.assign(params,{group:res.data.id}),res.data.related.inventory_source)}).then(function(res){return $state.go("inventoryManage.editGroup",{group_id:res.data.group},{reload:!0})})}},$scope.sourceChange=function(source){source=source.value,"custom"===source?$scope.credentialBasePath=GetBasePath("inventory_script"):$scope.credentialBasePath="ec2"===source?GetBasePath("credentials")+"?kind=aws":GetBasePath("credentials")+(""===source?"":"?kind="+source),"ec2"!==source&&"custom"!==source&&"vmware"!==source&&"openstack"!==source||ParseTypeChange({scope:$scope,field_id:source+"_variables",variable:source+"_variables",parse_variable:"envParseType"}),$scope.group_by_choices="ec2"===source?$scope.ec2_group_by:null,$scope.source_region_choices="azure_rm"===source?$scope.azure_regions:$scope[source+"_regions"],$scope.cloudCredentialRequired=""!==source&&"custom"!==source&&"ec2"!==source,$scope.group_by=null,$scope.source_regions=null,$scope.credential=null,$scope.credential_name=null,initRegionSelect()},$scope.$on("choicesReadyGroup",function(){initRegionSelect()}),$scope.$on("sourceTypeOptionsReady",function(){initSourceSelect()})}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$state","$stateParams","$scope","ToggleNotification","ParseVariableString","rbacUiControlService","ToJSON","ParseTypeChange","GroupManageService","GetChoices","GetBasePath","CreateSelect2","GetSourceTypeOptions","groupData","inventorySourceData",function($state,$stateParams,$scope,ToggleNotification,ParseVariableString,rbacUiControlService,ToJSON,ParseTypeChange,GroupManageService,GetChoices,GetBasePath,CreateSelect2,GetSourceTypeOptions,groupData,inventorySourceData){function init(){rbacUiControlService.canAdd(GetBasePath("inventory")+$stateParams.inventory_id+"/groups").then(function(canAdd){$scope.canAdd=canAdd}),_.assign($scope,{credential:inventorySourceData.credential},{overwrite:inventorySourceData.overwrite},{overwrite_vars:inventorySourceData.overwrite_vars},{update_on_launch:inventorySourceData.update_on_launch},{update_cache_timeout:inventorySourceData.update_cache_timeout},{instance_filters:inventorySourceData.instance_filters},{inventory_script:inventorySourceData.source_script}),inventorySourceData.credential&&($scope.credential_name=inventorySourceData.summary_fields.credential.name),$scope=angular.extend($scope,groupData),"custom"===inventorySourceData.source&&($scope.inventory_script_name=inventorySourceData.summary_fields.source_script.name),$scope.$watch("summary_fields.user_capabilities.edit",function(val){$scope.canAdd=val}),$scope.variables=null===$scope.variables||""===$scope.variables?"---":ParseVariableString($scope.variables),$scope.parseType="yaml",$scope.envParseType="yaml",ParseTypeChange({scope:$scope,field_id:"group_variables",variable:"variables"}),initSources()}function initSourceSelect(){$scope.source=_.find($scope.source_type_options,{value:inventorySourceData.source}),CreateSelect2({element:"#group_source",multiple:!1}),"ec2"!==inventorySourceData.source&&"openstack"!==inventorySourceData.source&&"custom"!==inventorySourceData.source&&"vmware"!==inventorySourceData.source||($scope[inventorySourceData.source+"_variables"]=null===inventorySourceData.source_vars||""===inventorySourceData.source_vars?"---":ParseVariableString(inventorySourceData.source_vars),ParseTypeChange({scope:$scope,field_id:inventorySourceData.source+"_variables",variable:inventorySourceData.source+"_variables",parse_variable:"envParseType"}))}function initRegionData(){var source="azure_rm"===$scope.source.value?"azure":$scope.source.value,regions=inventorySourceData.source_regions.split(",");if($scope.source_region_choices=$scope[source+"_regions"],"azure"===source?$scope.source_regions=_.map(regions,function(region){return _.find($scope[source+"_regions"],function(o){return o.value.toLowerCase()===region})}):$scope.source_regions=_.map(regions,function(region){return _.find($scope[source+"_regions"],function(o){return o.value===region})}),$scope.group_by_choices="ec2"===source?$scope.ec2_group_by:null,"ec2"===source){var group_by=inventorySourceData.group_by.split(",");$scope.group_by=_.map(group_by,function(item){return _.find($scope.ec2_group_by,{value:item})})}initRegionSelect()}function initSources(){GetSourceTypeOptions({scope:$scope,variable:"source_type_options"}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"rax_regions",choice_name:"rax_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"ec2_regions",choice_name:"ec2_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"gce_regions",choice_name:"gce_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"source_regions",variable:"azure_regions",choice_name:"azure_region_choices",callback:"choicesReadyGroup"}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"group_by",variable:"ec2_group_by",choice_name:"ec2_group_by_choices",callback:"choicesReadyGroup"})}init();var initRegionSelect=function(){CreateSelect2({element:"#group_source_regions",multiple:!0}),CreateSelect2({element:"#group_group_by",multiple:!0})};$scope.lookupCredential=function(){var kind="ec2"===$scope.source.value?"aws":$scope.source.value;$state.go(".credential",{credential_search:{kind:kind,page_size:"5",page:"1"}})},$scope.formCancel=function(){$state.go("^")},$scope.formSave=function(){var params,source,json_data;json_data=ToJSON($scope.parseType,$scope.variables,!0);var group={variables:json_data,name:$scope.name,description:$scope.description,inventory:$scope.inventory,id:groupData.id};switch($scope.source?(params={group:groupData.id,source:$scope.source.value,credential:$scope.credential,overwrite:$scope.overwrite,overwrite_vars:$scope.overwrite_vars,source_script:$scope.inventory_script,update_on_launch:$scope.update_on_launch,update_cache_timeout:$scope.update_cache_timeout||0,group_by:_.map($scope.group_by,"value").join(","),source_regions:_.map($scope.source_regions,"value").join(","),instance_filters:$scope.instance_filters,source_vars:"---"===$scope[$scope.source.value+"_variables"]||"{}"===$scope[$scope.source.value+"_variables"]?null:$scope[$scope.source.value+"_variables"]},source=$scope.source.value):source=null,source){case"":GroupManageService.put(group).then(function(){return $state.go($state.current,null,{reload:!0})});break;default:GroupManageService.put(group).then(function(){return GroupManageService.putInventorySource(params,groupData.related.inventory_source)}).then(function(){return $state.go($state.current,null,{reload:!0})})}},$scope.sourceChange=function(source){$scope.source=source,"ec2"!==source.value&&"custom"!==source.value&&"vmware"!==source.value&&"openstack"!==source.value||($scope[source.value+"_variables"]=void 0===$scope[source.value+"_variables"]?"---":$scope[source.value+"_variables"],ParseTypeChange({scope:$scope,field_id:source.value+"_variables",variable:source.value+"_variables",parse_variable:"envParseType"})),$scope.source_region_choices="azure_rm"===source.value?$scope.azure_regions:$scope[source.value+"_regions"],$scope.cloudCredentialRequired=""!==source.value&&"custom"!==source.value&&"ec2"!==source.value,$scope.group_by=null,$scope.source_regions=null,$scope.credential=null,$scope.credential_name=null,initRegionSelect()},$scope.$on("choicesReadyGroup",function(){angular.isObject($scope.source)&&initRegionData()}),$scope.$on("sourceTypeOptionsReady",function(){initSourceSelect()})}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _adhoc=__webpack_require__(453),_adhoc2=_interopRequireDefault(_adhoc),_adhoc3=__webpack_require__(454),_adhoc4=_interopRequireDefault(_adhoc3);exports.default=angular.module("adhoc",[]).controller("adhocController",_adhoc2.default).factory("adhocForm",_adhoc4.default)},function(module,exports,__webpack_require__){(function($){"use strict";function adhocController($q,$scope,$location,$stateParams,$state,CheckPasswords,PromptForPasswords,CreateLaunchDialog,CreateSelect2,adhocForm,GenerateForm,Rest,ProcessErrors,ClearScope,GetBasePath,GetChoices,KindChange,CredentialList,ParseTypeChange,Empty,Wait){ClearScope();var privateFn={};this.privateFn=privateFn;var id=$stateParams.inventory_id,hostPattern=$stateParams.pattern;privateFn.setAvailableUrls=function(){return{adhocUrl:GetBasePath("inventory")+id+"/ad_hoc_commands/",inventoryUrl:GetBasePath("inventory")+id+"/",machineCredentialUrl:GetBasePath("credentials")+"?kind=ssh"}};var urls=privateFn.setAvailableUrls();privateFn.setFieldDefaults=function(verbosity_options,forks_default){var verbosity;for(verbosity in verbosity_options)verbosity_options[verbosity].isDefault&&($scope.verbosity=verbosity_options[verbosity]);$("#forks-number").spinner("value",forks_default),$scope.forks=forks_default},privateFn.setLoadingStartStop=function(){function isFormDone(){formReadyPromise++,2===formReadyPromise&&(privateFn.setFieldDefaults($scope.adhoc_verbosity_options,$scope.forks_field.default),CreateSelect2({element:"#adhoc_module_name",multiple:!1}),CreateSelect2({element:"#adhoc_verbosity",multiple:!1}),Wait("stop"))}var asyncHelper={},formReadyPromise=0;Wait("start"),asyncHelper.removeChoicesReady&&asyncHelper.removeChoicesReady(),asyncHelper.removeChoicesReady=$scope.$on("adhocFormReady",isFormDone)},privateFn.instantiateArgumentHelp=function(){$scope.$watch("module_name",function(val){val?$scope.argsPopOver="<p>These arguments are used with the specified module. You can find information about the "+val.value+' module <a id="adhoc_module_arguments_docs_link_for_module_'+val.value+'" href="http://docs.ansible.com/'+val.value+'_module.html" target="_blank">here</a>.</p>':$scope.argsPopOver="<p>These arguments are used with the specified module.</p>"},!0),$scope.argsPopOver="<p>These arguments are used with the specified module.</p>"},privateFn.instantiateHostPatterns=function(hostPattern){$scope.limit=hostPattern,$scope.providedHostPatterns=$scope.limit},privateFn.initializeFields=function(machineCredentialUrl,adhocUrl){GetChoices({scope:$scope,url:adhocUrl,field:"module_name",variable:"adhoc_module_options",callback:"adhocFormReady"}),GetChoices({scope:$scope,url:adhocUrl,field:"verbosity",variable:"adhoc_verbosity_options",callback:"adhocFormReady"})},privateFn.initializeForm=function(id,urls,hostPattern){GenerateForm.inject(adhocForm,{mode:"add",related:!0,scope:$scope}),privateFn.setLoadingStartStop(),$scope.inv_id=id,privateFn.instantiateArgumentHelp(),privateFn.instantiateHostPatterns(hostPattern),privateFn.initializeFields(urls.machineCredentialUrl,urls.adhocUrl)},privateFn.initializeForm(id,urls,hostPattern),$scope.extra_vars="---",$scope.parseType="yaml",$scope.envParseType="yaml",ParseTypeChange({scope:$scope,field_id:"adhoc_extra_vars",variable:"extra_vars"}),$scope.formCancel=function(){$state.go("inventoryManage")},$scope.formReset=function(){GenerateForm.reset(),privateFn.instantiateHostPatterns($scope.providedHostPatterns),KindChange({scope:$scope,form:adhocForm,reset:!1}),privateFn.setFieldDefaults($scope.adhoc_verbosity_options,$scope.forks_default)},$scope.launchJob=function(){var fld,html,adhocUrl=GetBasePath("inventory")+$stateParams.inventory_id+"/ad_hoc_commands/",data={};html='<form class="ng-valid ng-valid-required" name="job_launch_form" id="job_launch_form" autocomplete="off" nonvalidate>',data={job_type:"run",limit:"",credential:"",module_name:"command",module_args:"",forks:0,verbosity:0,extra_vars:"",privilege_escalation:""},GenerateForm.clearApiErrors($scope);for(fld in adhocForm.fields)"select"===adhocForm.fields[fld].type?data[fld]=$scope[fld].value:$scope[fld]&&(data[fld]=$scope[fld]);Wait("start"),$scope.removeStartAdhocRun&&$scope.removeStartAdhocRun(),$scope.removeStartAdhocRun=$scope.$on("StartAdhocRun",function(){var password;for(password in $scope.passwords)data[$scope.passwords[password]]=$scope[$scope.passwords[password]];Rest.setUrl(GetBasePath("inventory")+$stateParams.inventory_id+"/ad_hoc_commands/"),Rest.post(data).success(function(data){Wait("stop"),$state.go("adHocJobStdout",{id:data.id})}).error(function(data,status){ProcessErrors($scope,data,status,adhocForm,{hdr:"Error!",msg:"Failed to launch adhoc command. POST returned status: "+status})})}),$scope.removeCreateLaunchDialog&&$scope.removeCreateLaunchDialog(),$scope.removeCreateLaunchDialog=$scope.$on("CreateLaunchDialog",function(e,html,url){CreateLaunchDialog({scope:$scope,html:html,url:url,callback:"StartAdhocRun"})}),$scope.removePromptForPasswords&&$scope.removePromptForPasswords(),$scope.removePromptForPasswords=$scope.$on("PromptForPasswords",function(e,passwords_needed_to_start,html,url){PromptForPasswords({scope:$scope,passwords:passwords_needed_to_start,callback:"CreateLaunchDialog",html:html,url:url})}),$scope.removeContinueCred&&$scope.removeContinueCred(),$scope.removeContinueCred=$scope.$on("ContinueCred",function(e,passwords){passwords.length>0?($scope.passwords_needed_to_start=passwords,$scope.$emit("PromptForPasswords",passwords,html,adhocUrl)):$scope.$emit("StartAdhocRun",adhocUrl)}),CheckPasswords({scope:$scope,credential:$scope.credential,callback:"ContinueCred"})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$q","$scope","$location","$stateParams","$state","CheckPasswords","PromptForPasswords","CreateLaunchDialog","CreateSelect2","adhocForm","GenerateForm","Rest","ProcessErrors","ClearScope","GetBasePath","GetChoices","KindChange","CredentialList","ParseTypeChange","Empty","Wait",adhocController]}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{addTitle:"EXECUTE COMMAND",name:"adhoc",well:!0,forceListeners:!0,fields:{module_name:{label:"Module",excludeModal:!0,type:"select",ngOptions:"module.label for module in adhoc_module_options track by module.value",ngChange:"moduleChange()",required:!0,awPopOver:"<p>These are the modules that Tower supports running commands against.",dataTitle:"Module",dataPlacement:"right",dataContainer:"body"},module_args:{label:"Arguments",type:"text",awPopOverWatch:"argsPopOver",awPopOver:"{{ argsPopOver }}",dataTitle:"Arguments",dataPlacement:"right",dataContainer:"body",autocomplete:!1},limit:{label:"Limit",type:"text",awPopOver:'<p>The pattern used to target hosts in the inventory. Leaving the field blank, all, and * will all target all hosts in the inventory.  You can find more information about Ansible\'s host patterns <a id="adhoc_form_hostpatterns_doc_link"href="http://docs.ansible.com/intro_patterns.html" target="_blank">here</a>.</p>',dataTitle:"Limit",dataPlacement:"right",dataContainer:"body"},credential:{label:"Machine Credential",type:"lookup",list:"CredentialList",basePath:"credentials",sourceModel:"credential",sourceField:"name",class:"squeeze",awPopOver:"<p>Select the credential you want to use when accessing the remote hosts to run the command. Choose the credential containing the username and SSH key or password that Ansbile will need to log into the remote hosts.</p>",dataTitle:"Credential",dataPlacement:"right",dataContainer:"body",awRequiredWhen:{reqExpression:"credRequired",init:"false"}},become_enabled:{label:"Enable Privilege Escalation",type:"checkbox",column:2,awPopOver:"<p>If enabled,  run this playbook as an administrator. This is the equivalent of passing the<code> --become</code> option to the <code> ansible</code> command. </p>",dataPlacement:"right",dataTitle:"Become Privilege Escalation",dataContainer:"body"},verbosity:{label:"Verbosity",excludeModal:!0,type:"select",ngOptions:"verbosity.label for verbosity in adhoc_verbosity_options track by verbosity.value",required:!0,awPopOver:"<p>These are the verbosity levels for standard out of the command run that are supported.",dataTitle:"Verbosity",dataPlacement:"right",dataContainer:"body",default:1},forks:{label:"Forks",id:"forks-number",type:"number",integer:!0,min:0,spinner:!0,default:0,required:!0,class:"input-small",column:1,awPopOver:'<p>The number of parallel or simultaneous processes to use while executing the command. 0 signifies the default value from the <a id="ansible_forks_docs" href="http://docs.ansible.com/intro_configuration.html#the-ansible-configuration-file"  target="_blank">ansible configuration file</a>.</p>',dataTitle:"Forks",dataPlacement:"right",dataContainer:"body"},extra_vars:{label:i18n._("Extra Variables"),type:"textarea",class:"Form-textAreaLabel Form-formGroup--fullWidth",rows:6,default:"---",column:2,awPopOver:"<p>"+i18n.sprintf(i18n._("Pass extra command line variables. This is the %s or %s command line parameter for %s. Provide key/value pairs using either YAML or JSON."),"<code>-e</code>","<code>--extra-vars</code>","<code>ansible</code>")+'</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n',dataTitle:i18n._("Extra Variables"),dataPlacement:"right",dataContainer:"body"}},buttons:{reset:{ngClick:"formReset()",ngDisabled:!0,label:"Reset",class:"btn btn-sm Form-cancelButton"},launch:{label:"Save",ngClick:"launchJob()",ngDisabled:!0,class:"btn btn-sm List-buttonSubmit launchButton"}},related:{}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _copyMoveGroups=__webpack_require__(456),_copyMoveGroups2=_interopRequireDefault(_copyMoveGroups),_copyMoveHosts=__webpack_require__(457),_copyMoveHosts2=_interopRequireDefault(_copyMoveHosts);exports.default=angular.module("manageCopyMove",[]).controller("CopyMoveGroupsController",_copyMoveGroups2.default).controller("CopyMoveHostsController",_copyMoveHosts2.default)},function(module,exports,__webpack_require__){(function(_,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$state","$stateParams","GroupManageService","GetBasePath","CopyMoveGroupList","group","Dataset",function($scope,$state,$stateParams,GroupManageService,GetBasePath,CopyMoveGroupList,group,Dataset){function init(){$scope.atRootLevel=!$stateParams.group,$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results}var list=CopyMoveGroupList;$scope.item=group,$scope.submitMode=void 0===$stateParams.groups?"move":"copy",$scope.updateSelected=function(selectedGroup){$scope.selected=angular.copy(selectedGroup)},$scope.formCancel=function(){$state.go("^")},$scope.formSave=function(){switch($scope.submitMode){case"copy":GroupManageService.associateGroup(group,$scope.selected.id).then(function(){return $state.go("^",null,{reload:!0})});break;case"move":switch($scope.targetRootGroup){case!0:GroupManageService.disassociateGroup(group.id,_.last($stateParams.group)).then(function(){return $state.go("^",null,{reload:!0})});break;default:$stateParams.group?GroupManageService.associateGroup(group,$scope.selected.id).then(function(){GroupManageService.disassociateGroup(group.id,_.last($stateParams.group)).then(function(){return $state.go("^",null,{reload:!0})})}):GroupManageService.associateGroup(group,$scope.selected.id).then(function(){return $state.go("^",null,{reload:!0})})}}},$scope.toggleTargetRootGroup=function(){$scope.selected=!$scope.selected,$scope.submitMode="move",_.forEach($scope.groups,function(item){item.checked=null}),$("#copyMove-list :input").each(function(idx,el){$(el).prop("disabled",function(idx,value){return!value})})},init()}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$state","$stateParams","generateList","HostManageService","GetBasePath","CopyMoveGroupList","host","Dataset",function($scope,$state,$stateParams,GenerateList,HostManageService,GetBasePath,CopyMoveGroupList,host,Dataset){var list=CopyMoveGroupList;$scope.item=host,$scope.submitMode="copy",$scope.updateSelected=function(selectedGroup){$scope.selected=angular.copy(selectedGroup)},$scope.formCancel=function(){$state.go("^")},$scope.formSave=function(){switch($scope.submitMode){case"copy":HostManageService.associateGroup(host,$scope.selected.id).then(function(){return $state.go("^")});break;case"move":$stateParams.group?HostManageService.associateGroup(host,$scope.selected.id).then(function(){HostManageService.disassociateGroup(host,_.last($stateParams.group)).then(function(){return $state.go("^",null,{reload:!0})})}):HostManageService.associateGroup(host,$scope.selected.id).then(function(){return $state.go("^",null,{reload:!0})})}};var init=function(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results};init()}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_inventoryManage=__webpack_require__(459),_inventoryManage2=_interopRequireDefault(_inventoryManage),_breadcrumbs=__webpack_require__(460),_breadcrumbs2=_interopRequireDefault(_breadcrumbs),_hostsList=__webpack_require__(461),_hostsList2=_interopRequireDefault(_hostsList),_groupsList=__webpack_require__(462),_groupsList2=_interopRequireDefault(_groupsList);exports.default={name:"inventoryManage",data:{socket:{groups:{jobs:["status_changed"]}}},url:"/inventories/:inventory_id/manage?{group:int}{group_search:queryset}{host_search:queryset}",params:{group:{array:!0},group_search:{value:{page_size:"20",page:"1",order_by:"name"},squash:!0,dynamic:!0},host_search:{value:{page_size:"20",page:"1",order_by:"name"},squash:!0,dynamic:!0}},ncyBreadcrumb:{skip:!0},onEnter:function($stateParams){$stateParams.group=_.uniq($stateParams.group)},resolve:{groupsUrl:["InventoryManageService","$stateParams",function(InventoryManageService,$stateParams){return $stateParams.group&&$stateParams.group.length>0?InventoryManageService.childGroupsUrl(_.last($stateParams.group)):InventoryManageService.rootGroupsUrl($stateParams.inventory_id)}],hostsUrl:["InventoryManageService","$stateParams",function(InventoryManageService,$stateParams){return $stateParams.group&&$stateParams.group.length>0?InventoryManageService.childHostsUrl(_.last($stateParams.group)):InventoryManageService.rootHostsUrl($stateParams.inventory_id)}],inventoryData:["InventoryManageService","$stateParams",function(InventoryManageService,$stateParams){return InventoryManageService.getInventory($stateParams.inventory_id).then(function(res){return res.data})}],breadCrumbData:["InventoryManageService","$stateParams",function(InventoryManageService,$stateParams){return!!($stateParams.group&&$stateParams.group.length>0)&&InventoryManageService.getBreadcrumbs($stateParams.group).then(function(res){return res.data.results})}],groupsDataset:["InventoryGroups","QuerySet","$stateParams","groupsUrl",function(list,qs,$stateParams,groupsUrl){var path=groupsUrl;return qs.search(path,$stateParams[list.iterator+"_search"])}],hostsDataset:["InventoryHosts","QuerySet","$stateParams","hostsUrl",function(list,qs,$stateParams,hostsUrl){var path=hostsUrl;return qs.search(path,$stateParams[list.iterator+"_search"])}]},views:{"groupBreadcrumbs@":{controller:_breadcrumbs2.default,templateUrl:(0,_templateUrl.templateUrl)("inventories/manage/breadcrumbs/breadcrumbs")},"@":{templateUrl:(0,_templateUrl.templateUrl)("inventories/manage/inventory-manage"),controller:_inventoryManage2.default},"groupsList@inventoryManage":{templateProvider:function(InventoryGroups,generateList,$templateRequest,$stateParams,GetBasePath){var list=_.cloneDeep(InventoryGroups);$stateParams&&$stateParams.group?list.basePath=GetBasePath("groups")+_.last($stateParams.group)+"/children":list.basePath=GetBasePath("inventory")+$stateParams.inventory_id+"/root_groups";var html=generateList.build({list:list,mode:"edit"});return html=generateList.wrapPanel(html),$templateRequest((0,_templateUrl.templateUrl)("inventories/manage/groups/groups-list")).then(function(template){return html.concat(template)})},controller:_groupsList2.default},"hostsList@inventoryManage":{templateProvider:function(InventoryHosts,generateList,$stateParams,GetBasePath){var list=_.cloneDeep(InventoryHosts);$stateParams&&$stateParams.group?list.basePath=GetBasePath("groups")+_.last($stateParams.group)+"/all_hosts":list.basePath=GetBasePath("inventory")+$stateParams.inventory_id+"/hosts";var html=generateList.build({list:list,mode:"edit"});return generateList.wrapPanel(html)},controller:_hostsList2.default}}}}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$state","inventoryData",function($scope,$state,inventoryData){$scope.groupsSelected=!1,$scope.hostsSelected=!1,$scope.hostsSelectedItems=[],$scope.groupsSelectedItems=[],$scope.canAdhoc=inventoryData.summary_fields.user_capabilities.adhoc,$scope.setAdhocPattern=function(){var pattern=_($scope.groupsSelectedItems).concat($scope.hostsSelectedItems).map(function(item){return item.name}).value().join(":");$state.go("inventoryManage.adhoc",{pattern:pattern})},$scope.$watchGroup(["groupsSelected","hostsSelected"],function(newVals){$scope.adhocCommandTooltip=newVals[0]||newVals[1]?"Run a command on the selected inventory":"Select an inventory source by clicking the check box beside it. The inventory source can be a single group or host, a selection of multiple hosts, or a selection of multiple groups."})}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$state","$stateParams","$scope","$rootScope","inventoryData","breadCrumbData",function($state,$stateParams,$scope,$rootScope,inventoryData,breadCrumbData){$scope.groups=_.sortBy(breadCrumbData,function(item){var index=_.indexOf($stateParams.group,item.id);return index===-1?$stateParams.group.length:index}),$scope.inventory=inventoryData,$scope.currentState=$state.current.name,$scope.ncyBreadcrumbIgnore=!0,$scope.goToGroup=function(index){var group=$stateParams.group.slice(0,index);$state.go("inventoryManage",{group:group},{reload:!0})},$scope.goToInventory=function(){$state.go("inventoryManage",{group:void 0},{reload:!0})};var cleanUpStateChangeListener=$rootScope.$on("$stateChangeSuccess",function(event,toState){$scope.currentState=toState.name});$scope.$on("$destroy",function(){cleanUpStateChangeListener()})}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($,_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$state","$stateParams","InventoryHosts","generateList","InventoryManageService","HostManageService","hostsUrl","SetStatus","Prompt","Wait","inventoryData","$filter","hostsDataset","GetBasePath","rbacUiControlService","QuerySet",function($scope,$rootScope,$state,$stateParams,InventoryHosts,generateList,InventoryManageService,HostManageService,hostsUrl,SetStatus,Prompt,Wait,inventoryData,$filter,hostsDataset,GetBasePath,rbacUiControlService,qs){function init(){$scope.inventory_id=$stateParams.inventory_id,$scope.canAdd=!1,rbacUiControlService.canAdd(GetBasePath("inventory")+$scope.inventory_id+"/hosts").then(function(canAdd){$scope.canAdd=canAdd}),$scope.list=list,$scope[list.iterator+"_dataset"]=hostsDataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.$watch(list.iterator+"_dataset",function(){$scope.hosts.forEach(function(host){return SetStatus({scope:$scope,host:host})})}),$scope.$on("ws-jobs",function(e,data){if("failed"===data.status||"successful"===data.status){var path=hostsUrl;qs.search(path,$state.params[list.iterator+"_search"]).then(function(searchResponse){$scope[list.iterator+"_dataset"]=searchResponse.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results})}}),$scope.ncyBreadcrumbIgnore=!0,"inventoryManage.editHost"===$state.current.name&&($scope.rowBeingEdited=$state.params.host_id,$scope.listBeingEdited="hosts")}var list=InventoryHosts;init(),$scope.createHost=function(){$state.go("inventoryManage.addHost")},$scope.editHost=function(id){$state.go("inventoryManage.editHost",{host_id:id})},$scope.deleteHost=function(id,name){var body='<div class="Prompt-bodyQuery">Are you sure you want to permanently delete the host below from the inventory?</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>",action=function(){delete $rootScope.promptActionBtnClass,Wait("start"),HostManageService.delete(id).then(function(){$("#prompt-modal").modal("hide"),parseInt($state.params.host_id)===id?$state.go("inventoryManage",null,{reload:!0}):$state.go($state.current.name,null,{reload:!0}),Wait("stop")})};Prompt({hdr:"Delete Host",body:body,action:action,actionText:"DELETE"}),$rootScope.promptActionBtnClass="Modal-errorButton"},$scope.copyMoveHost=function(id){$state.go("inventoryManage.copyMoveHost",{host_id:id})},$scope.systemTracking=function(){var hostIds=_.map($scope.$parent.hostsSelectedItems,function(host){return host.id});$state.go("systemTracking",{inventory:inventoryData,inventoryId:$stateParams.inventory_id,hosts:$scope.$parent.hostsSelectedItems,hostIds:hostIds})},$scope.$on("multiSelectList.selectionChanged",function(event,selection){$scope.$parent.hostsSelected=selection.length>0,$scope.$parent.hostsSelectedItems=selection.selectedItems,$scope.$parent.systemTrackingDisabled=!(selection.length>0&&selection.length<3),$scope.$parent.systemTrackingTooltip=selection.length>0&&selection.length<3?"Compare host facts over time":"Select one or two hosts by clicking the checkbox beside the host. System tracking offers the ability to compare the results of two scan runs from different dates on one host or the same date on two hosts."});var cleanUpStateChangeListener=$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams){"inventoryManage.editHost"===toState.name?($scope.rowBeingEdited=toParams.host_id,$scope.listBeingEdited="hosts"):(delete $scope.rowBeingEdited,delete $scope.listBeingEdited)});$scope.$on("$destroy",function(){cleanUpStateChangeListener()})}]}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$state","$stateParams","InventoryGroups","generateList","InventoryUpdate","GroupManageService","GroupsCancelUpdate","ViewUpdateStatus","rbacUiControlService","GetBasePath","InventoryManageService","groupsUrl","GetSyncStatusMsg","GetHostsStatusMsg","groupsDataset","Find","QuerySet",function($scope,$rootScope,$state,$stateParams,InventoryGroups,generateList,InventoryUpdate,GroupManageService,GroupsCancelUpdate,ViewUpdateStatus,rbacUiControlService,GetBasePath,InventoryManageService,groupsUrl,GetSyncStatusMsg,GetHostsStatusMsg,groupsDataset,Find,qs){function init(){$scope.inventory_id=$stateParams.inventory_id,$scope.canAdd=!1,rbacUiControlService.canAdd(GetBasePath("inventory")+$scope.inventory_id+"/groups").then(function(canAdd){$scope.canAdd=canAdd}),$scope.list=list,$scope[list.iterator+"_dataset"]=groupsDataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.ncyBreadcrumbIgnore=!0,"inventoryManage.editGroup"===$state.current.name&&($scope.rowBeingEdited=$state.params.group_id,$scope.listBeingEdited="groups"),$scope.inventory_id=$stateParams.inventory_id,_.forEach($scope[list.name],buildStatusIndicators)}function buildStatusIndicators(group){void 0!==group&&null!==group||(group={});var group_status=void 0,hosts_status=void 0;group_status=GetSyncStatusMsg({status:group.summary_fields.inventory_source.status,has_inventory_sources:group.has_inventory_sources,source:group.summary_fields.inventory_source?group.summary_fields.inventory_source.source:null}),hosts_status=GetHostsStatusMsg({active_failures:group.hosts_with_active_failures,total_hosts:group.total_hosts,inventory_id:$scope.inventory_id,group_id:group.id}),_.assign(group,{status_class:group_status.class},{status_tooltip:group_status.tooltip},{launch_tooltip:group_status.launch_tip},{launch_class:group_status.launch_class},{group_schedule_tooltip:group_status.schedule_tip},{hosts_status_tip:hosts_status.tooltip},{hosts_status_class:hosts_status.class},{source:group.summary_fields.inventory_source?group.summary_fields.inventory_source.source:null},{status:group.summary_fields.inventory_source?group.summary_fields.inventory_source.status:null})}var list=InventoryGroups;init(),$scope.groupSelect=function(id){var group=void 0===$stateParams.group?[id]:_($stateParams.group).concat(id).value();$state.go("inventoryManage",{inventory_id:$stateParams.inventory_id,group:group,group_search:{page_size:"20",page:"1",order_by:"name"}},{reload:!0})},$scope.createGroup=function(){$state.go("inventoryManage.addGroup")},$scope.editGroup=function(id){$state.go("inventoryManage.editGroup",{group_id:id})},$scope.deleteGroup=function(group){$scope.toDelete={},angular.extend($scope.toDelete,group),0===$scope.toDelete.total_groups&&0===$scope.toDelete.total_hosts&&($scope.deleteOption="delete"),$("#group-delete-modal").modal("show")},$scope.confirmDelete=function(){switch($("#group-delete-modal").off("hidden.bs.modal").on("hidden.bs.modal",function(){$("#group-delete-modal").off("hidden.bs.modal"),$state.go("inventoryManage",null,{reload:!0})}),$scope.deleteOption){case"promote":GroupManageService.promote($scope.toDelete.id,$stateParams.inventory_id).then(function(){parseInt($state.params.group_id)===$scope.toDelete.id?$state.go("inventoryManage",null,{reload:!0}):$state.go($state.current,null,{reload:!0}),$("#group-delete-modal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()});break;default:GroupManageService.delete($scope.toDelete.id).then(function(){parseInt($state.params.group_id)===$scope.toDelete.id?$state.go("inventoryManage",null,{reload:!0}):$state.go($state.current,null,{reload:!0}),$("#group-delete-modal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})}},$scope.updateGroup=function(group){GroupManageService.getInventorySource({group:group.id}).then(function(res){return InventoryUpdate({scope:$scope,group_id:group.id,url:res.data.results[0].related.update,group_name:group.name,group_source:res.data.results[0].source})})},$scope.$on("ws-jobs",function(e,data){var group=Find({list:$scope.groups,key:"id",val:data.group_id});if(void 0!==group&&null!==group||(group={}),"failed"===data.status||"successful"===data.status){var path=void 0;path=$stateParams&&$stateParams.group&&$stateParams.group.length>0?GetBasePath("groups")+_.last($stateParams.group)+"/children":GetBasePath("inventory")+$stateParams.inventory_id+"/root_groups",qs.search(path,$state.params[list.iterator+"_search"]).then(function(searchResponse){$scope[list.iterator+"_dataset"]=searchResponse.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,_.forEach($scope[list.name],buildStatusIndicators)})}else{var status=GetSyncStatusMsg({status:data.status,has_inventory_sources:group.has_inventory_sources,source:group.source});group.status=data.status,group.status_class=status.class,group.status_tooltip=status.tooltip,group.launch_tooltip=status.launch_tip,group.launch_class=status.launch_class}}),$scope.cancelUpdate=function(id){GroupsCancelUpdate({scope:$scope,id:id})},$scope.viewUpdateStatus=function(id){ViewUpdateStatus({scope:$scope,group_id:id})},$scope.showFailedHosts=function(){$state.go("inventoryManage",{failed:!0},{reload:!0})},$scope.scheduleGroup=function(id){var groupsArr=$stateParams.group?$stateParams.group:[];groupsArr.push(id),$state.go("inventoryManage.editGroup.schedules",{group_id:id,group:groupsArr},{reload:!0})},$scope.$on("multiSelectList.selectionChanged",function(event,selection){$scope.$parent.groupsSelected=selection.length>0,$scope.$parent.groupsSelectedItems=selection.selectedItems}),$scope.copyMoveGroup=function(id){$state.go("inventoryManage.copyMoveGroup",{group_id:id,groups:$stateParams.groups})};var cleanUpStateChangeListener=$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams){"inventoryManage.editGroup"===toState.name?($scope.rowBeingEdited=toParams.group_id,$scope.listBeingEdited="groups"):(delete $scope.rowBeingEdited,delete $scope.listBeingEdited)});$scope.$on("$destroy",function(){cleanUpStateChangeListener()})}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.copyMoveHostRoute=exports.copyMoveGroupRoute=void 0;var _templateUrl=__webpack_require__(116),_i18n=__webpack_require__(172),_copyMoveGroups=__webpack_require__(456),_copyMoveGroups2=_interopRequireDefault(_copyMoveGroups),_copyMoveHosts=__webpack_require__(457),_copyMoveHosts2=_interopRequireDefault(_copyMoveHosts),_copyMoveList=__webpack_require__(464),_copyMoveList2=_interopRequireDefault(_copyMoveList),copyMoveGroupRoute={name:"inventoryManage.copyMoveGroup",url:"/copy-move-group/{group_id:int}",searchPrefix:"copy",data:{group_id:"group_id"},params:{copy_search:{value:{not__id__in:null},dynamic:!0,squash:""}},ncyBreadcrumb:{label:(0,_i18n.N_)("COPY OR MOVE")+" {{item.name}}"},resolve:{Dataset:["CopyMoveGroupList","QuerySet","$stateParams","GetBasePath","group",function(list,qs,$stateParams,GetBasePath,group){$stateParams.copy_search.not__id__in=$stateParams.group&&$stateParams.group.length>0?group.id+","+_.last($stateParams.group):group.id.toString();var path=GetBasePath("inventory")+$stateParams.inventory_id+"/groups/";return qs.search(path,$stateParams.copy_search)}],group:["GroupManageService","$stateParams",function(GroupManageService,$stateParams){return GroupManageService.get({id:$stateParams.group_id}).then(function(res){return res.data.results[0]})}]},views:{"form@inventoryManage":{controller:_copyMoveGroups2.default,templateUrl:(0,_templateUrl.templateUrl)("inventories/manage/copy-move/copy-move")},"copyMoveList@inventoryManage.copyMoveGroup":{templateProvider:function(CopyMoveGroupList,generateList){var html=generateList.build({list:CopyMoveGroupList,mode:"lookup",input_type:"radio"});return html},controller:_copyMoveList2.default}}},copyMoveHostRoute={name:"inventoryManage.copyMoveHost",url:"/copy-move-host/{host_id}",searchPrefix:"copy",ncyBreadcrumb:{label:(0,_i18n.N_)("COPY OR MOVE")+" {{item.name}}"},resolve:{Dataset:["CopyMoveGroupList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath("inventory")+$stateParams.inventory_id+"/groups/";return qs.search(path,$stateParams.copy_search)}],host:["HostManageService","$stateParams",function(HostManageService,$stateParams){return HostManageService.get({id:$stateParams.host_id
}).then(function(res){return res.data.results[0]})}]},views:{"form@inventoryManage":{templateUrl:(0,_templateUrl.templateUrl)("inventories/manage/copy-move/copy-move"),controller:_copyMoveHosts2.default},"copyMoveList@inventoryManage.copyMoveHost":{templateProvider:function(CopyMoveGroupList,generateList,$stateParams,GetBasePath){var list=CopyMoveGroupList;list.basePath=GetBasePath("inventory")+$stateParams.inventory_id+"/groups/";var html=generateList.build({list:CopyMoveGroupList,mode:"lookup",input_type:"radio"});return html},controller:_copyMoveList2.default}}};exports.copyMoveGroupRoute=copyMoveGroupRoute,exports.copyMoveHostRoute=copyMoveHostRoute}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","CopyMoveGroupList","Dataset",function($scope,list,Dataset){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.$watch("groups",function(){$scope.selectedGroup&&$scope.groups.forEach(function(row,i){row.id===$scope.selectedGroup.id?$scope.groups[i].checked=1:$scope.groups[i].checked=0})})}init(),$scope.toggle_row=function(id){_.forEach($scope.groups,function(item){item.id===id?(item.checked=1,$scope.selectedGroup=item,$scope.updateSelected(item)):item.checked=null})}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_i18n=__webpack_require__(172);exports.default={url:"/adhoc",params:{pattern:{value:"all",squash:!0}},name:"inventoryManage.adhoc",views:{"form@inventoryManage":{templateUrl:(0,_templateUrl.templateUrl)("inventories/manage/adhoc/adhoc"),controller:"adhocController"}},ncyBreadcrumb:{label:(0,_i18n.N_)("RUN COMMAND")}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(467),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(469),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(471),_main6=_interopRequireDefault(_main5),_inventoryScripts=__webpack_require__(473),_inventoryScripts2=_interopRequireDefault(_inventoryScripts),_inventoryScripts3=__webpack_require__(474),_inventoryScripts4=_interopRequireDefault(_inventoryScripts3),_i18n=__webpack_require__(172);exports.default=angular.module("inventoryScripts",[_main2.default.name,_main4.default.name,_main6.default.name]).factory("InventoryScriptsList",_inventoryScripts2.default).factory("InventoryScriptsForm",_inventoryScripts4.default).config(["$stateProvider","stateDefinitionsProvider",function($stateProvider,stateDefinitionsProvider){var stateDefinitions=stateDefinitionsProvider.$get();$stateProvider.state({name:"inventoryScripts",url:"/inventory_script",lazyLoad:function(){return stateDefinitions.generateTree({parent:"inventoryScripts",modes:["add","edit"],list:"InventoryScriptsList",form:"InventoryScriptsForm",controllers:{list:"InventoryScriptsListController",add:"InventoryScriptsAddController",edit:"InventoryScriptsEditController"},resolve:{edit:{inventory_scriptData:["$state","$stateParams","Rest","GetBasePath","ProcessErrors",function($state,$stateParams,rest,getBasePath,ProcessErrors){var inventoryScriptId=$stateParams.inventory_script_id,url=getBasePath("inventory_scripts")+inventoryScriptId+"/";return rest.setUrl(url),rest.get().then(function(data){return data.data}).catch(function(response){ProcessErrors(null,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get inventory script info. GET returned status: "+response.status})})}]}},data:{activityStream:!0,activityStreamTarget:"custom_inventory_script"},ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("INVENTORY SCRIPTS")}})}})}])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _list=__webpack_require__(468),_list2=_interopRequireDefault(_list);exports.default=angular.module("inventoryScriptsList",[]).controller("InventoryScriptsListController",_list2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","$scope","Wait","generateList","InventoryScriptsList","GetBasePath","Rest","ProcessErrors","Prompt","$state","$filter","Dataset","rbacUiControlService",function($rootScope,$scope,Wait,GenerateList,InventoryScriptsList,GetBasePath,Rest,ProcessErrors,Prompt,$state,$filter,Dataset,rbacUiControlService){function init(){$scope.canAdd=!1,rbacUiControlService.canAdd("inventory_scripts").then(function(canAdd){$scope.canAdd=canAdd}),$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results}var defaultUrl=GetBasePath("inventory_scripts"),list=InventoryScriptsList;init(),$rootScope.addedItem&&($scope.addedItem=$rootScope.addedItem,delete $rootScope.addedItem),$scope.editCustomInv=function(){$state.go("inventoryScripts.edit",{inventory_script_id:this.inventory_script.id})},$scope.deleteCustomInv=function(id,name){var action=function(){$("#prompt-modal").modal("hide"),Wait("start");var url=defaultUrl+id+"/";Rest.setUrl(url),Rest.destroy().success(function(){parseInt($state.params.inventory_script_id)===id?$state.go("^",null,{reload:!0}):$state.go(".",null,{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned status: "+status})})},bodyHtml='<div class="Prompt-bodyQuery">Are you sure you want to delete the inventory script below?</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>";Prompt({hdr:"Delete",body:bodyHtml,action:action,actionText:"DELETE"})},$scope.addCustomInv=function(){$state.go("inventoryScripts.add")}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _add=__webpack_require__(470),_add2=_interopRequireDefault(_add);exports.default=angular.module("inventoryScriptsAdd",[]).controller("InventoryScriptsAddController",_add2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","Rest","Wait","InventoryScriptsForm","ProcessErrors","GetBasePath","Empty","GenerateForm","$scope","$state","Alert",function($rootScope,Rest,Wait,InventoryScriptsForm,ProcessErrors,GetBasePath,Empty,GenerateForm,$scope,$state,Alert){function init(){Rest.setUrl(url),Rest.options().success(function(data){data.actions.POST||($state.go("^"),Alert("Permission Error","You do not have permission to add an inventory script.","alert-info"))}),GenerateForm.applyDefaults(form,$scope),$scope.canEdit=!0}var form=InventoryScriptsForm,url=GetBasePath("inventory_scripts");init(),$scope.formSave=function(){Wait("start"),Rest.setUrl(url),Rest.post({name:$scope.name,description:$scope.description,organization:$scope.organization,script:$scope.script}).success(function(data){$state.go("inventoryScripts.edit",{inventory_script_id:data.id},{reload:!0}),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to add new inventory script. POST returned status: "+status})})},$scope.formCancel=function(){$state.go("^")}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _edit=__webpack_require__(472),_edit2=_interopRequireDefault(_edit);exports.default=angular.module("inventoryScriptsEdit",[]).controller("InventoryScriptsEditController",_edit2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Rest","Wait","InventoryScriptsForm","ProcessErrors","GetBasePath","GenerateForm","OrganizationList","inventory_scriptData","$scope","$state",function(Rest,Wait,InventoryScriptsForm,ProcessErrors,GetBasePath,GenerateForm,OrganizationList,inventory_scriptData,$scope,$state){function init(){$scope.inventory_script=inventory_scriptData,$scope.$watch("inventory_script_obj.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAdd=!1)});var fld;for(fld in form.fields)data[fld]&&($scope[fld]=data[fld],master[fld]=data[fld]),form.fields[fld].sourceModel&&data.summary_fields&&data.summary_fields[form.fields[fld].sourceModel]&&($scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField],master[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField])}var generator=GenerateForm,data=inventory_scriptData,id=inventory_scriptData.id,form=InventoryScriptsForm,master={},url=GetBasePath("inventory_scripts");init(),$scope.formSave=function(){generator.clearApiErrors($scope),Wait("start"),Rest.setUrl(url+id+"/"),Rest.put({name:$scope.name,description:$scope.description,organization:$scope.organization,script:$scope.script}).success(function(){$state.go($state.current,null,{reload:!0}),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to add new inventory script. PUT returned status: "+status})})},$scope.formCancel=function(){$state.go("inventoryScripts")}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"inventory_scripts",listTitle:i18n._("INVENTORY SCRIPTS"),iterator:"inventory_script",index:!1,hover:!1,fields:{name:{key:!0,label:i18n._("Name"),columnClass:"col-md-3 col-sm-9 col-xs-9",modalColumnClass:"col-md-8"},description:{label:i18n._("Description"),excludeModal:!0,columnClass:"col-md-4 hidden-sm hidden-xs"},organization:{label:i18n._("Organization"),ngBind:"inventory_script.summary_fields.organization.name",sourceModel:"organization",sourceField:"name",excludeModal:!0,columnClass:"col-md-3 hidden-sm hidden-xs"}},actions:{add:{mode:"all",ngClick:"addCustomInv()",awToolTip:i18n._("Create a new custom inventory"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"canAdd"}},fieldActions:{columnClass:"col-md-2 col-sm-3 col-xs-3",edit:{ngClick:"editCustomInv(inventory_script.id)",icon:"fa-edit",label:i18n._("Edit"),class:"btn-sm",awToolTip:i18n._("Edit inventory script"),dataPlacement:"top",ngShow:"inventory_script.summary_fields.user_capabilities.edit"},view:{ngClick:"editCustomInv(inventory_script.id)",label:i18n._("View"),class:"btn-sm",awToolTip:i18n._("View inventory script"),dataPlacement:"top",ngShow:"!inventory_script.summary_fields.user_capabilities.edit"},delete:{ngClick:"deleteCustomInv(inventory_script.id, inventory_script.name)",icon:"fa-trash",label:i18n._("Delete"),class:"btn-sm",awToolTip:i18n._("Delete inventory script"),dataPlacement:"top",ngShow:"inventory_script.summary_fields.user_capabilities.delete"}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{addTitle:i18n._("NEW CUSTOM INVENTORY"),editTitle:"{{ name }}",name:"inventory_script",basePath:"inventory_scripts",stateTree:"inventoryScripts",breadcrumbName:i18n._("INVENTORY SCRIPT"),showActions:!0,fields:{name:{label:i18n._("Name"),type:"text",ngDisabled:"!(inventory_script_obj.summary_fields.user_capabilities.edit || canAdd)",required:!0,capitalize:!1},description:{label:i18n._("Description"),type:"text",ngDisabled:"!(inventory_script_obj.summary_fields.user_capabilities.edit || canAdd)"},organization:{label:i18n._("Organization"),type:"lookup",list:"OrganizationList",basePath:"organizations",awRequiredWhen:{reqExpression:"orgrequired",init:!0},sourceModel:"organization",sourceField:"name",ngDisabled:"!(inventory_script_obj.summary_fields.user_capabilities.edit || canAdd)"},script:{label:i18n._("Custom Script"),type:"textarea",class:"Form-formGroup--fullWidth",elementClass:"Form-monospace",required:!0,awDropFile:!0,ngDisabled:"!(inventory_script_obj.summary_fields.user_capabilities.edit || canAdd)",ngTrim:!1,rows:10,awPopOver:"<p>"+i18n._("Drag and drop your custom inventory script file here or create one in the field to import your custom inventory.")+" <br><br> "+i18n.sprintf(i18n._("Script must begin with a hashbang sequence: i.e.... %s"),"#!/usr/bin/env python")+"</p>",dataTitle:i18n._("Custom Script"),dataPlacement:"right",dataContainer:"body"}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(inventory_script_obj.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(inventory_script_obj.summary_fields.user_capabilities.edit || canAdd)"},save:{ngClick:"formSave()",ngDisabled:"inventory_script_form.$invalid",ngShow:"(inventory_script_obj.summary_fields.user_capabilities.edit || canAdd)"}}}}]},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_organizationsList=__webpack_require__(476),_organizationsList2=_interopRequireDefault(_organizationsList),_organizationsAdd=__webpack_require__(477),_organizationsAdd2=_interopRequireDefault(_organizationsAdd),_organizationsEdit=__webpack_require__(478),_organizationsEdit2=_interopRequireDefault(_organizationsEdit),_main=__webpack_require__(479),_main2=_interopRequireDefault(_main),_organizationsLinkout=__webpack_require__(483),_organizationsLinkout2=_interopRequireDefault(_organizationsLinkout),_i18n=__webpack_require__(172);exports.default=angular.module("Organizations",[_main2.default.name]).controller("OrganizationsList",_organizationsList2.default).controller("OrganizationsAdd",_organizationsAdd2.default).controller("OrganizationsEdit",_organizationsEdit2.default).config(["$stateProvider","stateDefinitionsProvider","$stateExtenderProvider",function($stateProvider,stateDefinitionsProvider,$stateExtenderProvider){var stateExtender=$stateExtenderProvider.$get(),stateDefinitions=stateDefinitionsProvider.$get();$stateProvider.state({name:"organizations",url:"/organizations",data:{activityStream:!0,activityStreamTarget:"organization"},lazyLoad:function(){return stateDefinitions.generateTree({parent:"organizations",modes:["add","edit"],list:"OrganizationList",form:"OrganizationForm",controllers:{list:"OrganizationsList",add:"OrganizationsAdd",edit:"OrganizationsEdit"},templates:{list:(0,_templateUrl.templateUrl)("organizations/list/organizations-list")},ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("ORGANIZATIONS")}}).then(function(generated){var linkoutDefinitions=_.map(_organizationsLinkout2.default,function(state){return stateExtender.buildDefinition(state)});return{states:_(generated.states).concat(linkoutDefinitions).value()}})}})}])}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$stateParams","$scope","$rootScope","$location","$log","$compile","Rest","OrganizationList","Alert","Prompt","ClearScope","ProcessErrors","GetBasePath","Wait","$state","rbacUiControlService","$filter","Dataset","i18n",function($stateParams,$scope,$rootScope,$location,$log,$compile,Rest,OrganizationList,Alert,Prompt,ClearScope,ProcessErrors,GetBasePath,Wait,$state,rbacUiControlService,$filter,Dataset,i18n){function init(){$scope.canAdd=!1,rbacUiControlService.canAdd("organizations").then(function(canAdd){$scope.canAdd=canAdd}),$scope.orgCount=Dataset.data.count,$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.orgCards=parseCardData($scope[list.name]),$rootScope.flashMessage=null,$("#organization-pagination").appendTo("#OrgCards"),$("#organizations tag-search").appendTo(".OrgCards-search"),$("#organizations-list").remove()}function parseCardData(cards){return cards.map(function(card){var val={},url="/#/organizations/"+card.id+"/";return val.user_capabilities=card.summary_fields.user_capabilities,val.name=card.name,val.id=card.id,val.description=card.description||void 0,val.links=[],val.links.push({href:url+"users",name:"USERS",count:card.summary_fields.related_field_counts.users,activeMode:"users"}),val.links.push({href:url+"teams",name:"TEAMS",count:card.summary_fields.related_field_counts.teams,activeMode:"teams"}),val.links.push({href:url+"inventories",name:"INVENTORIES",count:card.summary_fields.related_field_counts.inventories,activeMode:"inventories"}),val.links.push({href:url+"projects",name:"PROJECTS",count:card.summary_fields.related_field_counts.projects,activeMode:"projects"}),val.links.push({href:url+"job_templates",name:"JOB TEMPLATES",count:card.summary_fields.related_field_counts.job_templates,activeMode:"job_templates"}),val.links.push({href:url+"admins",name:"ADMINS",count:card.summary_fields.related_field_counts.admins,activeMode:"admins"}),val})}function isDeletedOrganizationBeingEdited(deleted_organization_id,editing_organization_id){return void 0!==editing_organization_id&&deleted_organization_id===editing_organization_id}ClearScope();var defaultUrl=GetBasePath("organizations"),list=OrganizationList;init(),$scope.$on("ReloadOrgListView",function(){Rest.setUrl($scope.current_url),Rest.get().success(function(data){return $scope.organizations=data.results}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+defaultUrl+" failed. DELETE returned status: "+status})})}),$scope.$watchCollection("organizations",function(value){$scope.orgCards=parseCardData(value)}),$scope.removePostRefresh&&$scope.removePostRefresh(),$scope.$watchCollection(list.iterator+"_dataset",function(data){$scope[list.name]=data.results,$scope.orgCards=parseCardData($scope[list.name])}),$scope.addOrganization=function(){$state.transitionTo("organizations.add")},$scope.editOrganization=function(id){$state.transitionTo("organizations.edit",{organization_id:id})},$scope.deleteOrganization=function(id,name){var action=function(){$("#prompt-modal").modal("hide"),Wait("start");var url=defaultUrl+id+"/";Rest.setUrl(url),Rest.destroy().success(function(){Wait("stop"),isDeletedOrganizationBeingEdited(id,parseInt($stateParams.organization_id))===!0?$state.go("^",null,{reload:!0}):$state.reload("organizations")}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned status: "+status})})};Prompt({hdr:i18n._("Delete"),body:'<div class="Prompt-bodyQuery">'+i18n._("Are you sure you want to delete the organization below?")+'</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>",action:action,actionText:i18n._("DELETE")})}}]}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$location","$stateParams","OrganizationForm","GenerateForm","Rest","Alert","ProcessErrors","ClearScope","GetBasePath","Wait","$state",function($scope,$rootScope,$location,$stateParams,OrganizationForm,GenerateForm,Rest,Alert,ProcessErrors,ClearScope,GetBasePath,Wait,$state){function init(){$scope.$emit("HideOrgListHeader"),GenerateForm.applyDefaults(form,$scope)}Rest.setUrl(GetBasePath("organizations")),Rest.options().success(function(data){data.actions.POST||($state.go("^"),Alert("Permission Error","You do not have permission to add an organization.","alert-info"))}),ClearScope();var form=OrganizationForm(),base=$location.path().replace(/^\//,"").split("/")[0];init(),$scope.formSave=function(){Wait("start");var url=GetBasePath(base);url+="organizations"!==base?$stateParams.project_id+"/organizations/":"",Rest.setUrl(url),Rest.post({name:$scope.name,description:$scope.description}).success(function(data){Wait("stop"),$rootScope.$broadcast("EditIndicatorChange","organizations",data.id),$state.go("organizations.edit",{organization_id:data.id},{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to add new organization. Post returned status: "+status})})},$scope.formCancel=function(){$scope.$emit("ShowOrgListHeader"),$state.go("organizations")}}]},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$location","$log","$stateParams","OrganizationForm","Rest","Alert","ProcessErrors","Prompt","ClearScope","GetBasePath","Wait","$state","ToggleNotification",function($scope,$rootScope,$location,$log,$stateParams,OrganizationForm,Rest,Alert,ProcessErrors,Prompt,ClearScope,GetBasePath,Wait,$state,ToggleNotification){function init(){$scope.$watch("organization_obj.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAdd=!1)}),$scope.$emit("HideOrgListHeader"),$scope.organization_id=id}ClearScope();var form=OrganizationForm(),defaultUrl=GetBasePath("organizations"),base=$location.path().replace(/^\//,"").split("/")[0],master={},id=$stateParams.organization_id;init(),Wait("start"),Rest.setUrl(defaultUrl+id+"/"),Rest.get().success(function(data){var fld;$scope.organization_name=data.name;for(fld in form.fields)data[fld]&&($scope[fld]=data[fld],master[fld]=data[fld]);$scope.organization_obj=data,$scope.$emit("organizationLoaded"),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to retrieve organization: "+$stateParams.id+". GET status: "+status})}),$scope.toggleNotification=function(event,id,column){var notifier=this.notification;try{$(event.target).tooltip("hide")}catch(e){}ToggleNotification({scope:$scope,url:defaultUrl,id:$scope.organization_id,notifier:notifier,column:column,callback:"NotificationRefresh"})},$scope.formSave=function(){var fld,params={};Wait("start");for(fld in form.fields)params[fld]=$scope[fld];Rest.setUrl(defaultUrl+id+"/"),Rest.put(params).success(function(){Wait("stop"),$scope.organization_name=$scope.name,master=params,$state.go($state.current,{},{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,OrganizationForm,{hdr:"Error!",msg:"Failed to update organization: "+id+". PUT status: "+status})})},$scope.formCancel=function(){$state.go("organizations"),$scope.$emit("ShowOrgListHeader")},$scope.add=function(set){$location.path("/"+base+"/"+$stateParams.organization_id+"/"+set)},$scope.edit=function(set,id){$location.path("/"+set+"/"+id)},$scope.delete=function(set,itm_id,name,title){var action=function(){Wait("start");var url=defaultUrl+$stateParams.organization_id+"/"+set+"/";Rest.setUrl(url),Rest.post({id:itm_id,disassociate:1}).success(function(){$("#prompt-modal").modal("hide")}).error(function(data,status){$("#prompt-modal").modal("hide"),ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. POST returned status: "+status})})};Prompt({hdr:"Delete",body:'<div class="Prompt-bodyQuery">Are you sure you want to remove the '+title+" below from "+$scope.name+'?</div><div class="Prompt-bodyTarget">'+name+"</div>",action:action,actionText:"DELETE"})}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(480),_main2=_interopRequireDefault(_main);exports.default=angular.module("organizationsLinkout",[_main2.default.name])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _addUsers=__webpack_require__(481),_addUsers2=_interopRequireDefault(_addUsers);exports.default=angular.module("AddUsers",[]).directive("addUsers",_addUsers2.default)},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _addUsers=__webpack_require__(482),_addUsers2=_interopRequireDefault(_addUsers);exports.default=["Wait","templateUrl","$state","$view","$compile",function(Wait,templateUrl,$state,$view,$compile){return{restrict:"E",scope:{addUsersType:"@"},controller:_addUsers2.default,templateUrl:templateUrl("organizations/linkout/addUsers/addUsers"),link:function(scope,element,attrs,ctrl){$("body").addClass("is-modalOpen"),$("body").append(element),Wait("start"),scope.$broadcast("linkLists"),setTimeout(function(){$("#add-users-modal").modal("show")},200),$(".modal[aria-hidden=false]").each(function(){"add-users-modal"!==$(this).attr("id")&&$(this).modal("hide")}),scope.closeModal=function(){$("body").removeClass("is-modalOpen"),$("#add-users-modal").on("hidden.bs.modal",function(){$(".AddUsers").remove()}),$("#add-users-modal").modal("hide")},scope.$on("closeUsersModal",function(){scope.closeModal()}),scope.compileList=function(html){$("#add-users-list").append($compile(html)(scope))},Wait("stop"),window.scrollTo(0,0)}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","ProcessErrors","GetBasePath","generateList","SelectionInit","templateUrl","$state","Rest","$q","Wait","$window","QuerySet","UserList",function($scope,$rootScope,ProcessErrors,GetBasePath,generateList,SelectionInit,templateUrl,$state,Rest,$q,Wait,$window,qs,UserList){$scope.$on("linkLists",function(){function init(){$scope.add_user_default_params={order_by:"username",page_size:5},$scope.add_user_queryset={order_by:"username",page_size:5};var list=_.cloneDeep(UserList);list.basePath="users",list.iterator="add_user",list.name="add_users",list.multiSelect=!0,list.fields.username.ngClick="linkoutUser(add_user.id)",delete list.actions,delete list.fieldActions,qs.search(GetBasePath("users"),$scope.add_user_default_params).then(function(res){$scope.add_user_dataset=res.data,$scope.add_users=$scope.add_user_dataset.results;var html=generateList.build({list:list,mode:"edit",title:!1});$scope.list=list,$scope.compileList(html),$scope.$watchCollection("add_users",function(){$scope.selectedItems&&$scope.add_users.forEach(function(row,i){_.includes($scope.selectedItems,row.id)&&($scope.add_users[i].isSelected=!0)})})}),$scope.selectedItems=[],$scope.$on("selectedOrDeselected",function(e,value){var item=value.value;value.isSelected?$scope.selectedItems.push(item.id):$scope.selectedItems=_.remove($scope.selectedItems,function(selectedItem){return selectedItem!==item.id})})}"users"===$state.current.name.split(".")[1]?$scope.addType="Users":$scope.addType="Administrators",init(),$scope.updateUsers=function(){var url,listToClose,payloads=$scope.selectedItems.map(function(val){return{id:val}});url=$scope.$parent.orgRelatedUrls[$scope.addUsersType],Wait("start");var requests=payloads.map(function(post){return Rest.setUrl(url),Rest.post(post)});$q.all(requests).then(function(){$scope.closeModal(),$state.reload()},function(error){Wait("stop"),$rootScope.$broadcast("refreshList",listToClose),ProcessErrors(null,error.data,error.status,null,{hdr:"Error!",msg:"Failed to post "+$scope.addType+": POST returned status"+error.status})})},$scope.linkoutUser=function(userId){$window.open("/#/users/"+userId,"_blank")}})}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _organizationsAdmins=__webpack_require__(484),_organizationsAdmins2=_interopRequireDefault(_organizationsAdmins),_organizationsInventories=__webpack_require__(485),_organizationsInventories2=_interopRequireDefault(_organizationsInventories),_organizationsJobTemplates=__webpack_require__(486),_organizationsJobTemplates2=_interopRequireDefault(_organizationsJobTemplates),_organizationsProjects=__webpack_require__(487),_organizationsProjects2=_interopRequireDefault(_organizationsProjects),_organizationsTeams=__webpack_require__(488),_organizationsTeams2=_interopRequireDefault(_organizationsTeams),_organizationsUsers=__webpack_require__(489),_organizationsUsers2=_interopRequireDefault(_organizationsUsers),_i18n=__webpack_require__(172);exports.default=[{name:"organizations.users",url:"/:organization_id/users",searchPrefix:"user",views:{form:{controller:_organizationsUsers2.default,templateProvider:function(OrgUserList,generateList){var html=generateList.build({list:OrgUserList,mode:"edit",cancelButton:!0});return generateList.wrapPanel(html)}}},params:{user_search:{value:{order_by:"username"}}},ncyBreadcrumb:{parent:"organizations.edit",label:(0,_i18n.N_)("USERS")},data:{activityStream:!0,activityStreamTarget:"organization"},resolve:{features:["FeaturesService",function(FeaturesService){return FeaturesService.get()}],OrgUsersDataset:["OrgUserList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||list.basePath;return qs.search(path,$stateParams.user_search)}],OrgUserList:["UserList","GetBasePath","$stateParams",function(UserList,GetBasePath,$stateParams){var list=_.cloneDeep(UserList);return delete list.actions.add,list.basePath=""+GetBasePath("organizations")+$stateParams.organization_id+"/users",list.searchRowActions={add:{buttonContent:"&#43; ADD user",awToolTip:"Add existing user to organization",actionClass:"btn List-buttonSubmit",ngClick:"addUsers()"}},list.searchSize="col-lg-12 col-md-12 col-sm-12 col-xs-12",list}]}},{name:"organizations.teams",url:"/:organization_id/teams",searchPrefix:"team",views:{form:{controller:_organizationsTeams2.default,templateProvider:function(OrgTeamList,generateList){var html=generateList.build({list:OrgTeamList,mode:"edit",cancelButton:!0});return generateList.wrapPanel(html)}}},data:{activityStream:!0,activityStreamTarget:"organization"},ncyBreadcrumb:{parent:"organizations.edit",label:(0,_i18n.N_)("TEAMS")},resolve:{features:["FeaturesService",function(FeaturesService){return FeaturesService.get()}],OrgTeamList:["TeamList","GetBasePath","$stateParams",function(TeamList,GetBasePath,$stateParams){var list=_.cloneDeep(TeamList);return delete list.actions.add,delete list.fieldActions.delete,list.basePath=""+GetBasePath("organizations")+$stateParams.organization_id+"/teams",list.emptyListText="This list is populated by teams added from the&nbsp;<a ui-sref='teams.add'>Teams</a>&nbsp;section",list.searchSize="col-lg-12 col-md-12 col-sm-12 col-xs-12",list}],OrgTeamsDataset:["OrgTeamList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||list.basePath;return qs.search(path,$stateParams.team_search)}]}},{name:"organizations.inventories",url:"/:organization_id/inventories",searchPrefix:"inventory",views:{form:{controller:_organizationsInventories2.default,templateProvider:function(OrgInventoryList,generateList){var html=generateList.build({list:OrgInventoryList,mode:"edit",cancelButton:!0});return generateList.wrapPanel(html)}}},data:{activityStream:!0,activityStreamTarget:"organization"},ncyBreadcrumb:{parent:"organizations.edit",
label:(0,_i18n.N_)("INVENTORIES")},resolve:{features:["FeaturesService",function(FeaturesService){return FeaturesService.get()}],OrgInventoryList:["InventoryList","GetBasePath","$stateParams",function(InventoryList,GetBasePath,$stateParams){var list=_.cloneDeep(InventoryList);return delete list.actions.add,delete list.fieldActions.delete,list.basePath=""+GetBasePath("organizations")+$stateParams.organization_id+"/inventories",list.emptyListText="This list is populated by inventories added from the&nbsp;<a ui-sref='inventories.add'>Inventories</a>&nbsp;section",list.searchSize="col-lg-12 col-md-12 col-sm-12 col-xs-12",list}],OrgInventoryDataset:["OrgInventoryList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||list.basePath;return qs.search(path,$stateParams.inventory_search)}]}},{name:"organizations.projects",url:"/:organization_id/projects",searchPrefix:"project",views:{form:{controller:_organizationsProjects2.default,templateProvider:function(OrgProjectList,generateList){var html=generateList.build({list:OrgProjectList,mode:"edit",cancelButton:!0});return generateList.wrapPanel(html)}}},data:{activityStream:!0,activityStreamTarget:"organization",socket:{groups:{jobs:["status_changed"]}}},ncyBreadcrumb:{parent:"organizations.edit",label:(0,_i18n.N_)("PROJECTS")},resolve:{features:["FeaturesService",function(FeaturesService){return FeaturesService.get()}],OrgProjectList:["ProjectList","GetBasePath","$stateParams",function(ProjectList,GetBasePath,$stateParams){var list=_.cloneDeep(ProjectList);return delete list.actions,delete list.fieldActions.delete,list.basePath=""+GetBasePath("organizations")+$stateParams.organization_id+"/projects",list.emptyListText="This list is populated by projects added from the&nbsp;<a ui-sref='projects.add'>Projects</a>&nbsp;section",list.searchSize="col-lg-12 col-md-12 col-sm-12 col-xs-12",list}],OrgProjectDataset:["OrgProjectList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||list.basePath;return qs.search(path,$stateParams.project_search)}]}},{name:"organizations.job_templates",url:"/:organization_id/job_templates",searchPrefix:"job_template",views:{form:{controller:_organizationsJobTemplates2.default,templateProvider:function(OrgJobTemplateList,generateList){var html=generateList.build({list:OrgJobTemplateList,mode:"edit",cancelButton:!0});return generateList.wrapPanel(html)}}},params:{template_search:{value:{or__project__organization:null,or__inventory__organization:null,page_size:20}}},data:{activityStream:!0,activityStreamTarget:"organization",socket:{groups:{jobs:["status_changed"]}}},ncyBreadcrumb:{parent:"organizations.edit",label:(0,_i18n.N_)("JOB TEMPLATES")},resolve:{features:["FeaturesService",function(FeaturesService){return FeaturesService.get()}],OrgJobTemplateList:["TemplateList","GetBasePath","$stateParams",function(TemplateList){var list=_.cloneDeep(TemplateList);return delete list.actions,delete list.fieldActions.delete,delete list.fields.type,list.listTitle=(0,_i18n.N_)("Job Templates"),list.emptyListText="This list is populated by job templates added from the&nbsp;<a ui-sref='templates.addJobTemplate'>Job Templates</a>&nbsp;section",list.searchSize="col-lg-12 col-md-12 col-sm-12 col-xs-12",list.iterator="template",list.name="job_templates",list.basePath="job_templates",list.fields.smart_status.ngInclude="'/static/partials/organizations-job-template-smart-status.html'",list.fields.name.ngHref="#/templates/job_template/{{template.id}}",list.fieldActions.submit.ngClick="submitJob(template.id)",list.fieldActions.schedule.ngClick="scheduleJob(template.id)",list.fieldActions.copy.ngClick="copyTemplate(template.id)",list.fieldActions.edit.ngClick="editJobTemplate(template.id)",list.fieldActions.view.ngClick="editJobTemplate(template.id)",list}],OrgJobTemplateDataset:["OrgJobTemplateList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.name);return $stateParams.template_search.or__project__organization=$stateParams.organization_id,$stateParams.template_search.or__inventory__organization=$stateParams.organization_id,qs.search(path,$stateParams.template_search)}]}},{name:"organizations.admins",url:"/:organization_id/admins",searchPrefix:"user",params:{user_search:{value:{order_by:"username"}},add_user_search:{value:{order_by:"username",page_size:"5"},dynamic:!0,squash:!0}},views:{form:{controller:_organizationsAdmins2.default,templateProvider:function(OrgAdminList,generateList){var html=generateList.build({list:OrgAdminList,mode:"edit",cancelButton:!0});return generateList.wrapPanel(html)}}},data:{activityStream:!0,activityStreamTarget:"organization"},ncyBreadcrumb:{parent:"organizations.edit",label:(0,_i18n.N_)("ADMINS")},resolve:{features:["FeaturesService",function(FeaturesService){return FeaturesService.get()}],OrgAdminsDataset:["OrgAdminList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||list.basePath;return qs.search(path,$stateParams.user_search)}],OrgAdminList:["UserList","GetBasePath","$stateParams",function(UserList,GetBasePath,$stateParams){var list=_.cloneDeep(UserList);return delete list.actions.add,list.basePath=""+GetBasePath("organizations")+$stateParams.organization_id+"/admins",list.searchRowActions={add:{buttonContent:"&#43; ADD administrator",awToolTip:"Add existing user to organization as administrator",actionClass:"btn List-buttonSubmit",ngClick:"addUsers()"}},list.searchSize="col-lg-12 col-md-12 col-sm-12 col-xs-12",list.listTitle="Admins",list}]}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$stateParams","$scope","UserList","Rest","$state","generateList","$compile","Wait","OrgAdminList","OrgAdminsDataset","Prompt","ProcessErrors","GetBasePath","$filter",function($stateParams,$scope,UserList,Rest,$state,GenerateList,$compile,Wait,OrgAdminList,OrgAdminsDataset,Prompt,ProcessErrors,GetBasePath,$filter){function init(){$scope.list=OrgAdminList,$scope.user_dataset=OrgAdminsDataset.data,$scope.users=$scope.user_dataset.results,Rest.setUrl(orgBase+$stateParams.organization_id),Rest.get().success(function(data){$scope.organization_name=data.name,$scope.name=data.name,$scope.org_id=data.id,$scope.orgRelatedUrls=data.related})}var orgBase=GetBasePath("organizations");init(),$scope.addUsers=function(){$compile("<add-users add-users-type='admins' class='AddUsers'></add-users>")($scope)},$scope.editUser=function(id){$state.go("users.edit",{user_id:id})},$scope.deleteUser=function(id,name){var action=function(){$("#prompt-modal").modal("hide"),Wait("start");var url=orgBase+$stateParams.organization_id+"/admins/";Rest.setUrl(url),Rest.post({id:id,disassociate:!0}).success(function(){$state.go(".",null,{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned status: "+status})})};Prompt({hdr:"Delete",body:'<div class="Prompt-bodyQuery">Are you sure you want to remove the following administrator from this organization?</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>",action:action,actionText:"DELETE"})},$scope.formCancel=function(){$state.go("organizations")}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$location","$log","$stateParams","$compile","$filter","sanitizeFilter","Rest","Alert","InventoryList","generateList","Prompt","ReturnToCaller","OrgInventoryDataset","OrgInventoryList","ClearScope","ProcessErrors","GetBasePath","Wait","Find","Empty","$state",function($scope,$rootScope,$location,$log,$stateParams,$compile,$filter,sanitizeFilter,Rest,Alert,InventoryList,generateList,Prompt,ReturnToCaller,Dataset,OrgInventoryList,ClearScope,ProcessErrors,GetBasePath,Wait,Find,Empty,$state){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$rootScope.flashMessage=null,Rest.setUrl(orgBase+$stateParams.organization_id),Rest.get().success(function(data){$scope.organization_name=data.name,$scope.name=data.name,$scope.org_id=data.id,$scope.orgRelatedUrls=data.related}),$scope.$watch("inventories",function(){_.forEach($scope.inventories,buildInventorySyncStatus)})}function buildInventorySyncStatus(item){return item.has_inventory_sources?item.inventory_sources_with_failures>0?(item.syncStatus="error",item.syncTip=item.inventory_sources_with_failures+" groups with sync failures. Click for details"):(item.syncStatus="successful",item.syncTip="No inventory sync failures. Click for details."):(item.syncStatus="na",item.syncTip="Not configured for inventory sync.",item.launch_class="btn-disabled"),item.has_active_failures?(item.hostsStatus="eritemror",item.hostsTip=item.hosts_with_active_failures+" hosts with failures. Click for details."):item.total_hosts?(item.hostsStatus="successful",item.hostsTip="No hosts with failures. Click for details."):(item.hostsStatus="none",item.hostsTip="Inventory contains 0 hosts."),item}function ellipsis(a){return a.length>20?a.substr(0,20)+"...":a}function attachElem(event,html,title){var elem=$(event.target).parent();try{elem.tooltip("hide"),elem.popover("destroy")}catch(err){}$(".popover").each(function(){$(this).remove()}),$(".tooltip").each(function(){$(this).hide()}),elem.attr({"aw-pop-over":html,"data-popover-title":title,"data-placement":"right"}),$compile(elem)($scope),elem.on("shown.bs.popover",function(){$(".popover").each(function(){$compile($(this))($scope)}),$(".popover-content, .popover-title").click(function(){elem.popover("hide")})}),elem.popover("show")}var list=OrgInventoryList,orgBase=GetBasePath("organizations");init(),$scope.removeHostSummaryReady&&$scope.removeHostSummaryReady(),$scope.removeHostSummaryReady=$scope.$on("HostSummaryReady",function(e,event,data){var html,title="Recent Jobs";Wait("stop"),data.count>0?(html='<table class="table table-condensed flyout" style="width: 100%">\n',html+="<thead>\n",html+="<tr>",html+="<th>Status</th>",html+="<th>Finished</th>",html+="<th>Name</th>",html+="</tr>\n",html+="</thead>\n",html+="<tbody>\n",data.results.forEach(function(row){html+="<tr>\n",html+='<td><a href="#/jobs/'+row.id+'" aw-tool-tip="'+row.status.charAt(0).toUpperCase()+row.status.slice(1)+'. Click for details" aw-tip-placement="top"><i class="fa icon-job-'+row.status+'"></i></a></td>\n',html+="<td>"+$filter("longDate")(row.finished).replace(/ /,"<br />")+"</td>",html+='<td><a href="#/jobs/'+row.id+'" aw-tool-tip="'+row.status.charAt(0).toUpperCase()+row.status.slice(1)+'. Click for details" aw-tip-placement="top">'+ellipsis(row.name)+"</a></td>",html+="</tr>\n"}),html+="</tbody>\n",html+="</table>\n"):html="<p>No recent job data available for this inventory.</p>\n",attachElem(event,html,title)}),$scope.removeGroupSummaryReady&&$scope.removeGroupSummaryReady(),$scope.removeGroupSummaryReady=$scope.$on("GroupSummaryReady",function(e,event,inventory,data){var html,title;Wait("stop"),html='<table class="table table-condensed flyout" style="width: 100%">\n',html+="<thead>\n",html+="<tr>",html+="<th>Status</th>",html+="<th>Last Sync</th>",html+="<th>Group</th>",html+="</tr>",html+="</thead>\n",html+="<tbody>\n",data.results.forEach(function(row){row.related.last_update?(html+="<tr>",html+='<td><a href="" ng-click="viewJob(\''+row.related.last_update+'\')" aw-tool-tip="'+row.status.charAt(0).toUpperCase()+row.status.slice(1)+'. Click for details" aw-tip-placement="top"><i class="fa icon-job-'+row.status+'"></i></a></td>',html+="<td>"+$filter("longDate")(row.last_updated).replace(/ /,"<br />")+"</td>",html+='<td><a href="" ng-click="viewJob(\''+row.related.last_update+"')\">"+ellipsis(row.summary_fields.group.name)+"</a></td>",html+="</tr>\n"):(html+="<tr>",html+='<td><a href="" aw-tool-tip="No sync data" aw-tip-placement="top"><i class="fa icon-job-none"></i></a></td>',html+="<td>NA</td>",html+='<td><a href="">'+ellipsis(row.summary_fields.group.name)+"</a></td>",html+="</tr>\n")}),html+="</tbody>\n",html+="</table>\n",title="Sync Status",attachElem(event,html,title)}),$scope.showGroupSummary=function(event,id){var inventory;Empty(id)||(inventory=Find({list:$scope.inventories,key:"id",val:id}),"na"!==inventory.syncStatus&&(Wait("start"),Rest.setUrl(inventory.related.inventory_sources+"?or__source=ec2&or__source=rax&order_by=-last_job_run&page_size=5"),Rest.get().success(function(data){$scope.$emit("GroupSummaryReady",event,inventory,data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+inventory.related.inventory_sources+" failed. GET returned status: "+status})})))},$scope.showHostSummary=function(event,id){var url,inventory;Empty(id)||(inventory=Find({list:$scope.inventories,key:"id",val:id}),inventory.total_hosts>0&&(Wait("start"),url=GetBasePath("jobs")+"?type=job&inventory="+id+"&failed=",url+=inventory.has_active_failures?"true":"false",url+="&order_by=-finished&page_size=5",Rest.setUrl(url),Rest.get().success(function(data){$scope.$emit("HostSummaryReady",event,data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. GET returned: "+status})})))},$scope.viewJob=function(url){var id=url.replace(/^\//,"").split("/")[3];$state.go("inventorySyncStdout",{id:id})},$scope.editInventory=function(id){$state.go("inventories.edit",{inventory_id:id})},$scope.manageInventory=function(id){$location.path($location.path()+"/"+id+"/manage")},$scope.viewJobs=function(id){$location.url("/jobs/?inventory__int="+id)},$scope.viewFailedJobs=function(id){$location.url("/jobs/?inventory__int="+id+"&status=failed")},$scope.formCancel=function(){$state.go("organizations")}}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$location","$log","$stateParams","Rest","Alert","Prompt","ReturnToCaller","ClearScope","ProcessErrors","GetBasePath","JobTemplateForm","InitiatePlaybookRun","Wait","TemplateCopyService","$compile","$state","OrgJobTemplateList","OrgJobTemplateDataset","QuerySet",function($scope,$rootScope,$location,$log,$stateParams,Rest,Alert,Prompt,ReturnToCaller,ClearScope,ProcessErrors,GetBasePath,JobTemplateForm,InitiatePlaybookRun,Wait,TemplateCopyService,$compile,$state,OrgJobTemplateList,Dataset,qs){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,Rest.setUrl(orgBase+$stateParams.organization_id),Rest.get().success(function(data){$scope.organization_name=data.name,$scope.name=data.name,$scope.org_id=data.id,$scope.orgRelatedUrls=data.related})}function optionsRequestDataProcessing(){$scope[list.name].forEach(function(item,item_idx){var itm=$scope[list.name][item_idx];list.fields.type&&$scope.options&&$scope.options.hasOwnProperty("type")&&$scope.options.type.choices.forEach(function(choice){choice[0]===item.type&&(itm.type_label=choice[1])})})}var list=OrgJobTemplateList,orgBase=GetBasePath("organizations");$scope.$on("ws-jobs",function(){var path=GetBasePath(list.basePath)||GetBasePath(list.name);qs.search(path,$state.params[list.iterator+"_search"]).then(function(searchResponse){$scope[list.iterator+"_dataset"]=searchResponse.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results})}),init(),$scope.$on(list.iterator+"_options",function(event,data){$scope.options=data.data.actions.GET,optionsRequestDataProcessing()}),$scope.$watchCollection(""+$scope.list.name,function(){optionsRequestDataProcessing()}),$scope.editJobTemplate=function(id){$state.go("templates.editJobTemplate",{job_template_id:id})},$scope.submitJob=function(id){InitiatePlaybookRun({scope:$scope,id:id,job_type:"job_template"})},$scope.scheduleJob=function(id){$state.go("jobTemplateSchedules",{id:id})},$scope.copyTemplate=function(id){Wait("start"),TemplateCopyService.get(id).success(function(res){TemplateCopyService.set(res).success(function(res){Wait("stop"),res.type&&"job_template"===res.type&&$state.go("templates.editJobTemplate",{job_template_id:res.id},{reload:!0})})}).error(function(res,status){ProcessErrors($rootScope,res,status,null,{hdr:"Error!",msg:"Call failed. Return status: "+status})})}}]},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$location","$log","$stateParams","Rest","Alert","Prompt","ReturnToCaller","ClearScope","OrgProjectList","OrgProjectDataset","ProcessErrors","GetBasePath","SelectionInit","ProjectUpdate","Wait","GetChoices","Empty","Find","GetProjectIcon","GetProjectToolTip","$filter","$state",function($scope,$rootScope,$location,$log,$stateParams,Rest,Alert,Prompt,ReturnToCaller,ClearScope,OrgProjectList,Dataset,ProcessErrors,GetBasePath,SelectionInit,ProjectUpdate,Wait,GetChoices,Empty,Find,GetProjectIcon,GetProjectToolTip,$filter,$state){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$rootScope.flashMessage=null,$scope.$on("choicesReadyProjectList",function(){Wait("stop"),$scope.projects&&$scope.projects.forEach(function(project,i){$scope.projects[i].statusIcon=GetProjectIcon(project.status),$scope.projects[i].statusTip=GetProjectToolTip(project.status),$scope.projects[i].scm_update_tooltip="Start an SCM update",$scope.projects[i].scm_schedule_tooltip="Schedule future SCM updates",$scope.projects[i].scm_type_class="","failed"===project.status&&project.summary_fields.last_update&&"canceled"===project.summary_fields.last_update.status&&($scope.projects[i].statusTip="Canceled. Click for details"),"running"!==project.status&&"updating"!==project.status||($scope.projects[i].scm_update_tooltip="SCM update currently running",$scope.projects[i].scm_type_class="btn-disabled"),$scope.project_scm_type_options.forEach(function(type){type.value===project.scm_type&&($scope.projects[i].scm_type=type.label,"Manual"===type.label&&($scope.projects[i].scm_update_tooltip="Manual projects do not require an SCM update",$scope.projects[i].scm_schedule_tooltip="Manual projects do not require a schedule",$scope.projects[i].scm_type_class="btn-disabled",$scope.projects[i].statusTip="Not configured for SCM",$scope.projects[i].statusIcon="none"))})})})}function optionsRequestDataProcessing(){$scope[list.name].forEach(function(item,item_idx){var itm=$scope[list.name][item_idx];list.fields.scm_type&&$scope.options&&$scope.options.hasOwnProperty("scm_type")&&$scope.options.scm_type.choices.forEach(function(choice){choice[0]===item.scm_type&&(itm.type_label=choice[1])})})}var projUrl,list=OrgProjectList,choiceCount=0,orgBase=GetBasePath("organizations"),projBase=GetBasePath("projects");init(),$scope.$on(list.iterator+"_options",function(event,data){$scope.options=data.data.actions.GET,optionsRequestDataProcessing()}),$scope.$watchCollection(""+$scope.list.name,function(){optionsRequestDataProcessing()}),Rest.setUrl(orgBase+$stateParams.organization_id),Rest.get().success(function(data){$scope.organization_name=data.name,$scope.name=data.name,$scope.org_id=data.id,$scope.orgRelatedUrls=data.related,$scope.$on("ws-jobs",function(e,data){var project;$log.debug(data),$scope.projects&&(project=Find({list:$scope.projects,key:"id",val:data.project_id}),project&&($log.debug("Received event for project: "+project.name),$log.debug("Status changed to: "+data.status),"successful"===data.status||"failed"===data.status||(project.scm_update_tooltip="SCM update currently running",project.scm_type_class="btn-disabled"),project.status=data.status,project.statusIcon=GetProjectIcon(data.status),project.statusTip=GetProjectToolTip(data.status)))}),$scope.removeChoicesHere&&$scope.removeChoicesHere(),$scope.removeChoicesHere=$scope.$on("choicesCompleteProjectList",function(){list.fields.scm_type.searchOptions=$scope.project_scm_type_options,list.fields.status.searchOptions=$scope.project_status_options,$stateParams.scm_type&&$stateParams.status&&(projUrl+="?status="+$stateParams.status)}),$scope.removeChoicesReadyList&&$scope.removeChoicesReadyList(),$scope.removeChoicesReadyList=$scope.$on("choicesReadyProjectList",function(){choiceCount++,2===choiceCount&&$scope.$emit("choicesCompleteProjectList")}),GetChoices({scope:$scope,url:projBase,field:"status",variable:"project_status_options",callback:"choicesReadyProjectList"}),GetChoices({scope:$scope,url:projBase,field:"scm_type",variable:"project_scm_type_options",callback:"choicesReadyProjectList"})}),$scope.editProject=function(id){$state.go("projects.edit",{project_id:id})},$scope.removeGoToJobDetails&&$scope.removeGoToJobDetails(),$scope.removeGoToJobDetails=$scope.$on("GoToJobDetails",function(e,data){if(data.summary_fields.current_update||data.summary_fields.last_update){Wait("start");var id=data.summary_fields.current_update?data.summary_fields.current_update.id:data.summary_fields.last_update.id;$state.go("scmUpdateStdout",{id:id})}else Alert("No Updates Available","There is no SCM update information available for this project. An update has not yet been  completed.  If you have not already done so, start an update for this project.","alert-info")}),$scope.showSCMStatus=function(id){var project=Find({list:$scope.projects,key:"id",val:id});Empty(project.scm_type)||"Manual"===project.scm_type?Alert("No SCM Configuration","The selected project is not configured for SCM. To configure for SCM, edit the project and provide SCM settings, and then run an update.","alert-info"):(Rest.setUrl(project.url),Rest.get().success(function(data){$scope.$emit("GoToJobDetails",data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Project lookup failed. GET returned: "+status})}))},$scope.removeCancelUpdate&&$scope.removeCancelUpdate(),$scope.removeCancelUpdate=$scope.$on("Cancel_Update",function(e,url){Rest.setUrl(url),Rest.post().success(function(){Alert("SCM Update Cancel","Your request to cancel the update was submitted to the task manager.","alert-info"),$scope.refresh()}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. POST status: "+status})})}),$scope.removeCheckCancel&&$scope.removeCheckCancel(),$scope.removeCheckCancel=$scope.$on("Check_Cancel",function(e,data){var url=data.related.cancel;Rest.setUrl(url),Rest.get().success(function(data){data.can_cancel?$scope.$emit("Cancel_Update",url):Alert("Cancel Not Allowed","<div>Either you do not have access or the SCM update process completed. Click the <em>Refresh</em> button to view the latest status.</div>","alert-info",null,null,null,null,!0)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. GET status: "+status})})}),$scope.cancelUpdate=function(id,name){Rest.setUrl(GetBasePath("projects")+id),Rest.get().success(function(data){data.related.current_update?(Rest.setUrl(data.related.current_update),Rest.get().success(function(data){$scope.$emit("Check_Cancel",data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+data.related.current_update+" failed. GET status: "+status})})):Alert("Update Not Found","<div>An SCM update does not appear to be running for project: "+$filter("sanitize")(name)+". Click the <em>Refresh</em> button to view the latest status.</div>","alert-info",void 0,void 0,void 0,void 0,!0)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to get project failed. GET status: "+status})})},$scope.refresh=function(){},$scope.SCMUpdate=function(project_id,event){try{$(event.target).tooltip("hide")}catch(e){}$scope.projects.forEach(function(project){project.id===project_id&&("Manual"===project.scm_type||Empty(project.scm_type)||"updating"===project.status||"running"===project.status||"pending"===project.status||ProjectUpdate({scope:$scope,project_id:project.id}))})},$scope.editSchedules=function(id){var project=Find({list:$scope.projects,key:"id",val:id});"Manual"===project.scm_type||Empty(project.scm_type)||"updating"===project.status||"running"===project.status||"pending"===project.status||$state.go("projectSchedules",{id:id})},$scope.formCancel=function(){$state.go("organizations")}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$location","$log","$stateParams","OrgTeamList","Rest","Alert","Prompt","OrgTeamsDataset","ReturnToCaller","ClearScope","ProcessErrors","SetTeamListeners","GetBasePath","SelectionInit","Wait","$state",function($scope,$rootScope,$location,$log,$stateParams,OrgTeamList,Rest,Alert,Prompt,Dataset,ReturnToCaller,ClearScope,ProcessErrors,SetTeamListeners,GetBasePath,SelectionInit,Wait,$state){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.$watchCollection(list.name,function(){function setOrganizationName(organization){return organization.organization_name=organization.summary_fields.organization.name,organization}_.forEach($scope.teams,function(team){return setOrganizationName(team)})}),Rest.setUrl(orgBase+$stateParams.organization_id),Rest.get().success(function(data){$scope.organization_name=data.name,$scope.name=data.name,$scope.org_id=data.id,$scope.orgRelatedUrls=data.related})}var list=OrgTeamList,orgBase=GetBasePath("organizations");init(),$scope.editTeam=function(id){$state.go("teams.edit",{team_id:id})},$scope.formCancel=function(){$state.go("organizations")}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$stateParams","$scope","OrgUserList","Rest","$state","generateList","$compile","Wait","OrgUsersDataset","Prompt","ProcessErrors","GetBasePath","$filter",function($stateParams,$scope,OrgUserList,Rest,$state,GenerateList,$compile,Wait,OrgUsersDataset,Prompt,ProcessErrors,GetBasePath,$filter){function init(){$scope.list=OrgUserList,$scope.user_dataset=OrgUsersDataset.data,$scope.users=$scope.user_dataset.results,Rest.setUrl(orgBase+$stateParams.organization_id),Rest.get().success(function(data){$scope.organization_name=data.name,$scope.name=data.name,$scope.org_id=data.id,$scope.orgRelatedUrls=data.related})}var orgBase=GetBasePath("organizations");init(),$scope.addUsers=function(){$compile("<add-users add-users-type='users' class='AddUsers'></add-users>")($scope)},$scope.editUser=function(id){$state.go("users.edit",{user_id:id})},$scope.deleteUser=function(id,name){var action=function(){$("#prompt-modal").modal("hide"),Wait("start");var url=orgBase+$stateParams.organization_id+"/users/";Rest.setUrl(url),Rest.post({id:id,disassociate:!0}).success(function(){$state.go(".",null,{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned status: "+status})})};Prompt({hdr:"Delete",body:'<div class="Prompt-bodyQuery">Are you sure you want to remove the following user from this organization?</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>",action:action,actionText:"DELETE"})},$scope.formCancel=function(){$state.go("organizations")}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(491),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(494),_main4=_interopRequireDefault(_main3),_managementJobs=__webpack_require__(498),_managementJobs2=_interopRequireDefault(_managementJobs),_main5=__webpack_require__(499),_main6=_interopRequireDefault(_main5);exports.default=angular.module("managementJobs",[_main2.default.name,_main4.default.name,_main6.default.name]).factory("managementJobsListObject",_managementJobs2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _card=__webpack_require__(492),_card2=_interopRequireDefault(_card),_card3=__webpack_require__(493),_card4=_interopRequireDefault(_card3);exports.default=angular.module("managementJobsCard",[]).controller("managementJobsCardController",_card4.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_card2.default)}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_i18n=__webpack_require__(172);exports.default={name:"managementJobsList",route:"/management_jobs",templateUrl:(0,_templateUrl.templateUrl)("management-jobs/card/card"),controller:"managementJobsCardController",data:{activityStream:!0,activityStreamTarget:"job"},ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("MANAGEMENT JOBS")}}},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Wait","$compile","CreateDialog","GetBasePath","SchedulesList","Rest","ProcessErrors","managementJobsListObject","$rootScope","$state","$scope","CreateSelect2","i18n",function(Wait,$compile,CreateDialog,GetBasePath,SchedulesList,Rest,ProcessErrors,managementJobsListObject,$rootScope,$state,$scope,CreateSelect2,i18n){var defaultUrl=GetBasePath("system_job_templates")+"?order_by=name",getManagementJobs=function(){Rest.setUrl(defaultUrl),Rest.get().success(function(data){$scope.mgmtCards=data.results,Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Call to %s failed. Return status: %d"),void 0===defaultUrl?"undefined":defaultUrl,status)})})};getManagementJobs();var scope=$rootScope.$new(),parent_scope=scope;scope.cleanupJob=!0,"managementJobsList.notifications"===$state.current.name&&($scope.activeCard=parseInt($state.params.management_id),$scope.cardAction="notifications"),scope.cancelConfigure=function(){try{$("#configure-tower-dialog").dialog("close"),$("#configure-save-button").remove()}catch(e){}Wait("stop")},$scope.submitCleanupJob=function(id,name){defaultUrl=GetBasePath("system_job_templates")+id+"/launch/",CreateDialog({id:"prompt-for-days-facts",title:name,scope:scope,width:500,height:470,minWidth:200,callback:"PromptForDaysFacts",resizable:!1,onOpen:function(){scope.$watch("prompt_for_days_facts_form.$invalid",function(invalid){invalid===!0?$("#prompt-for-days-facts-launch").prop("disabled",!0):$("#prompt-for-days-facts-launch").prop("disabled",!1)});var fieldScope=scope.$parent;fieldScope.keep_unit_choices=[{label:"Days",value:"d"},{label:"Weeks",value:"w"},{label:"Years",value:"y"}],fieldScope.granularity_keep_unit_choices=[{label:"Days",value:"d"},{label:"Weeks",value:"w"},{label:"Years",value:"y"}],scope.prompt_for_days_facts_form.$setPristine(),scope.prompt_for_days_facts_form.$invalid=!1,fieldScope.keep_unit=fieldScope.keep_unit_choices[0],fieldScope.granularity_keep_unit=fieldScope.granularity_keep_unit_choices[1],fieldScope.keep_amount=30,fieldScope.granularity_keep_amount=1},buttons:[{label:"Cancel",onClick:function(){$(this).dialog("close")},class:"btn btn-default",id:"prompt-for-days-facts-cancel"},{label:"Launch",
onClick:function(){var extra_vars={older_than:scope.keep_amount+scope.keep_unit.value,granularity:scope.granularity_keep_amount+scope.granularity_keep_unit.value},data={};data.extra_vars=JSON.stringify(extra_vars),Rest.setUrl(defaultUrl),Rest.post(data).success(function(data){Wait("stop"),$("#prompt-for-days-facts").dialog("close"),$("#configure-tower-dialog").dialog("close"),$state.go("managementJobStdout",{id:data.system_job},{reload:!0})}).error(function(data,status){var template_id=scope.job_template_id;template_id=void 0===template_id?"undefined":i18n.sprintf("%d",template_id),ProcessErrors(scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Failed updating job %s with variables. POST returned: %d"),template_id,status)})})},class:"btn btn-primary",id:"prompt-for-days-facts-launch"}]}),scope.removePromptForDays&&scope.removePromptForDays(),scope.removePromptForDays=scope.$on("PromptForDaysFacts",function(){$("#prompt-for-days-facts").show(),$("#prompt-for-days-facts").dialog("open"),CreateSelect2({element:"#keep_unit",multiple:!1}),CreateSelect2({element:"#granularity_keep_unit",multiple:!1}),Wait("stop")})},$scope.goToNotifications=function(card){$state.transitionTo("managementJobsList.notifications",{card:card,management_id:card.id})},$scope.submitJob=function(id,name){Wait("start"),defaultUrl=GetBasePath("system_job_templates")+id+"/launch/",CreateDialog({id:"prompt-for-days",title:name,scope:scope,width:500,height:300,minWidth:200,callback:"PromptForDays",resizable:!1,onOpen:function(){scope.$watch("prompt_for_days_form.$invalid",function(invalid){invalid===!0?$("#prompt-for-days-launch").prop("disabled",!0):$("#prompt-for-days-launch").prop("disabled",!1)});var fieldScope=scope.$parent;fieldScope.days_to_keep=30,scope.prompt_for_days_form.$setPristine(),scope.prompt_for_days_form.$invalid=!1},buttons:[{label:"Cancel",onClick:function(){$(this).dialog("close")},class:"btn btn-default",id:"prompt-for-days-cancel"},{label:"Launch",onClick:function(){var extra_vars={days:scope.days_to_keep},data={};data.extra_vars=JSON.stringify(extra_vars),Rest.setUrl(defaultUrl),Rest.post(data).success(function(data){Wait("stop"),$("#prompt-for-days").dialog("close"),$state.go("managementJobStdout",{id:data.system_job},{reload:!0})}).error(function(data,status){var template_id=scope.job_template_id;template_id=void 0===template_id?"undefined":i18n.sprintf("%d",template_id),ProcessErrors(scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Failed updating job %s with variables. POST returned: %d"),template_id,status)})})},class:"btn btn-primary",id:"prompt-for-days-launch"}]}),scope.removePromptForDays&&scope.removePromptForDays(),scope.removePromptForDays=scope.$on("PromptForDays",function(){$("#prompt-for-days").show(),$("#prompt-for-days").dialog("open"),Wait("stop")})},$scope.chooseRunJob=function(id,name){"cleanup_facts"===this.card.job_type?$scope.submitCleanupJob(id,name):$scope.submitJob(id,name)},$scope.configureSchedule=function(id){$state.transitionTo("managementJobSchedules",{id:id})},parent_scope.refreshJobs=function(){};var cleanUpStateChangeListener=$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams){"managementJobsList"===toState.name?(delete $scope.activeCard,delete $scope.cardAction):"managementJobsList.notifications"===toState.name&&($scope.activeCard=parseInt(toParams.management_id),$scope.cardAction="notifications")});$scope.$on("$destroy",function(){cleanUpStateChangeListener()})}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_schedulerList=__webpack_require__(495),_schedulerList2=_interopRequireDefault(_schedulerList),_schedulerAdd=__webpack_require__(496),_schedulerAdd2=_interopRequireDefault(_schedulerAdd),_schedulerEdit=__webpack_require__(497),_schedulerEdit2=_interopRequireDefault(_schedulerEdit),_i18n=__webpack_require__(172);exports.default=angular.module("managementJobScheduler",[]).controller("managementJobController",_schedulerList2.default).controller("managementJobAddController",_schedulerAdd2.default).controller("managementJobEditController",_schedulerEdit2.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState({searchPrefix:"schedule",name:"managementJobSchedules",route:"/management_jobs/:id/schedules",ncyBreadcrumb:{parent:"managementJobsList",label:(0,_i18n.N_)("SCHEDULES")},views:{"@":{templateProvider:function(ScheduleList,generateList,ParentObject){ScheduleList.listTitle=ParentObject.name+"<div class='List-titleLockup'></div>"+(0,_i18n.N_)("SCHEDULES");var html=generateList.build({list:ScheduleList,mode:"edit"});return html=generateList.wrapPanel(html),generateList.insertFormView()+html},controller:"managementJobController"}},resolve:{Dataset:["ScheduleList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=""+GetBasePath("system_job_templates")+$stateParams.id+"/schedules";return qs.search(path,$stateParams[list.iterator+"_search"])}],ParentObject:["$stateParams","Rest","GetBasePath",function($stateParams,Rest,GetBasePath){var path=""+GetBasePath("system_job_templates")+$stateParams.id;return Rest.setUrl(path),Rest.get(path).then(function(res){return res.data})}],UnifiedJobsOptions:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){Rest.setUrl(GetBasePath("unified_jobs"));var val=$q.defer();return Rest.options().then(function(data){val.resolve(data.data)},function(data){val.reject(data)}),val.promise}],ScheduleList:["SchedulesList","GetBasePath","$stateParams",function(SchedulesList,GetBasePath,$stateParams){var list=_.cloneDeep(SchedulesList);return list.basePath=GetBasePath("system_job_templates")+$stateParams.id+"/schedules",list}]}}),$stateExtender.addState({name:"managementJobSchedules.add",route:"/add",ncyBreadcrumb:{parent:"managementJobSchedules",label:(0,_i18n.N_)("CREATE SCHEDULED JOB")},views:{form:{templateUrl:(0,_templateUrl.templateUrl)("management-jobs/scheduler/schedulerForm"),controller:"managementJobAddController"}}}),$stateExtender.addState({name:"managementJobSchedules.edit",route:"/edit/:schedule_id",ncyBreadcrumb:{parent:"managementJobSchedules",label:(0,_i18n.N_)("EDIT SCHEDULED JOB")},views:{form:{templateUrl:(0,_templateUrl.templateUrl)("management-jobs/scheduler/schedulerForm"),controller:"managementJobEditController"}}})}])}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$compile","$location","$stateParams","ScheduleList","Rest","ProcessErrors","ReturnToCaller","ClearScope","GetBasePath","Wait","rbacUiControlService","Find","ToggleSchedule","DeleteSchedule","GetChoices","$q","$state","Dataset","ParentObject","UnifiedJobsOptions",function($scope,$compile,$location,$stateParams,ScheduleList,Rest,ProcessErrors,ReturnToCaller,ClearScope,GetBasePath,Wait,rbacUiControlService,Find,ToggleSchedule,DeleteSchedule,GetChoices,$q,$state,Dataset,ParentObject,UnifiedJobsOptions){function init(){ParentObject&&($scope.parentObject=ParentObject,scheduleEndpoint=ParentObject.endpoint||ParentObject.related.schedules||ParentObject.related.inventory_source+"schedules",$scope.canAdd=!1,rbacUiControlService.canAdd(scheduleEndpoint).then(function(canAdd){$scope.canAdd=canAdd})),$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.unified_job_options=UnifiedJobsOptions.actions.GET}function optionsRequestDataProcessing(){$scope[list.name].forEach(function(item,item_idx){var itm=$scope[list.name][item_idx];list.fields.type&&$scope.unified_job_options&&$scope.unified_job_options.hasOwnProperty("type")&&$scope.unified_job_options.type.choices.every(function(choice){return choice[0]!==itm.summary_fields.unified_job_template.unified_job_type||(itm.type_label=choice[1],!1)}),buildTooltips(itm)})}function buildTooltips(schedule){var job=schedule.summary_fields.unified_job_template;schedule.enabled?(schedule.play_tip="Schedule is active. Click to stop.",schedule.status="active",schedule.status_tip="Schedule is active. Click to stop."):(schedule.play_tip="Schedule is stopped. Click to activate.",schedule.status="stopped",schedule.status_tip="Schedule is stopped. Click to activate."),schedule.nameTip=schedule.name,schedule.name.indexOf("schedule")===-1&&schedule.name.indexOf("Schedule")===-1&&(schedule.nameTip+=" schedule"),schedule.nameTip+=" for ",job.name.indexOf("job")===-1&&job.name.indexOf("Job")===-1&&(schedule.nameTip+="job "),schedule.nameTip+=job.name,schedule.nameTip+=". Click to edit schedule."}ClearScope();var base,scheduleEndpoint,list=ScheduleList;init(),$scope.$on(list.iterator+"_options",function(event,data){$scope.options=data.data.actions.GET,optionsRequestDataProcessing()}),$scope.$watchCollection(""+$scope.list.name,function(){optionsRequestDataProcessing()}),$scope.refreshSchedules=function(){$state.go(".",null,{reload:!0})},$scope.addSchedule=function(){$state.current.name.endsWith(".edit")?$state.go("^.add"):$state.current.name.endsWith(".add")||$state.go(".add")},$scope.editSchedule=function(schedule){function buildStateMap(schedule){var deferred=$q.defer();switch(schedule.summary_fields.unified_job_template.unified_job_type){case"job":deferred.resolve({name:"jobTemplateSchedules.edit",params:{id:schedule.unified_job_template,schedule_id:schedule.id}});break;case"workflow_job":deferred.resolve({name:"workflowJobTemplateSchedules.edit",params:{id:schedule.unified_job_template,schedule_id:schedule.id}});break;case"inventory_update":Rest.setUrl(schedule.related.unified_job_template),Rest.get().then(function(res){deferred.resolve({name:"inventoryManage.editGroup.schedules.edit",params:{group_id:res.data.group,inventory_id:res.data.inventory,schedule_id:schedule.id}})});break;case"project_update":deferred.resolve({name:"projectSchedules.edit",params:{id:schedule.unified_job_template,schedule_id:schedule.id}});break;case"system_job":deferred.resolve({name:"managementJobSchedules.edit",params:{id:schedule.unified_job_template,schedule_id:schedule.id}})}return deferred.promise}function routeToScheduleForm(schedule){buildStateMap(schedule).then(function(state){$state.go(state.name,state.params).catch(function(err){if(4!==err.type||!err.detail.includes("inventoryManage.editGroup.schedules.edit"))throw err;$location.path("/inventories/"+state.params.inventory_id+"/manage/edit-group/"+state.params.group_id+"/schedules/"+state.params.schedule_id)})})}$state.is("jobs.schedules")?routeToScheduleForm(schedule,"edit"):$state.current.name.endsWith(".add")?$state.go("^.edit",{schedule_id:schedule.id}):$state.current.name.endsWith(".edit")?$state.go(".",{schedule_id:schedule.id}):$state.go(".edit",{schedule_id:schedule.id})},$scope.toggleSchedule=function(event,id){try{$(event.target).tooltip("hide")}catch(e){}ToggleSchedule({scope:$scope,id:id})},$scope.deleteSchedule=function(id){DeleteSchedule({scope:$scope,id:id})},base=$location.path().replace(/^\//,"").split("/")[0],"management_jobs"===base&&($scope.base=base="system_job_templates"),$stateParams.job_type&&($scope.job_type=$stateParams.job_type),$scope.refreshJobs=function(){$state.go(".",null,{reload:!0})},$scope.formCancel=function(){$state.go("^",null,{reload:!0})}}]}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$compile","$filter","$state","$stateParams","AddSchedule","Wait","$scope","$rootScope","CreateSelect2","ParseTypeChange","GetBasePath","Rest","ParamPass","ParentObject",function($compile,$filter,$state,$stateParams,AddSchedule,Wait,$scope,$rootScope,CreateSelect2,ParseTypeChange,GetBasePath,Rest,ParamPass,ParentObject){$scope.processSchedulerEndDt=function(){var dt=new Date($scope.schedulerUTCTime);dt.setDate(dt.getDate()+1);var month=$filter("schZeroPad")(dt.getMonth()+1,2),day=$filter("schZeroPad")(dt.getDate(),2);$scope.$parent.schedulerEndDt=month+"/"+day+"/"+dt.getFullYear()},$scope.schedulerEndHour="00",$scope.schedulerEndMinute="00",$scope.schedulerEndSecond="00",$scope.parentObject=ParentObject,$scope.$on("ScheduleFormCreated",function(e,scope){$scope.hideForm=!1,$scope=angular.extend($scope,scope),$scope.$on("formUpdated",function(){$rootScope.$broadcast("loadSchedulerDetailPane")}),$scope.$watchGroup(["schedulerName","schedulerStartDt","schedulerStartHour","schedulerStartMinute","schedulerStartSecond","schedulerTimeZone","schedulerFrequency","schedulerInterval","monthlyRepeatOption","monthDay","monthlyOccurrence","monthlyWeekDay","yearlyRepeatOption","yearlyMonth","yearlyMonthDay","yearlyOccurrence","yearlyWeekDay","yearlyOtherMonth","schedulerEnd","schedulerOccurrenceCount","schedulerEndDt","schedulerEndHour","schedulerEndMinute","schedularEndSecond"],function(){$scope.$emit("formUpdated")},!0),$scope.$watch("weekDays",function(){$scope.$emit("formUpdated")},!0),Wait("stop")}),$scope.hideForm=!0;var schedule_url=ParentObject.related.schedules||ParentObject.related.inventory_source+"schedules";if($scope.formCancel=function(){$state.go("^")},"jobTemplateSchedules.add"===$state.current.name){$scope.parseType="yaml";var defaultUrl=GetBasePath("job_templates")+$stateParams.id+"/";Rest.setUrl(defaultUrl),Rest.get().then(function(res){var data=res.data.extra_vars;$scope.extraVars=""===data?"---":data,ParseTypeChange({scope:$scope,variable:"extraVars",parse_variable:"parseType",field_id:"SchedulerForm-extraVars"})})}else if("workflowJobTemplateSchedules.add"===$state.current.name){$scope.parseType="yaml";var _defaultUrl=GetBasePath("workflow_job_templates")+$stateParams.id+"/";Rest.setUrl(_defaultUrl),Rest.get().then(function(res){var data=res.data.extra_vars;$scope.extraVars=""===data?"---":data,ParseTypeChange({scope:$scope,variable:"extraVars",parse_variable:"parseType",field_id:"SchedulerForm-extraVars"})})}else"projectSchedules.add"===$state.current.name?($scope.extraVars="---",$scope.parseType="yaml",ParseTypeChange({scope:$scope,variable:"extraVars",parse_variable:"parseType",field_id:"SchedulerForm-extraVars"})):"inventoryManage.editGroup.schedules.add"===$state.current.name&&($scope.extraVars="---",$scope.parseType="yaml",ParseTypeChange({scope:$scope,variable:"extraVars",parse_variable:"parseType",field_id:"SchedulerForm-extraVars"}));AddSchedule({scope:$scope,callback:"SchedulesRefresh",base:$scope.base?$scope.base:null,url:schedule_url});var callSelect2=function(){CreateSelect2({element:".MakeSelect2",multiple:!1})};$scope.$on("updateSchedulerSelects",function(){callSelect2()}),callSelect2()}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$filter","$compile","$state","$stateParams","EditSchedule","Wait","$scope","$rootScope","CreateSelect2","ParseTypeChange","ParentObject",function($filter,$compile,$state,$stateParams,EditSchedule,Wait,$scope,$rootScope,CreateSelect2,ParseTypeChange,ParentObject){$scope.processSchedulerEndDt=function(){var dt=new Date($scope.schedulerUTCTime);dt.setDate(dt.getDate()+1);var month=$filter("schZeroPad")(dt.getMonth()+1,2),day=$filter("schZeroPad")(dt.getDate(),2);$scope.$parent.schedulerEndDt=month+"/"+day+"/"+dt.getFullYear()},$scope.schedulerEndHour="00",$scope.schedulerEndMinute="00",$scope.schedulerEndSecond="00",$scope.parentObject=ParentObject,$scope.$on("ScheduleFormCreated",function(e,scope){$scope.hideForm=!1,$scope=angular.extend($scope,scope),$scope.$on("formUpdated",function(){$rootScope.$broadcast("loadSchedulerDetailPane")}),$scope.$watchGroup(["schedulerName","schedulerStartDt","schedulerStartHour","schedulerStartMinute","schedulerStartSecond","schedulerTimeZone","schedulerFrequency","schedulerInterval","monthlyRepeatOption","monthDay","monthlyOccurrence","monthlyWeekDay","yearlyRepeatOption","yearlyMonth","yearlyMonthDay","yearlyOccurrence","yearlyWeekDay","yearlyOtherMonth","schedulerEnd","schedulerOccurrenceCount","schedulerEndDt"],function(){$scope.$emit("formUpdated")},!0),$scope.$watch("weekDays",function(){$scope.$emit("formUpdated")},!0),$rootScope.$broadcast("loadSchedulerDetailPane"),Wait("stop")}),$scope.isEdit=!0,$scope.hideForm=!0,$scope.parseType="yaml",$scope.formCancel=function(){$state.go("^")},"managementJobSchedules.add"!==$state.current.name&&"managementJobSchedules.edit"!==$state.current.name&&$scope.$on("ScheduleFound",function(){var readOnly=!$scope.schedule_obj.summary_fields.user_capabilities.edit;ParseTypeChange({scope:$scope,variable:"extraVars",parse_variable:"parseType",field_id:"SchedulerForm-extraVars",readOnly:readOnly})}),EditSchedule({scope:$scope,id:parseInt($stateParams.schedule_id),callback:"SchedulesRefresh",base:$scope.base?$scope.base:null});var callSelect2=function(){CreateSelect2({element:".MakeSelect2",multiple:!1})};$scope.$on("updateSchedulerSelects",function(){callSelect2()}),callSelect2()}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{name:"configure_jobs",iterator:"configure_job",index:!1,hover:!0,listTitle:"MANAGEMENT JOBS",fields:{name:{label:"Name",columnClass:"col-sm-4 col-xs-4"},description:{label:"Description",columnClass:"col-sm-6 col-xs-6 hidden-sm hidden-xs"}},actions:{},fieldActions:{submit:{label:"Launch",mode:"all",ngClick:"submitJob(configure_job.id, configure_job.name)",awToolTip:"Start a job using this template",dataPlacement:"top"},schedule:{label:"Schedule",mode:"all",ngClick:"configureSchedule()",awToolTip:"Schedule future job template runs",dataPlacement:"top"}}}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _notification=__webpack_require__(500),_notification2=_interopRequireDefault(_notification),_notification3=__webpack_require__(501),_notification4=_interopRequireDefault(_notification3);exports.default=angular.module("managementJobsNotifications",[]).controller("managementJobsNotificationsController",_notification4.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_notification2.default)}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _i18n=__webpack_require__(172);exports.default={name:"managementJobsList.notifications",route:"/:management_id/notifications",params:{notification_search:{}},searchPrefix:"notification",views:{"@managementJobsList":{controller:"managementJobsNotificationsController",templateProvider:function(NotificationsList,generateList,ParentObject){NotificationsList.listTitle=ParentObject.name+"<div class='List-titleLockup'></div>"+(0,_i18n.N_)("Notifications");var html=generateList.build({list:NotificationsList,mode:"edit"});return html=generateList.wrapPanel(html),generateList.insertFormView()+html}}},resolve:{Dataset:["NotificationsList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=""+GetBasePath("notification_templates");return qs.search(path,$stateParams[list.iterator+"_search"])}],ParentObject:["$stateParams","Rest","GetBasePath",function($stateParams,Rest,GetBasePath){var path=""+GetBasePath("system_job_templates")+$stateParams.management_id;return Rest.setUrl(path),Rest.get(path).then(function(res){return res.data})}]},ncyBreadcrumb:{parent:"managementJobsList",label:(0,_i18n.N_)("NOTIFICATIONS")}}},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["NotificationsList","GetBasePath","ToggleNotification","NotificationsListInit","$stateParams","Dataset","$scope",function(NotificationsList,GetBasePath,ToggleNotification,NotificationsListInit,$stateParams,Dataset,$scope){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,NotificationsListInit({scope:$scope,url:defaultUrl,id:id}),$scope.$watch(list.iterator+"_dataset",function(){$scope.$emit("relatednotifications")})}var defaultUrl=GetBasePath("system_job_templates"),list=NotificationsList,id=$stateParams.management_id;$scope.toggleNotification=function(event,notifier_id,column){var notifier=this.notification;try{$(event.target).tooltip("hide")}catch(e){}ToggleNotification({scope:$scope,url:defaultUrl+id,notifier:notifier,column:column,callback:"NotificationRefresh"})},init()}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobDetail=__webpack_require__(503),_jobDetail2=_interopRequireDefault(_jobDetail),_jobDetail3=__webpack_require__(504),_jobDetail4=_interopRequireDefault(_jobDetail3),_main=__webpack_require__(505),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(508),_main4=_interopRequireDefault(_main3);exports.default=angular.module("jobDetail",[_main2.default.name,_main4.default.name]).controller("JobDetailController",_jobDetail2.default).service("JobDetailService",_jobDetail4.default)},function(module,exports,__webpack_require__){(function($,_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=["$location","$rootScope","$filter","$scope","$compile","$state","$stateParams","$log","ClearScope","GetBasePath","Wait","ProcessErrors","SelectPlay","SelectTask","GetElapsed","JobIsFinished","SetTaskStyles","DigestEvent","UpdateDOM","DeleteJob","RelaunchPlaybook","LoadPlays","LoadTasks","ParseVariableString","GetChoices","fieldChoices","fieldLabels","EditSchedule","ParseTypeChange","JobDetailService",function($location,$rootScope,$filter,$scope,$compile,$state,$stateParams,$log,ClearScope,GetBasePath,Wait,ProcessErrors,SelectPlay,SelectTask,GetElapsed,JobIsFinished,SetTaskStyles,DigestEvent,UpdateDOM,DeleteJob,RelaunchPlaybook,LoadPlays,LoadTasks,ParseVariableString,GetChoices,fieldChoices,fieldLabels,EditSchedule,ParseTypeChange,JobDetailService){function flashPlayTip(){setTimeout(function(){$("#play-help").popover("show")},500),setTimeout(function(){$("#play-help").popover("hide")},5e3)}ClearScope();var verbosity_options,job_type_options,job_id=$stateParams.id,scope=$scope,api_complete=!1,refresh_count=0,lastEventId=0;scope.plays=[],scope.parseType="yaml",scope.previousTaskFailed=!1,$scope.stdoutFullScreen=!1,scope.$watch("job_status",function(job_status){if(job_status&&job_status.explanation&&"Previous Task Failed"===job_status.explanation.split(":")[0]){scope.previousTaskFailed=!0;var taskObj=JSON.parse(job_status.explanation.substring(job_status.explanation.split(":")[0].length+1)),fieldChoice=fieldChoices({scope:$scope,url:"api/v1/unified_jobs/",field:"type"});fieldChoice.then(function(choices){choices=fieldLabels({choices:choices}),scope.explanation_fail_type=choices[taskObj.job_type],scope.explanation_fail_name=taskObj.job_name,scope.explanation_fail_id=taskObj.job_id,scope.task_detail=scope.explanation_fail_type+" failed for "+scope.explanation_fail_name+" with ID "+scope.explanation_fail_id+"."})}else scope.previousTaskFailed=!1},!0),scope.$watch("plays",function(plays){for(var play in plays)plays[play].elapsed?plays[play].finishedTip="Play completed at "+$filter("longDate")(plays[play].finished)+".":plays[play].finishedTip="Play not completed."}),scope.hosts=[],scope.tasks=[],scope.$watch("tasks",function(tasks){for(var task in tasks)tasks[task].elapsed?tasks[task].finishedTip="Task completed at "+$filter("longDate")(tasks[task].finished)+".":tasks[task].finishedTip="Task not completed.",tasks[task].successfulCount?(tasks[task].successfulCountTip=tasks[task].successfulCount,tasks[task].successfulCountTip+=1===tasks[task].successfulCount?" host event was":" host events were",tasks[task].successfulCountTip+=" ok."):tasks[task].successfulCountTip="No host events were ok.",tasks[task].changedCount?(tasks[task].changedCountTip=tasks[task].changedCount,tasks[task].changedCountTip+=1===tasks[task].changedCount?" host event":" host events",tasks[task].changedCountTip+=" changed."):tasks[task].changedCountTip="No host events changed.",tasks[task].skippedCount?(tasks[task].skippedCountTip=tasks[task].skippedCount,tasks[task].skippedCountTip+=1===tasks[task].skippedCount?" host event was":" hosts events were",tasks[task].skippedCountTip+=" skipped."):tasks[task].skippedCountTip="No host events were skipped.",tasks[task].failedCount?(tasks[task].failedCountTip=tasks[task].failedCount,tasks[task].failedCountTip+=1===tasks[task].failedCount?" host event":" host events",tasks[task].failedCountTip+=" failed."):tasks[task].failedCountTip="No host events failed.",tasks[task].unreachableCount?(tasks[task].unreachableCountTip=tasks[task].unreachableCount,tasks[task].unreachableCountTip+=1===tasks[task].unreachableCount?" host event was":" hosts events were",tasks[task].unreachableCountTip+=" unreachable."):tasks[task].unreachableCountTip="No host events were unreachable.",tasks[task].missingCount?(tasks[task].missingCountTip=tasks[task].missingCount,tasks[task].missingCountTip+=1===tasks[task].missingCount?" host event was":" host events were",tasks[task].missingCountTip+=" missing."):tasks[task].missingCountTip="No host events were missing."}),scope.hostResults=[],scope.hostResultsMaxRows=200,scope.tasksMaxRows=200,scope.playsMaxRows=200,scope.playsLoading=!0,scope.tasksLoading=!0,scope.hostResultsLoading=!0,scope.waiting=!0,scope.liveEventProcessing=!0,scope.pauseLiveEvents=!1,scope.job_status={},scope.job_id=job_id,scope.auto_scroll=!1,scope.haltEventQueue=!1,scope.processing=!1,scope.lessStatus=!1,scope.lessDetail=!1,"jobDetail.host-summary"===$state.current.name?scope.lessEvents=!1:scope.lessEvents=!0,scope.jobData={},scope.jobData.hostSummaries={},verbosity_options=[{value:0,label:"Default"},{value:1,label:"Verbose"},{value:3,label:"Debug"}],job_type_options=[{value:"run",label:"Run"},{value:"check",label:"Check"}],GetChoices({scope:scope,url:GetBasePath("unified_jobs"),field:"status",variable:"status_choices"}),scope.eventsHelpText='<p><i class="fa fa-circle successful-hosts-color"></i> Successful</p>\n<p><i class="fa fa-circle changed-hosts-color"></i> Changed</p>\n<p><i class="fa fa-circle unreachable-hosts-color"></i> Unreachable</p>\n<p><i class="fa fa-circle failed-hosts-color"></i> Failed</p>\n',scope.$on("ws-job_events-"+job_id,function(e,data){scope.job_status.elapsed=GetElapsed({start:scope.job.created,end:Date.now()}),api_complete&&data.id>lastEventId&&(scope.waiting=!1,data.event=data.event_name,DigestEvent({scope:scope,event:data})),UpdateDOM({scope:scope})}),scope.$on("ws-jobs",function(e,data){parseInt(data.unified_job_id,10)===parseInt(job_id,10)&&("failed"!==data.status&&"canceled"!==data.status&&"error"!==data.status&&"successful"!==data.status&&"running"!==data.status||($scope.liveEventProcessing=!1,scope.pauseLiveEvents||$scope.$emit("LoadJob")))}),scope.$on("ws-jobs-summary",function(){$log.debug("Trigging reload of job_host_summaries"),scope.$emit("InitialLoadComplete")}),scope.removeInitialLoadComplete&&scope.removeInitialLoadComplete(),scope.removeInitialLoadComplete=scope.$on("InitialLoadComplete",function(){if(Wait("stop"),JobIsFinished(scope)){scope.liveEventProcessing=!1,scope.pauseLiveEvents=!1;var params={event:"playbook_on_stats"};JobDetailService.getRelatedJobEvents(scope.job.id,params).success(function(){UpdateDOM({scope:scope})}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call failed. GET returned: "+status})}),$log.debug("Job completed!"),$log.debug(scope.jobData)}else api_complete=!0,UpdateDOM({scope:scope})}),scope.removeLoadHosts&&scope.removeLoadHosts(),scope.removeLoadHosts=scope.$on("LoadHosts",function(){if(scope.activeTask){var task,play=scope.jobData.plays[scope.activePlay];if(play&&(task=play.tasks[scope.activeTask]),play&&task){var params={parent:task.id,event__startswith:"runner",page_size:scope.hostResultsMaxRows};JobDetailService.getRelatedJobEvents(scope.job.id,params).success(function(data){data.results.length>0&&(lastEventId=data.results[0].id),scope.next_host_results=data.next,task.hostResults=JobDetailService.processHostEvents(data.results),scope.$emit("InitialLoadComplete")})}else scope.$emit("InitialLoadComplete")}else scope.$emit("InitialLoadComplete")}),scope.removeLoadTasks&&scope.removeLoadTasks(),scope.removeLoadTasks=scope.$on("LoadTasks",function(){if(scope.activePlay){var play=scope.jobData.plays[scope.activePlay];if(play){var params={event_id:play.id,page_size:scope.tasksMaxRows,order:"id"};JobDetailService.getJobTasks(scope.job.id,params).success(function(data){scope.next_tasks=data.next,data.results.length>0&&(lastEventId=data.results[data.results.length-1].id,scope.liveEventProcessing?scope.activeTask=data.results[data.results.length-1].id:scope.activeTask=data.results[0].id,scope.selectedTask=scope.activeTask),data.results.forEach(function(event,idx){var end,elapsed,status,status_text;void 0!==play.firstTask&&null!==play.firstTask||(play.firstTask=event.id,play.hostCount=event.host_count?event.host_count:0),idx<data.results.length-1?end=data.results[idx+1].created:scope.jobData.plays[scope.activePlay]&&(end=scope.jobData.plays[scope.activePlay].finished),elapsed=end?GetElapsed({start:event.created,end:end}):"00:00:00",status=event.failed?"failed":event.changed?"changed":"successful",status_text=event.failed?"Failed":event.changed?"Changed":"OK",play.tasks[event.id]={id:event.id,play_id:scope.activePlay,name:event.name,status:status,status_text:status_text,status_tip:"Event ID: "+event.id+"<br />Status: "+status_text,created:event.created,modified:event.modified,finished:end,elapsed:elapsed,hostCount:event.host_count?event.host_count:0,reportedHosts:event.reported_hosts?event.reported_hosts:0,successfulCount:event.successful_count?event.successful_count:0,failedCount:event.failed_count?event.failed_count:0,changedCount:event.changed_count?event.changed_count:0,skippedCount:event.skipped_count?event.skipped_count:0,unreachableCount:event.unreachable_count?event.unreachable_count:0,taskActiveClass:"",hostResults:{}},play.firstTask!==event.id&&(play.tasks[event.id].hostCount=play.tasks[play.firstTask].hostCount),0===play.tasks[event.id].reportedHosts&&0===play.tasks[event.id].successfulCount&&0===play.tasks[event.id].failedCount&&0===play.tasks[event.id].changedCount&&0===play.tasks[event.id].skippedCount&&0===play.tasks[event.id].unreachableCount&&(play.tasks[event.id].status="no-matching-hosts",play.tasks[event.id].status_text="No matching hosts",play.tasks[event.id].status_tip="Event ID: "+event.id+"<br />Status: No matching hosts"),play.taskCount++,SetTaskStyles({task:play.tasks[event.id]})}),scope.activeTask&&scope.jobData.plays[scope.activePlay]&&scope.jobData.plays[scope.activePlay].tasks[scope.activeTask]&&(scope.jobData.plays[scope.activePlay].tasks[scope.activeTask].taskActiveClass="JobDetail-tableRow--selected"),scope.$emit("LoadHosts")}).error(function(data){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call failed. GET returned: "+status})})}else scope.$emit("InitialLoadComplete")}else scope.$emit("InitialLoadComplete")}),scope.removeLoadPlays&&scope.removeLoadPlays(),scope.removeLoadPlays=scope.$on("LoadPlays",function(e,events_url){scope.jobData.plays={};var params={order_by:"id"
};JobDetailService.getJobPlays(scope.job.id,params).success(function(data){scope.next_plays=data.next,data.results.length>0?(lastEventId=data.results[data.results.length-1].id,scope.liveEventProcessing?scope.activePlay=data.results[data.results.length-1].id:scope.activePlay=data.results[0].id,scope.selectedPlay=scope.activePlay):"failed"!==scope.job_status.status&&"error"!==scope.job_status.status||scope.job_status.explanation||(scope.job_status.explanation="See standard out for more details"),data.results.forEach(function(event,idx){var status,status_text,start,end,elapsed,ok,changed,failed,skipped;status=event.failed?"failed":event.changed?"changed":"successful",status_text=event.failed?"Failed":event.changed?"Changed":"OK",start=event.started,idx<data.results.length-1?end=data.results[idx+1].started:JobIsFinished(scope)&&(end=scope.job_status.finished),elapsed=end?GetElapsed({start:start,end:end}):"00:00:00",scope.jobData.plays[event.id]={id:event.id,name:event.play,created:start,finished:end,status:status,status_text:status_text,status_tip:"Event ID: "+event.id+"<br />Status: "+status_text,elapsed:elapsed,hostCount:0,fistTask:null,taskCount:0,playActiveClass:"",unreachableCount:event.unreachable_count?event.unreachable_count:0,tasks:{}},ok=event.ok_count?event.ok_count:0,changed=event.changed_count?event.changed_count:0,failed=event.failed_count?event.failed_count:0,skipped=event.skipped_count?event.skipped_count:0,scope.jobData.plays[event.id].hostCount=ok+changed+failed+skipped,(scope.jobData.plays[event.id].hostCount>0||event.unreachable_count>0||"successful"===scope.job_status.status||"failed"===scope.job_status.status||"error"===scope.job_status.status||"canceled"===scope.job_status.status)&&(scope.jobData.plays[event.id].taskCount=1),0===scope.jobData.plays[event.id].hostCount&&0===event.unreachable_count&&(scope.jobData.plays[event.id].status="no-matching-hosts",scope.jobData.plays[event.id].status_text="No matching hosts",scope.jobData.plays[event.id].status_tip="Event ID: "+event.id+"<br />Status: No matching hosts")}),scope.activePlay&&scope.jobData.plays[scope.activePlay]&&(scope.jobData.plays[scope.activePlay].playActiveClass="JobDetail-tableRow--selected"),scope.$emit("LoadTasks",events_url)})}),scope.removeLoadJob&&scope.removeLoadJob(),scope.removeLoadJobRow=scope.$on("LoadJob",function(){Wait("start"),scope.job_status={},scope.playsLoading=!0,scope.tasksLoading=!0,scope.hostResultsLoading=!0,JobDetailService.getJob({id:job_id}).success(function(res){var i,data=res.results[0];for(scope.job=data,scope.job_template_name=data.name,scope.project_name=data.summary_fields.project?data.summary_fields.project.name:"",scope.inventory_name=data.summary_fields.inventory?data.summary_fields.inventory.name:"",scope.job_template_url="/#/templates/"+data.unified_job_template,scope.inventory_url=scope.inventory_name&&data.inventory?"/#/inventories/"+data.inventory:"",scope.project_url=scope.project_name&&data.project?"/#/projects/"+data.project:"",scope.credential_url=data.credential?"/#/credentials/"+data.credential:"",scope.cloud_credential_url=data.cloud_credential?"/#/credentials/"+data.cloud_credential:"",scope.playbook=data.playbook,scope.credential=data.credential,scope.cloud_credential=data.cloud_credential,scope.forks=data.forks,scope.limit=data.limit,scope.verbosity=data.verbosity,scope.job_tags=data.job_tags,scope.variables=ParseVariableString(data.extra_vars),data.summary_fields.created_by?(scope.users_url="/#/users/"+data.summary_fields.created_by.id,scope.created_by=data.summary_fields.created_by.username):data.summary_fields.schedule&&(scope.scheduled_by=data.summary_fields.schedule.name?data.summary_fields.schedule.name.toString():""),data.summary_fields.credential?(scope.credential_name=data.summary_fields.credential.name,scope.credential_url=data.related.credential.replace("api/v1","#")):scope.credential_name="",data.summary_fields.cloud_credential?(scope.cloud_credential_name=data.summary_fields.cloud_credential.name,scope.cloud_credential_url=data.related.cloud_credential.replace("api/v1","#")):scope.cloud_credential_name="",data.summary_fields.network_credential?(scope.network_credential_name=data.summary_fields.network_credential.name,scope.network_credential_url=data.related.network_credential.replace("api/v1","#")):scope.network_credential_name="",i=0;i<verbosity_options.length;i++)verbosity_options[i].value===data.verbosity&&(scope.verbosity=verbosity_options[i].label);for(i=0;i<job_type_options.length;i++)job_type_options[i].value===data.job_type&&(scope.job_type=job_type_options[i].label);scope.job_status.status="waiting"===data.status||"new"===data.status?"pending":data.status,scope.job_status.started=data.started,scope.job_status.status_class="error"!==data.status&&"failed"!==data.status||!data.job_explanation?"":"alert alert-danger",scope.job_status.explanation=data.job_explanation,data.result_traceback&&(scope.job_status.traceback=data.result_traceback.trim().split("\n").join("<br />")),"successful"===data.status||"failed"===data.status||"error"===data.status||"canceled"===data.status?(scope.job_status.finished=data.finished,scope.liveEventProcessing=!1,scope.pauseLiveEvents=!1,scope.waiting=!1,scope.playsLoading=!1,scope.tasksLoading=!1,scope.hostResultsLoading=!1):scope.job_status.finished=null,data.started&&data.finished?scope.job_status.elapsed=GetElapsed({start:data.started,end:data.finished}):scope.job_status.elapsed="00:00:00",scope.status_choices.every(function(status){return status.value!==scope.job.status||(scope.job_status.status_label=status.label,!1)}),ParseTypeChange({scope:scope,field_id:"pre-formatted-variables",readOnly:!0}),scope.$emit("LoadPlays",data.related.job_events)}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve job: "+$stateParams.id+". GET returned: "+status})})}),scope.removeRefreshCompleted&&scope.removeRefreshCompleted(),scope.removeRefreshCompleted=scope.$on("RefreshCompleted",function(){refresh_count++,1===refresh_count&&scope.$emit("LoadJob")}),scope.adjustSize=function(){var height,ww=$(window).width();ww<1024?($("#job-summary-container").hide(),$("#job-detail-container").css({width:"100%","padding-right":"15px"}),$("#summary-button").show()):($(".overlay").hide(),$("#summary-button").hide(),$("#hide-summary-button").hide(),$("#job-summary-container .job_well").css({"box-shadow":"none",height:"auto"}),$("#job-summary-container").css({width:"41.66666667%","padding-left":"7px","padding-right":"15px","z-index":0}),setTimeout(function(){$("#job-summary-container .job_well").height($("#job-detail-container").height()-18)},500),$("#job-summary-container").show()),scope.lessStatus=!1,height=$(window).height()-$("#main-menu-container .navbar").outerHeight()-$("#job-detail-container").outerHeight()-20,scope.$emit("RefreshCompleted")},setTimeout(function(){scope.adjustSize()},500),$(window).resize(_.debounce(function(){scope.adjustSize()},500)),scope.selectPlay=function(id){scope.liveEventProcessing&&!scope.pauseLiveEvents&&(scope.pauseLiveEvents=!0,flashPlayTip()),SelectPlay({scope:scope,id:id})},scope.selectTask=function(id){scope.liveEventProcessing&&!scope.pauseLiveEvents&&(scope.pauseLiveEvents=!0,flashPlayTip()),SelectTask({scope:scope,id:id})},scope.togglePlayButton=function(){scope.pauseLiveEvents&&(scope.pauseLiveEvents=!1,scope.$emit("LoadJob"))},scope.objectIsEmpty=function(obj){return!angular.isObject(obj)||!(Object.keys(obj).length>0)},scope.toggleLessEvents=function(){scope.lessEvents?($("#events-summary").slideDown(0),scope.lessEvents=!1):($("#events-summary").slideUp(0),scope.lessEvents=!0)},scope.toggleLessStatus=function(){scope.lessStatus?($("#job-status-form").slideDown(200),scope.lessStatus=!1):($("#job-status-form").slideUp(200),scope.lessStatus=!0)},scope.toggleLessDetail=function(){scope.lessDetail?($("#job-detail-details").slideDown(200),scope.lessDetail=!1):($("#job-detail-details").slideUp(200),scope.lessDetail=!0)},scope.removeDeleteFinished&&scope.removeDeleteFinished(),scope.removeDeleteFinished=scope.$on("DeleteFinished",function(e,action){Wait("stop"),"cancel"!==action&&(Wait("stop"),$location.url("/jobs"))}),scope.deleteJob=function(){DeleteJob({scope:scope,id:scope.job.id,job:scope.job,callback:"DeleteFinished"})},scope.relaunchJob=function(){RelaunchPlaybook({scope:scope,id:scope.job.id})},scope.playsScrollDown=function(){(!scope.liveEventProcessing||scope.liveEventProcessing&&scope.pauseLiveEvents)&&scope.next_plays&&($("#playsMoreRows").fadeIn(),scope.playsLoading=!0,JobDetailService.getNextPage(scope.next_plays).success(function(data){scope.next_plays=data.next,data.results.forEach(function(event,idx){var status,status_text,start,end,elapsed,ok,changed,failed,skipped;status=event.failed?"failed":event.changed?"changed":"successful",status_text=event.failed?"Failed":event.changed?"Changed":"OK",start=event.started,idx<data.results.length-1?end=data.results[idx+1].started:JobIsFinished(scope)&&(end=scope.job_status.finished),elapsed=end?GetElapsed({start:start,end:end}):"00:00:00",scope.plays.push({id:event.id,name:event.play,created:start,finished:end,status:status,status_text:status_text,status_tip:"Event ID: "+event.id+"<br />Status: "+status_text,elapsed:elapsed,hostCount:0,fistTask:null,playActiveClass:"",unreachableCount:event.unreachable_count?event.unreachable_count:0}),ok=event.ok_count?event.ok_count:0,changed=event.changed_count?event.changed_count:0,failed=event.failed_count?event.failed_count:0,skipped=event.skipped_count?event.skipped_count:0,scope.plays[scope.plays.length-1].hostCount=ok+changed+failed+skipped,scope.playsLoading=!1}),$("#playsMoreRows").fadeOut(400)}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+scope.next_plays+". GET returned: "+status})}))},scope.tasksScrollDown=function(){(!scope.liveEventProcessing||scope.liveEventProcessing&&scope.pauseLiveEvents)&&scope.next_tasks&&($("#tasksMoreRows").fadeIn(),scope.tasksLoading=!0,JobDetailService.getNextPage(scope.next_tasks).success(function(data){scope.next_tasks=data.next,data.results.forEach(function(event,idx){var end,elapsed,status,status_text;idx<data.results.length-1?end=data.results[idx+1].created:scope.plays.every(function(p,j){return p.id!==scope.selectedPlay||(end=scope.plays[j].finished,!1)}),elapsed=end?GetElapsed({start:event.created,end:end}):"00:00:00",status=event.failed?"failed":event.changed?"changed":"successful",status_text=event.failed?"Failed":event.changed?"Changed":"OK",scope.tasks.push({id:event.id,play_id:scope.selectedPlay,name:event.name,status:status,status_text:status_text,status_tip:"Event ID: "+event.id+"<br />Status: "+status_text,created:event.created,modified:event.modified,finished:end,elapsed:elapsed,hostCount:event.host_count,reportedHosts:event.reported_hosts,successfulCount:event.successful_count,failedCount:event.failed_count,changedCount:event.changed_count,skippedCount:event.skipped_count,taskActiveClass:""}),SetTaskStyles({task:scope.tasks[scope.tasks.length-1]})}),$("#tasksMoreRows").fadeOut(400),scope.tasksLoading=!1}).error(function(data,status){$("#tasksMoreRows").fadeOut(400),ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+scope.next_tasks+". GET returned: "+status})}))},scope.hostResultsScrollDown=function(){(!scope.liveEventProcessing||scope.liveEventProcessing&&scope.pauseLiveEvents)&&scope.next_host_results&&($("#hostResultsMoreRows").fadeIn(),scope.hostResultsLoading=!0,JobDetailService.getNextPage(scope.next_host_results).success(function(data){scope.next_host_results=data.next,data.results.forEach(function(row){var status,status_text,item,msg;switch(status="runner_on_skipped"===row.event?"skipped":"runner_on_unreachable"===row.event?"unreachable":row.failed?"failed":row.changed?"changed":"successful"){case"successful":status_text="OK";break;case"changed":status_text="Changed";break;case"failed":status_text="Failed";break;case"unreachable":status_text="Unreachable";break;case"skipped":status_text="Skipped"}row.event_data&&row.event_data.res&&(item=row.event_data.res.item,"object"===("undefined"==typeof item?"undefined":_typeof(item))&&(item=JSON.stringify(item))),msg="",row.event_data&&row.event_data.res&&(msg="object"===_typeof(row.event_data.res)?row.event_data.res.msg:row.event_data.res),scope.hostResults.push({id:row.id,status:status,status_text:status_text,host_id:row.host,task_id:row.parent,name:row.event_data.host,created:row.created,msg:row.event_data&&row.event_data.res?row.event_data.res.msg:"",item:item}),scope.hostResultsLoading=!1}),$("#hostResultsMoreRows").fadeOut(400)}).error(function(data,status){$("#hostResultsMoreRows").fadeOut(400),ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+scope.next_host_results+". GET returned: "+status})}))},scope.refresh=function(){$scope.$emit("LoadJob")},$scope.toggleStdoutFullscreen=function(){$scope.stdoutFullScreen=!$scope.stdoutFullScreen},scope.editSchedule=function(){var regex=/\/api\/v1\/schedules\/(\d+)\//,id=scope.job.related.schedule.match(regex)[1];scope.job.job_template&&id&&$state.go("jobTemplateSchedules.edit",{id:scope.job.job_template,schedule_id:id})},scope.removeSchedulesRefresh&&scope.removeSchedulesRefresh(),scope.$on("SchedulesRefresh",function(e,data){data&&(scope.scheduled_by=data.name)})}]}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=["$rootScope","Rest","GetBasePath","ProcessErrors",function($rootScope,Rest,GetBasePath,ProcessErrors){return{stringifyParams:function(params){return _.reduce(params,function(result,value,key){return result+key+"="+value+"&"},"")},processJson:function(data){var ignored=["type","event_data","related","summary_fields","url","ansible_facts"],result=_.chain(data).cloneDeep().forEach(function(value,key,collection){ignored.indexOf(key)>-1&&delete collection[key]}).value();return result},processEventMsg:function(event){return"object"===_typeof(event.event_data.res)?event.event_data.res.msg:event.event_data.res},processEventItem:function(event){try{var item=event.event_data.res.item;return"object"===("undefined"==typeof item?"undefined":_typeof(item))?JSON.stringify(item):item}catch(err){return}},processsEventTip:function(event,status){try{var string="Event ID: "+event.id+"<br>Status: "+_.capitalize(status.status)+". Click for details";return"object"===("undefined"==typeof item?"undefined":_typeof(item))?JSON.stringify(string):string}catch(err){return}},processEventStatus:function(event){return"runner_on_unreachable"===event.event?{class:"HostEvents-status--unreachable",status:"unreachable"}:event.failed?{class:"HostEvents-status--failed",status:"failed"}:event.changed?{class:"HostEvents-status--changed",status:"changed"}:"runner_on_ok"===event.event||"runner_on_async_ok"===event.event?{class:"HostEvents-status--ok",status:"ok"}:"runner_on_skipped"===event.event?{class:"HostEvents-status--skipped",status:"skipped"}:void 0},processHostEvents:function(data){var self=this,results=[];return data.forEach(function(event){if("runner_on_no_hosts"!==event.event){var status=self.processEventStatus(event),msg=self.processEventMsg(event),item=self.processEventItem(event),tip=self.processsEventTip(event,status);results.push({id:event.id,status:status.status,status_text:_.capitalize(status.status),host_id:event.host,task_id:event.parent,name:event.event_data.host,created:event.created,tip:"undefined"==typeof tip?void 0:tip,msg:"undefined"==typeof msg?void 0:msg,item:"undefined"==typeof item?void 0:item})}}),results},getRelatedJobEvents:function(id,params){var url=GetBasePath("jobs");return url=url+id+"/job_events/?"+this.stringifyParams(params),Rest.setUrl(url),Rest.get().success(function(data){return data}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})},getJobEventChildren:function(uuid){var url=GetBasePath("job_events");return url=url+"?parent__uuid="+uuid+"&order_by=host_name",Rest.setUrl(url),Rest.get().success(function(data){return data}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})},getJobHostSummaries:function(id,params){var url=GetBasePath("jobs");return url=url+id+"/job_host_summaries/?"+this.stringifyParams(params),Rest.setUrl(url),Rest.get().success(function(data){return data}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})},getJobPlays:function(id,params){var url=GetBasePath("jobs");return url=url+id+"/job_plays/?"+this.stringifyParams(params),Rest.setUrl(url),Rest.get().success(function(data){return data}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})},getJobTasks:function(id,params){var url=GetBasePath("jobs");return url=url+id+"/job_tasks/?"+this.stringifyParams(params),Rest.setUrl(url),Rest.get().success(function(data){return data}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})},getJob:function(params){var url=GetBasePath("unified_jobs")+"?"+this.stringifyParams(params);return Rest.setUrl(url),Rest.get().success(function(data){return data}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})},getNextPage:function(url){return Rest.setUrl(url),Rest.get().success(function(data){return data}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _hostEvents=__webpack_require__(506),_hostEvents2=_interopRequireDefault(_hostEvents),_hostEvents3=__webpack_require__(507),_hostEvents4=_interopRequireDefault(_hostEvents3);exports.default=angular.module("jobDetail.hostEvents",[]).controller("HostEventsController",_hostEvents4.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_hostEvents2.default)}])},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default={name:"jobDetail.host-events",url:"/host-events/{hostName:any}?:filter",controller:"HostEventsController",params:{page_size:10},templateUrl:(0,_templateUrl.templateUrl)("job-detail/host-events/host-events"),onExit:function(){$("#HostEvents").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open")},resolve:{hosts:["JobDetailService","$stateParams",function(JobDetailService,$stateParams){return JobDetailService.getRelatedJobEvents($stateParams.id,{host_name:$stateParams.hostName}).success(function(res){return res.results[0]})}]}}}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$stateParams","$scope","$rootScope","$state","Wait","JobDetailService","CreateSelect2","hosts",function($stateParams,$scope,$rootScope,$state,Wait,JobDetailService,CreateSelect2,hosts){$scope.page_size=$stateParams.page_size,$scope.processEventStatus=JobDetailService.processEventStatus,$scope.activeFilter=$stateParams.filter||null,$scope.filters=["all","changed","failed","ok","unreachable","skipped"],$(".HostEvents-select").on("select2:select",function(){$scope.activeFilter=$(".HostEvents-select").val()});var init=function(){$scope.hostName=$stateParams.hostName,CreateSelect2({element:".HostEvents-select",multiple:!1}),$stateParams.filter?($scope.activeFilter=$stateParams.filter,$("#HostEvents").modal("show")):($scope.results=hosts.data.results,$("#HostEvents").modal("show"))};init()}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _hostSummary=__webpack_require__(509),_hostSummary2=_interopRequireDefault(_hostSummary),_hostSummary3=__webpack_require__(510),_hostSummary4=_interopRequireDefault(_hostSummary3);exports.default=angular.module("jobDetail.hostSummary",[]).controller("HostSummaryController",_hostSummary4.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_hostSummary2.default)}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default={name:"jobDetail.host-summary",url:"/event-summary",views:{"host-summary":{controller:"HostSummaryController",templateUrl:(0,_templateUrl.templateUrl)("job-detail/host-summary/host-summary")}},ncyBreadcrumb:{skip:!0}}},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$stateParams","Wait","JobDetailService","DrawGraph",function($scope,$rootScope,$stateParams,Wait,JobDetailService,DrawGraph){var page_size=200;$scope.loading=!($scope.hosts.length>0),$scope.filter="all";var buildGraph=function(hosts){var count;return count={ok:_.filter(hosts,function(o){return 0===o.failures&&0===o.changed&&o.ok>0}),skipped:_.filter(hosts,function(o){return o.skipped>0}),unreachable:_.filter(hosts,function(o){return o.dark>0}),failures:_.filter(hosts,function(o){return o.failed===!0}),changed:_.filter(hosts,function(o){return o.changed>0})}},init=function(){Wait("start"),JobDetailService.getJobHostSummaries($stateParams.id,{page_size:page_size,order_by:"host_name"}).success(function(res){$scope.hosts=res.results,$scope.next=res.next,$scope.count=buildGraph(res.results),Wait("stop"),DrawGraph({count:$scope.count,resize:!0})}),JobDetailService.getJob({id:$stateParams.id}).success(function(res){$scope.status=res.results[0].status})};$rootScope.removeJobSummaryComplete&&$rootScope.removeJobSummaryComplete(),$scope.$on("ws-jobs-summary",function(e,data){parseInt($stateParams.id)===data.unified_job_id&&init()}),$scope.$on("ws-jobs",function(e,data){parseInt($stateParams.id)===data.unified_job_id&&($scope.status=data.status)}),$scope.buildTooltip=function(n,status){var grammar=function(n,status){var dict={0:"No host events were ",1:" host event was ",2:" host events were "};return n>=2?n+dict[2]+status:0!==n?n+dict[n]+status:dict[n]+status};return grammar(n,status)},$scope.getNextPage=function(){$scope.next&&JobDetailService.getNextPage($scope.next).success(function(res){res.results.forEach(function(key,index){$scope.hosts.push(res.results[index])}),$scope.hosts.push(res.results),$scope.next=res.next})},$scope.setFilter=function(filter){$scope.filter=filter;var getAll=function(){Wait("start"),JobDetailService.getJobHostSummaries($stateParams.id,{page_size:page_size,order_by:"host_name"}).success(function(res){Wait("stop"),$scope.hosts=res.results,$scope.next=res.next})},getFailed=function(){Wait("start"),JobDetailService.getJobHostSummaries($stateParams.id,{page_size:page_size,failed:!0,order_by:"host_name"}).success(function(res){Wait("stop"),$scope.hosts=res.results,$scope.next=res.next})};$scope.get="all"===filter?getAll():getFailed()},init(),init()}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(512),_main2=_interopRequireDefault(_main),_workflowResultsRoute=__webpack_require__(514),_workflowResultsRoute2=_interopRequireDefault(_workflowResultsRoute),_workflowResults=__webpack_require__(516),_workflowResults2=_interopRequireDefault(_workflowResults),_workflowResults3=__webpack_require__(515),_workflowResults4=_interopRequireDefault(_workflowResults3);exports.default=angular.module("workflowResults",[_main2.default.name]).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_workflowResultsRoute2.default)}]).controller("workflowResultsController",_workflowResults4.default).service("workflowResultsService",_workflowResults2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _workflowStatusBar=__webpack_require__(513),_workflowStatusBar2=_interopRequireDefault(_workflowStatusBar);exports.default=angular.module("workflowStatusBarDirective",[]).directive("workflowStatusBar",_workflowStatusBar2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{scope:!0,templateUrl:templateUrl("workflow-results/workflow-status-bar/workflow-status-bar"),restrict:"E",link:function(scope){scope.$watch("count",function(val){val&&(Object.keys(val).forEach(function(key){$(".WorkflowStatusBar-"+key).css("flex",val[key]+" 0 auto"),val[key]>0&&(scope[key+"CountTip"]="<span class='WorkflowStatusBar-tooltipLabel'>"+key+"</span><span class='badge WorkflowStatusBar-tooltipBadge WorkflowStatusBar-tooltipBadge--"+key+"'>"+val[key]+"</span>")}),scope.hostsFinished=Object.keys(val).filter(function(key){return val[key]>0}).length>0)})}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_workflowResults=__webpack_require__(515),_workflowResults2=_interopRequireDefault(_workflowResults);exports.default={name:"workflowResults",url:"/workflows/:id",ncyBreadcrumb:{parent:"jobs",label:"{{ workflow.id }} - {{ workflow.name }}"},data:{socket:{groups:{jobs:["status_changed"]}}},templateUrl:(0,_templateUrl.templateUrl)("workflow-results/workflow-results"),controller:_workflowResults2.default,resolve:{workflowData:["Rest","GetBasePath","$stateParams","$q","$state","Alert",function(Rest,GetBasePath,$stateParams,$q,$state,Alert){Rest.setUrl(GetBasePath("workflow_jobs")+$stateParams.id);var defer=$q.defer();return Rest.get().then(function(data){defer.resolve(data.data)},function(data){defer.reject(data),404===data.status?Alert("Job Not Found","Cannot find job.","alert-info"):403===data.status&&Alert("Insufficient Permissions","You do not have permission to view this job.","alert-info"),$state.go("jobs")}),defer.promise}],workflowNodes:["workflowData","Rest","$q",function(workflowData,Rest,$q){var defer=$q.defer();return Rest.setUrl(workflowData.related.workflow_nodes+"?order_by=id"),Rest.get().success(function(data){data.next?!function(){var allNodes=data.results,getNodes=function getNodes(nextUrl){Rest.setUrl(nextUrl),Rest.get().success(function(nextData){for(var i=0;i<nextData.results.length;i++)allNodes.push(nextData.results[i]);nextData.next?getNodes(nextData.next):defer.resolve(allNodes)})};getNodes(data.next)}():defer.resolve(data.results)}).error(function(){}),defer.promise}],count:["workflowData","workflowNodes","workflowResultsService","Rest","$q",function(workflowData,workflowNodes,workflowResultsService,Rest,$q){var defer=$q.defer();return defer.resolve({val:workflowResultsService.getCounts(workflowNodes),countFinished:!0}),defer.promise}],jobLabels:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){var getNext=function getNext(data,arr,resolve){Rest.setUrl(data.next),Rest.get().success(function(data){data.next?getNext(data,arr.concat(data.results),resolve):resolve.resolve(arr.concat(data.results).map(function(val){return val.name}))})},seeMoreResolve=$q.defer();return Rest.setUrl(GetBasePath("workflow_jobs")+$stateParams.id+"/labels/"),Rest.get().success(function(data){data.next?getNext(data,data.results,seeMoreResolve):seeMoreResolve.resolve(data.results.map(function(val){return val.name}))}),seeMoreResolve.promise}],workflowDataOptions:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){Rest.setUrl(GetBasePath("workflow_jobs")+$stateParams.id);var defer=$q.defer();return Rest.options().then(function(data){defer.resolve(data.data)},function(data){defer.reject(data)}),defer.promise}]}}},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["workflowData","workflowResultsService","workflowDataOptions","jobLabels","workflowNodes","$scope","ParseTypeChange","ParseVariableString","WorkflowService","count","$state","i18n","moment",function(workflowData,workflowResultsService,workflowDataOptions,jobLabels,workflowNodes,$scope,ParseTypeChange,ParseVariableString,WorkflowService,count,$state,i18n,moment){function init(){$scope.workflow=workflowData,$scope.workflow_nodes=workflowNodes,$scope.workflowOptions=workflowDataOptions.actions.GET,$scope.labels=jobLabels,$scope.count=count.val,$scope.showManualControls=!1,null!==$scope.workflow.started&&"running"===$scope.workflow.status&&(runTimeElapsedTimer=workflowResultsService.createOneSecondTimer($scope.workflow.started,updateWorkflowJobElapsedTimer)),workflowData.summary_fields&&workflowData.summary_fields.workflow_job_template&&workflowData.summary_fields.workflow_job_template.id&&($scope.workflow_job_template_link="/#/templates/workflow_job_template/"+$scope.workflow.summary_fields.workflow_job_template.id),$scope.toggleStdoutFullscreenTooltip=i18n._("Expand Output"),getTowerLinks(),getTowerLabels(),$scope.variables=ParseVariableString($scope.workflow.extra_vars),$scope.parseType="yaml",ParseTypeChange({scope:$scope,field_id:"pre-formatted-variables",readOnly:!0}),$scope.stdoutFullScreen=!1,WorkflowService.buildTree({workflowNodes:workflowNodes}).then(function(data){$scope.treeData=data,$scope.treeData.data.children||($scope.treeData.data.children=[]),$scope.canAddWorkflowJobTemplate=!1})}var runTimeElapsedTimer=null,getTowerLinks=function(){var getTowerLink=function(key){return"schedule"===key?$scope.workflow.related.schedule?"/#/templates/workflow_job_template/"+$scope.workflow.workflow_job_template+"/schedules"+$scope.workflow.related.schedule.split("api/v1/schedules")[1]:null:$scope.workflow.related[key]?"/#/"+$scope.workflow.related[key].split("api/v1/")[1]:null};$scope.workflow_template_link="/#/templates/workflow_job_template/"+$scope.workflow.workflow_job_template,$scope.created_by_link=getTowerLink("created_by"),$scope.scheduled_by_link=getTowerLink("schedule"),$scope.cloud_credential_link=getTowerLink("cloud_credential"),$scope.network_credential_link=getTowerLink("network_credential")},getTowerLabels=function(){var getTowerLabel=function(key){return $scope.workflowOptions&&$scope.workflowOptions[key]?$scope.workflowOptions[key].choices.filter(function(val){return val[0]===$scope.workflow[key]}).map(function(val){return val[1]})[0]:null};$scope.status_label=getTowerLabel("status"),$scope.type_label=getTowerLabel("job_type"),$scope.verbosity_label=getTowerLabel("verbosity")},updateWorkflowJobElapsedTimer=function(time){$scope.workflow.elapsed=time};$scope.toggleStdoutFullscreen=function(){$scope.$broadcast("workflowDetailsResized"),
$scope.stdoutFullScreen=!$scope.stdoutFullScreen,$scope.stdoutFullScreen===!0?$scope.toggleStdoutFullscreenTooltip=i18n._("Collapse Output"):$scope.stdoutFullScreen===!1&&($scope.toggleStdoutFullscreenTooltip=i18n._("Expand Output"))},$scope.deleteJob=function(){workflowResultsService.deleteJob($scope.workflow)},$scope.cancelJob=function(){workflowResultsService.cancelJob($scope.workflow)},$scope.relaunchJob=function(){workflowResultsService.relaunchJob($scope)},$scope.toggleManualControls=function(){$scope.showManualControls=!$scope.showManualControls},$scope.lessLabels=!1,$scope.toggleLessLabels=function(){$scope.lessLabels?($("#workflow-results-labels").slideDown(200),$scope.lessLabels=!1):($("#workflow-results-labels").slideUp(200),$scope.lessLabels=!0)},$scope.panChart=function(direction){$scope.$broadcast("panWorkflowChart",{direction:direction})},$scope.zoomChart=function(zoom){$scope.$broadcast("zoomWorkflowChart",{zoom:zoom})},$scope.resetChart=function(){$scope.$broadcast("resetWorkflowChart")},$scope.workflowZoomed=function(zoom){$scope.$broadcast("workflowZoomed",{zoom:zoom})},init(),$scope.$on("ws-jobs",function(e,data){parseInt(data.unified_job_id,10)===parseInt($scope.workflow.id,10)&&($scope.workflow.status=data.status,"running"===$scope.workflow.status&&(runTimeElapsedTimer=workflowResultsService.createOneSecondTimer(moment(),updateWorkflowJobElapsedTimer)),"successful"!==data.status&&"failed"!==data.status&&"error"!==data.status||$state.go(".",null,{reload:!0})),data.hasOwnProperty("workflow_job_id")&&parseInt(data.workflow_job_id,10)===parseInt($scope.workflow.id,10)&&(WorkflowService.updateStatusOfNode({treeData:$scope.treeData,nodeId:data.workflow_node_id,status:data.status,unified_job_id:data.unified_job_id}),$scope.workflow_nodes.forEach(function(node){parseInt(node.id)===parseInt(data.workflow_node_id)&&(node.summary_fields.job={status:data.status})}),$scope.count=workflowResultsService.getCounts($scope.workflow_nodes),$scope.$broadcast("refreshWorkflowChart"))}),$scope.$on("$destroy",function(){workflowResultsService.destroyTimer(runTimeElapsedTimer)})}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$q","Prompt","$filter","Wait","Rest","$state","ProcessErrors","InitiatePlaybookRun","$interval","moment",function($q,Prompt,$filter,Wait,Rest,$state,ProcessErrors,InitiatePlaybookRun,$interval,moment){var val={getCounts:function(workflowNodes){var nodeArr=[];workflowNodes.forEach(function(node){node&&node.summary_fields&&node.summary_fields.job&&node.summary_fields.job.status&&nodeArr.push(node.summary_fields.job.status)});var count={successful:_.filter(nodeArr,function(o){return"successful"===o}),failed:_.filter(nodeArr,function(o){return"failed"===o||"error"===o||"canceled"===o})};return Object.keys(count).forEach(function(key){count[key]=count[key].length}),count},deleteJob:function(workflow){Prompt({hdr:"Delete Job",body:"<div class='Prompt-bodyQuery'>\n                        Are you sure you want to delete the workflow below?\n                    </div>\n                    <div class='Prompt-bodyTarget'>\n                        #"+workflow.id+" "+$filter("sanitize")(workflow.name)+"\n                    </div>",action:function(){Wait("start"),Rest.setUrl(workflow.url),Rest.destroy().success(function(){Wait("stop"),$("#prompt-modal").modal("hide"),$state.go("jobs")}).error(function(obj,status){Wait("stop"),$("#prompt-modal").modal("hide"),ProcessErrors(null,obj,status,null,{hdr:"Error!",msg:"Could not delete job.\n                                    Returned status: "+status})})},actionText:"DELETE"})},cancelJob:function(workflow){var doCancel=function(){Rest.setUrl(workflow.url+"cancel"),Rest.post({}).success(function(){Wait("stop"),$("#prompt-modal").modal("hide")}).error(function(obj,status){Wait("stop"),$("#prompt-modal").modal("hide"),ProcessErrors(null,obj,status,null,{hdr:"Error!",msg:"Could not cancel workflow.\n                                Returned status: "+status})})};Prompt({hdr:"Cancel Workflow",body:"<div class='Prompt-bodyQuery'>\n                        Are you sure you want to cancel the workflow below?\n                    </div>\n                    <div class='Prompt-bodyTarget'>\n                        #"+workflow.id+" "+$filter("sanitize")(workflow.name)+"\n                    </div>",action:function(){Wait("start"),Rest.setUrl(workflow.url+"cancel"),Rest.get().success(function(data){data.can_cancel===!0?doCancel():($("#prompt-modal").modal("hide"),ProcessErrors(null,data,null,null,{hdr:"Error!",msg:"Job has completed,\n                                        unabled to be canceled."}))})},actionText:"PROCEED"})},relaunchJob:function(scope){InitiatePlaybookRun({scope:scope,id:scope.workflow.id,relaunch:!0,job_type:"workflow_job"})},createOneSecondTimer:function(startTime,fn){return $interval(function(){fn(moment().diff(moment(startTime),"seconds"))},1e3)},destroyTimer:function(timer){return null!==timer&&($interval.cancel(timer),timer=null,!0)}};return val}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(518),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(520),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(522),_main6=_interopRequireDefault(_main5),_jobResultsRoute=__webpack_require__(525),_jobResultsRoute2=_interopRequireDefault(_jobResultsRoute),_jobResults=__webpack_require__(526),_jobResults2=_interopRequireDefault(_jobResults),_jobResults3=__webpack_require__(527),_jobResults4=_interopRequireDefault(_jobResults3),_eventQueue=__webpack_require__(528),_eventQueue2=_interopRequireDefault(_eventQueue),_parseStdout=__webpack_require__(529),_parseStdout2=_interopRequireDefault(_parseStdout);exports.default=angular.module("jobResults",[_main2.default.name,_main4.default.name,_main6.default.name,"angularMoment"]).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_jobResultsRoute2.default)}]).controller("jobResultsController",_jobResults2.default).service("jobResultsService",_jobResults4.default).service("eventQueue",_eventQueue2.default).service("parseStdoutService",_parseStdout2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _hostStatusBar=__webpack_require__(519),_hostStatusBar2=_interopRequireDefault(_hostStatusBar);exports.default=angular.module("hostStatusBarDirective",[]).directive("hostStatusBar",_hostStatusBar2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{scope:!0,templateUrl:templateUrl("job-results/host-status-bar/host-status-bar"),restrict:"E",link:function(scope){var toDestroy=scope.$watch("count",function(val){val&&(Object.keys(val).forEach(function(key){$(".HostStatusBar-"+key).css("flex",val[key]+" 0 auto"),val[key]>0&&(scope[key+"CountTip"]="<span class='HostStatusBar-tooltipLabel'>"+key+"</span><span class='badge HostStatusBar-tooltipBadge HostStatusBar-tooltipBadge--"+key+"'>"+val[key]+"</span>")}),scope.hasCount=Object.keys(val).filter(function(key){return val[key]>0}).length>0)});scope.$on("$destroy",function(){toDestroy()})}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobResultsStdout=__webpack_require__(521),_jobResultsStdout2=_interopRequireDefault(_jobResultsStdout);exports.default=angular.module("jobResultStdOutDirective",[]).directive("jobResultsStandardOut",_jobResultsStdout2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl","$timeout","$location","$anchorScroll",function(templateUrl,$timeout,$location,$anchorScroll){return{scope:!1,templateUrl:templateUrl("job-results/job-results-stdout/job-results-stdout"),restrict:"E",link:function(scope,element){var resizer,scrollWatcher,toDestroy=[];scope.$on("$destroy",function(){$(window).off("resize",resizer),$(window).off("scroll",scrollWatcher),$(".JobResultsStdOut-stdoutContainer").off("scroll",scrollWatcher),toDestroy.forEach(function(closureFunc){return closureFunc()})}),scope.stdoutContainerAvailable.resolve("container available");var findTopLines=function(){var visItem,parentItem,$container=$(".JobResultsStdOut-stdoutContainer"),getHeadElement=function(line){var lineClassList,lineUUIDClass,lineHasHeaderClass=!(!line.hasClass("header_play")&&!line.hasClass("header_task"));return lineHasHeaderClass?(lineClassList=line.attr("class").split(" "),lineUUIDClass=lineClassList.filter(function(n){return n.indexOf("header_task_")>-1})[0],lineUUIDClass||(lineUUIDClass=lineClassList.filter(function(n){return n.indexOf("header_play_")>-1})[0]),$(".actual_header."+lineUUIDClass)):(lineClassList=line.attr("class").split(" "),lineUUIDClass=lineClassList.filter(function(n){return n.indexOf("task_")>-1})[0],lineUUIDClass||(lineUUIDClass=lineClassList.filter(function(n){return n.indexOf("play_")>-1})[0]),$(".actual_header.header_"+lineUUIDClass))};return $container.find(".JobResultsStdOut-aLineOfStdOut:visible").each(function(){var $this=$(this);if($this.position().top>=0){visItem=parseInt($($this.children()[0]).text());var $head=getHeadElement($this);return parentItem=parseInt($($head.children()[0]).text()),$this=null,!1}$this=null}),$container=null,{visLine:visItem,parentVisLine:parentItem}};window.innerWidth<=1200?scope.isMobile=!0:scope.isMobile=!1,resizer=function(){window.innerWidth<=1200&&!scope.isMobile?scope.isMobile=!0:window.innerWidth>1200&scope.isMobile&&(scope.isMobile=!1)},$(window).resize(resizer);var lastScrollTop,initScrollTop=function(){lastScrollTop=0};scrollWatcher=function(){var fullHeight,st=$(this).scrollTop(),netScroll=st+$(this).innerHeight();st<lastScrollTop&&(scope.followEngaged=!1),fullHeight=scope.isMobile?$("body").height():$(this)[0].scrollHeight-25,netScroll>=fullHeight&&(scope.followEngaged=!0),st>0&&(scope.stdoutOverflowed=!0),lastScrollTop=st,st=null,netScroll=null,fullHeight=null},toDestroy.push(scope.$watch("isMobile",function(val){val===!0?(scope.stdoutOverflowed=!0,$(".JobResultsStdOut-stdoutContainer").unbind("scroll"),initScrollTop(),$(window).on("scroll",scrollWatcher)):val===!1&&($(window).unbind("scroll"),initScrollTop(),$(".JobResultsStdOut-stdoutContainer").on("scroll",scrollWatcher))})),scope.followScroll=function(){$(".JobResultsStdOut-followAnchor").appendTo(".JobResultsStdOut-stdoutContainer"),$location.hash("followAnchor"),$anchorScroll()},scope.toTop=function(){$location.hash("topAnchor"),$anchorScroll()},scope.lineAnchor=function(){$location.hash("lineAnchor"),$anchorScroll()},toDestroy.push(scope.$watch("followEngaged",function(val){val&&scope.followScroll(),scope.jobFinished||(val?scope.followTooltip="Currently following standard out as it comes in.  Click to unfollow.":scope.followTooltip="Click to follow standard out as it comes in.")})),scope.followToggleClicked=function(){scope.jobFinished?scope.followScroll():scope.followEngaged=!scope.followEngaged},scope.toggleAllStdout=function(type){var topLines=findTopLines();"expand"===type?$(".line_num_"+topLines.visLine).prepend($("#lineAnchor")):$(".line_num_"+topLines.parentVisLine).prepend($("#lineAnchor"));var expandClass;expandClass="expand"===type?"fa-caret-right":"fa-caret-down",element.find(".expanderizer--task."+expandClass).each(function(i,val){$timeout(function(){angular.element(val).trigger("click"),scope.lineAnchor()})}),element.find(".expanderizer--play."+expandClass).each(function(i,val){0!==angular.element("."+angular.element(val).attr("data-uuid")).find(".expanderizer--task").length&&"collapse"===type||$timeout(function(){angular.element(val).trigger("click"),scope.lineAnchor()})})},scope.toggleLine=function($event,id){$($event.currentTarget).hasClass("fa-caret-down")?($(id).hide(),$($event.currentTarget).removeClass("fa-caret-down"),$($event.currentTarget).addClass("fa-caret-right")):($(id).show(),$($event.currentTarget).removeClass("fa-caret-right"),$($event.currentTarget).addClass("fa-caret-down"),$($event.currentTarget).hasClass("expanderizer--play")&&$("."+$($event.currentTarget).attr("data-uuid")).find(".expanderizer--task").each(function(i,val){$(val).hasClass("fa-caret-right")&&$timeout(function(){angular.element(val).trigger("click")})}))}}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _hostEvent=__webpack_require__(523),_hostEvent2=__webpack_require__(524),_hostEvent3=_interopRequireDefault(_hostEvent2);exports.default=angular.module("jobResults.hostEvent",[]).controller("HostEventController",_hostEvent3.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_hostEvent.hostEventModal),$stateExtender.addState(_hostEvent.hostEventJson),$stateExtender.addState(_hostEvent.hostEventStdout),$stateExtender.addState(_hostEvent.hostEventStderr)}])},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hostEventStderr=exports.hostEventStdout=exports.hostEventModal=exports.hostEventJson=void 0;var _templateUrl=__webpack_require__(116),hostEventModal={name:"jobDetail.host-event",url:"/host-event/:eventId",controller:"HostEventController",templateUrl:(0,_templateUrl.templateUrl)("job-results/host-event/host-event-modal"),abstract:!1,resolve:{hostEvent:["JobDetailService","$stateParams",function(JobDetailService,$stateParams){return JobDetailService.getRelatedJobEvents($stateParams.id,{id:$stateParams.eventId}).then(function(res){return res.data.results[0]})}],hostResults:["JobDetailService","$stateParams",function(JobDetailService,$stateParams){return JobDetailService.getJobEventChildren($stateParams.taskId).then(function(res){return res.data.results})}]},onExit:function(){$("#HostEvent").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open")}},hostEventJson={name:"jobDetail.host-event.json",url:"/json",controller:"HostEventController",templateUrl:(0,_templateUrl.templateUrl)("job-results/host-event/host-event-codemirror")},hostEventStdout={name:"jobDetail.host-event.stdout",url:"/stdout",controller:"HostEventController",templateUrl:(0,_templateUrl.templateUrl)("job-results/host-event/host-event-stdout")},hostEventStderr={name:"jobDetail.host-event.stderr",url:"/stderr",controller:"HostEventController",templateUrl:(0,_templateUrl.templateUrl)("job-results/host-event/host-event-stderr")};exports.hostEventJson=hostEventJson,exports.hostEventModal=hostEventModal,exports.hostEventStdout=hostEventStdout,exports.hostEventStderr=hostEventStderr}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(CodeMirror,$,_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=["$stateParams","$scope","$state","Wait","JobDetailService","hostEvent","hostResults",function($stateParams,$scope,$state,Wait,JobDetailService,hostEvent,hostResults){$scope.processEventStatus=JobDetailService.processEventStatus,$scope.hostResults=[],$scope.processResults=function(value){return"object"!==("undefined"==typeof value?"undefined":_typeof(value))},$scope.isStdOut=function(){if("jobDetail.host-event.stdout"===$state.current.name||"jobDetail.host-event.stderr"===$state.current.name)return"StandardOut-preContainer StandardOut-preContent"};var initCodeMirror=function(el,data,mode){var container=document.getElementById(el),editor=CodeMirror.fromTextArea(container,{lineNumbers:!0,mode:mode,readOnly:!0});editor.setSize("100%",200),editor.getDoc().setValue(data)};$scope.isActiveState=function(name){return $state.current.name===name},$scope.getActiveHostIndex=function(){var result=$scope.hostResults.filter(function(obj){return obj.id===$scope.event.id});return $scope.hostResults.indexOf(result[0])},$scope.closeHostEvent=function(){$("#HostEvent").off("hidden.bs.modal"),$state.go("jobDetail")};var init=function(){hostEvent.event_name=hostEvent.event,$scope.event=_.cloneDeep(hostEvent),$scope.hostResults=hostResults;try{$scope.module_name=hostEvent.event_data.task_action||"No result found",$scope.stdout=hostEvent.event_data.res.stdout?hostEvent.event_data.res.stdout:""===hostEvent.event_data.res.stdout?" ":void 0,$scope.stderr=hostEvent.event_data.res.stderr?hostEvent.event_data.res.stderr:""===hostEvent.event_data.res.stderr?" ":void 0,$scope.json=hostEvent.event_data.res}catch(err){}if("debug"===$scope.module_name&&hostEvent.event_data.res.hasOwnProperty("result")&&hostEvent.event_data.res.result.hasOwnProperty("stdout")&&($scope.stdout=hostEvent.event_data.res.result.stdout),"yum"===$scope.module_name&&hostEvent.event_data.res.hasOwnProperty("results")&&_.isArray(hostEvent.event_data.res.results)&&($scope.stdout=hostEvent.event_data.res.results[0]),"jobDetail.host-event.json"===$state.current.name)try{initCodeMirror("HostEvent-codemirror",JSON.stringify($scope.json,null,4),{name:"javascript",json:!0})}catch(err){}else if("jobDetail.host-event.stdout"===$state.current.name)try{initCodeMirror("HostEvent-codemirror",$scope.stdout,"shell")}catch(err){}else if("jobDetail.host-event.stderr"===$state.current.name)try{initCodeMirror("HostEvent-codemirror",$scope.stderr,"shell")}catch(err){}$("#HostEvent").modal("show"),$("#HostEvent").on("hidden.bs.modal",function(){$scope.closeHostEvent()})};init()}]}).call(exports,__webpack_require__(24),__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),defaultParams={page_size:"200",order_by:"start_line",not__event__in:"playbook_on_start,playbook_on_play_start,playbook_on_task_start,playbook_on_stats"};exports.default={name:"jobDetail",url:"/jobs/{id: int}",searchPrefix:"job_event",ncyBreadcrumb:{parent:"jobs",label:"{{ job.id }} - {{ job.name }}"},data:{socket:{groups:{jobs:["status_changed","summary"],job_events:[]}}},params:{job_event_search:{value:defaultParams,dynamic:!0,squash:""}},resolve:{statusSocket:["$rootScope","$stateParams",function($rootScope,$stateParams){var preScope={},eventOn=$rootScope.$on("ws-jobs",function(e,data){parseInt(data.unified_job_id,10)===parseInt($stateParams.id,10)&&(preScope.job_status=data.status)});return[preScope,eventOn]}],jobData:["Rest","GetBasePath","$stateParams","$q","$state","Alert","jobResultsService",function(Rest,GetBasePath,$stateParams,$q,$state,Alert,jobResultsService){return jobResultsService.getJobData($stateParams.id)}],Dataset:["QuerySet","$stateParams","jobData",function(qs,$stateParams,jobData){var path=jobData.related.job_events;return qs.search(path,$stateParams.job_event_search)}],jobFinished:["jobData",function(jobData){return!!jobData.finished}],count:["jobData","jobResultsService","Rest","$q","$stateParams","$state",function(jobData,jobResultsService,Rest,$q,$stateParams,$state){var defer=$q.defer();if(jobData.finished)Rest.setUrl(jobData.related.job_events+"?event=playbook_on_stats"),Rest.get().success(function(data){data.results[0]?defer.resolve({val:jobResultsService.getCountsFromStatsEvent(data.results[0].event_data),countFinished:!0}):defer.resolve({val:{ok:0,skipped:0,unreachable:0,failures:0,changed:0},countFinished:!1})}).error(function(){defer.resolve({val:{ok:0,skipped:0,unreachable:0,failures:0,changed:0},countFinished:!1})});else{if(!_.isEqual($stateParams.job_event_search,defaultParams)){var params=_.cloneDeep($stateParams);params.job_event_search=defaultParams,$state.go(".",params,{reload:!0})}defer.resolve({val:{ok:0,skipped:0,unreachable:0,failures:0,changed:0},countFinished:!1})}return defer.promise}],jobLabels:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){var getNext=function getNext(data,arr,resolve){Rest.setUrl(data.next),Rest.get().success(function(data){data.next?getNext(data,arr.concat(data.results),resolve):resolve.resolve(arr.concat(data.results).map(function(val){return val.name}))})},seeMoreResolve=$q.defer();return Rest.setUrl(GetBasePath("jobs")+$stateParams.id+"/labels/"),Rest.get().success(function(data){data.next?getNext(data,data.results,seeMoreResolve):seeMoreResolve.resolve(data.results.map(function(val){return val.name}))}),seeMoreResolve.promise}],jobDataOptions:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){Rest.setUrl(GetBasePath("jobs")+$stateParams.id);var val=$q.defer();return Rest.options().then(function(data){val.resolve(data.data)},function(data){val.reject(data)}),val.promise}]},templateUrl:(0,_templateUrl.templateUrl)("job-results/job-results"),controller:"jobResultsController"}}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["jobData","jobDataOptions","jobLabels","jobFinished","count","$scope","ParseTypeChange","ParseVariableString","jobResultsService","eventQueue","$compile","$log","Dataset","$q","Rest","$state","QuerySet","$rootScope","moment","$stateParams","i18n","fieldChoices","fieldLabels","workflowResultsService","statusSocket",function(jobData,jobDataOptions,jobLabels,jobFinished,count,$scope,ParseTypeChange,ParseVariableString,jobResultsService,eventQueue,$compile,$log,Dataset,$q,Rest,$state,QuerySet,$rootScope,moment,$stateParams,i18n,fieldChoices,fieldLabels,workflowResultsService,statusSocket){function updateJobElapsedTimer(time){$scope.job.elapsed=time}var toDestroy=[],cancelRequests=!1,runTimeElapsedTimer=null;$scope.standardOutTooltip=i18n._("Download Output"),$scope.toggleStdoutFullscreenTooltip=i18n._("Expand Output");var currentContext=1;$scope.firstCounterFromSocket=-1,toDestroy.push($scope.$watch("firstCounterFromSocket",function(counter){if(counter>-1){var params=_.cloneDeep($stateParams.job_event_search);params.counter__lte=""+counter,Dataset=QuerySet.search(jobData.related.job_events,params),Dataset.then(function(actualDataset){$scope.job_event_dataset=actualDataset.data})}})),$scope.job_event_dataset=Dataset.data,$scope.list={basePath:jobData.related.job_events,name:"job_events"},$scope.job_events=$scope.job_event_dataset.results;var getTowerLinks=function(){var getTowerLink=function(key){return"schedule"===key?$scope.job.related.schedule?"/#/templates/job_template/"+$scope.job.job_template+"/schedules"+$scope.job.related.schedule.split("api/v1/schedules")[1]:null:$scope.job.related[key]?"/#/"+$scope.job.related[key].split("api/v1/")[1]:null};$scope.created_by_link=getTowerLink("created_by"),$scope.scheduled_by_link=getTowerLink("schedule"),$scope.inventory_link=getTowerLink("inventory"),$scope.project_link=getTowerLink("project"),$scope.machine_credential_link=getTowerLink("credential"),$scope.cloud_credential_link=getTowerLink("cloud_credential"),$scope.network_credential_link=getTowerLink("network_credential"),$scope.schedule_link=getTowerLink("schedule")},getTowerLabels=function(){var getTowerLabel=function(key){return $scope.jobOptions&&$scope.jobOptions[key]?$scope.jobOptions[key].choices.filter(function(val){return val[0]===$scope.job[key]}).map(function(val){return val[1]})[0]:null};$scope.type_label=getTowerLabel("job_type"),$scope.verbosity_label=getTowerLabel("verbosity")},getTotalHostCount=function(count){return Object.keys(count).reduce(function(acc,i){return acc+=count[i]},0)};$scope.job=jobData,$scope.jobOptions=jobDataOptions.actions.GET,$scope.labels=jobLabels,$scope.jobFinished=jobFinished,toDestroy.push($scope.$watch("job_status",function(status){status&&($scope.status_label=$scope.jobOptions.status.choices.filter(function(val){return val[0]===status}).map(function(val){return val[1]})[0],$scope.status_tooltip="Job "+$scope.status_label)})),$scope.previousTaskFailed=!1,toDestroy.push($scope.$watch("job.job_explanation",function(explanation){if(explanation&&"Previous Task Failed"===explanation.split(":")[0]){$scope.previousTaskFailed=!0;var taskObj=JSON.parse(explanation.substring(explanation.split(":")[0].length+1)),fieldChoice=fieldChoices({$scope:$scope,url:"api/v1/unified_jobs/",field:"type"});fieldChoice.then(function(choices){choices=fieldLabels({choices:choices}),$scope.explanation_fail_type=choices[taskObj.job_type],$scope.explanation_fail_name=taskObj.job_name,$scope.explanation_fail_id=taskObj.job_id,$scope.task_detail=$scope.explanation_fail_type+" failed for "+$scope.explanation_fail_name+" with ID "+$scope.explanation_fail_id+"."})}else $scope.previousTaskFailed=!1})),$rootScope["lastSocketStatus"+jobData.id]?($scope.job_status=$rootScope["lastSocketStatus"+jobData.id],delete $rootScope["lastSocketStatus"+jobData.id]):$scope.job_status=jobData.status,getTowerLinks(),jobData.summary_fields&&jobData.summary_fields.job_template&&jobData.summary_fields.job_template.id&&($scope.job_template_link="/#/templates/job_template/"+$scope.job.summary_fields.job_template.id),jobData.summary_fields&&jobData.summary_fields.project_update&&jobData.summary_fields.project_update.status&&($scope.project_status=jobData.summary_fields.project_update.status),jobData.summary_fields&&jobData.summary_fields.project_update&&jobData.summary_fields.project_update.id&&($scope.project_update_link="/#/scm_update/"+jobData.summary_fields.project_update.id),jobData.summary_fields&&jobData.summary_fields.source_workflow_job&&jobData.summary_fields.source_workflow_job.id&&($scope.workflow_result_link="/#/workflows/"+jobData.summary_fields.source_workflow_job.id),jobData.result_traceback&&($scope.job.result_traceback=jobData.result_traceback.trim().split("\n").join("<br />")),getTowerLabels(),$scope.variables=ParseVariableString($scope.job.extra_vars),$scope.parseType="yaml",ParseTypeChange({scope:$scope,field_id:"pre-formatted-variables",readOnly:!0}),$scope.stdoutFullScreen=!1,$scope.toggleStdoutFullscreen=function(){$scope.stdoutFullScreen=!$scope.stdoutFullScreen,$scope.stdoutFullScreen===!0?$scope.toggleStdoutFullscreenTooltip=i18n._("Collapse Output"):$scope.stdoutFullScreen===!1&&($scope.toggleStdoutFullscreenTooltip=i18n._("Expand Output"))},$scope.deleteJob=function(){jobResultsService.deleteJob($scope.job)},$scope.cancelJob=function(){jobResultsService.cancelJob($scope.job)},$scope.relaunchJob=function(){jobResultsService.relaunchJob($scope)},$scope.lessLabels=!1,$scope.toggleLessLabels=function(){$scope.lessLabels?($("#job-results-labels").slideDown(200),$scope.lessLabels=!1):($("#job-results-labels").slideUp(200),$scope.lessLabels=!0)},$scope.count=count.val,$scope.hostCount=getTotalHostCount(count.val),$scope.countFinished=count.countFinished,$scope.followEngaged=!$scope.jobFinished,$scope.jobFinished?$scope.followTooltip="Jump to last line of standard out.":$scope.followTooltip="Currently following standard out as it comes in.  Click to unfollow.",$scope.events={},null!==$scope.job.started&&"running"===$scope.job.status&&(runTimeElapsedTimer=workflowResultsService.createOneSecondTimer($scope.job.started,updateJobElapsedTimer));var processEvent=function(event,context){if(!context||context===currentContext){var mungedEvent=eventQueue.populate(event);mungedEvent.changes&&(mungedEvent.changes.forEach(function(change){if("startTime"!==change||$scope.job.start||($scope.job.start=mungedEvent.startTime),"count"!==change||$scope.countFinished||($scope.count=mungedEvent.count,$scope.hostCount=getTotalHostCount(mungedEvent.count)),"finishedTime"!==change||$scope.job.finished||($scope.job.finished=mungedEvent.finishedTime,$scope.jobFinished=!0,$scope.followTooltip="Jump to last line of standard out.",$scope.followEngaged&&($scope.followScroll||($scope.followScroll=function(){$log.error("follow scroll undefined, standard out directive not loaded yet?")}),$scope.followScroll())),"countFinished"===change&&($scope.countFinished=!0),"stdout"===change){var appendToBottom=function(mungedEvent){angular.element(".JobResultsStdOut-stdoutContainer").append($compile(mungedEvent.stdout)($scope.events[mungedEvent.counter]))};if(!$scope.events[mungedEvent.counter]){$scope.events[mungedEvent.counter]=$scope.$new(),$scope.events[mungedEvent.counter].event=mungedEvent;var $prevElem=$(".next_is_"+mungedEvent.start_line);if($prevElem&&$prevElem.length)$(".next_is_"+mungedEvent.start_line).after($compile(mungedEvent.stdout)($scope.events[mungedEvent.counter]));else if(mungedEvent.stdout.indexOf("not_skeleton")>-1){var putIn,classList=$("div","<div>"+mungedEvent.stdout+"</div>").attr("class").split(" ");classList.filter(function(v){return v.indexOf("task_")>-1}).length?putIn=classList.filter(function(v){return v.indexOf("task_")>-1})[0]:classList.filter(function(v){return v.indexOf("play_")>-1}).length&&(putIn=classList.filter(function(v){return v.indexOf("play_")>-1})[0]);var putAfter,isDup=!1;0===$(".header_"+putIn+",."+putIn).length?appendToBottom(mungedEvent):$(".header_"+putIn+",."+putIn).each(function(i,v){if(angular.element(v).scope().event.start_line<mungedEvent.start_line)putAfter=v;else{if(angular.element(v).scope().event.start_line===mungedEvent.start_line)return isDup=!0,!1;if(angular.element(v).scope().event.start_line>mungedEvent.start_line)return!1;appendToBottom(mungedEvent)}}),isDup||$(putAfter).after($compile(mungedEvent.stdout)($scope.events[mungedEvent.counter])),classList=null,putIn=null}else appendToBottom(mungedEvent);$prevElem=null}$(".JobResultsStdOut-followAnchor").appendTo(".JobResultsStdOut-stdoutContainer")}}),eventQueue.markProcessed(event))}};$scope.stdoutContainerAvailable=$q.defer(),$scope.hasSkeleton=$q.defer(),eventQueue.initialize(),$scope.playCount=0,$scope.taskCount=0,$scope.isOld=0,$scope.showLegacyJobErrorMessage=!1,toDestroy.push($scope.$watch("isOld",function(val){val>=2&&($scope.showLegacyJobErrorMessage=!0)}));var skeletonPlayCount=0,skeletonTaskCount=0,getSkeleton=function getSkeleton(url){jobResultsService.getEvents(url).then(function(events){events.results.forEach(function(event){0===event.start_line&&0===event.end_line&&$scope.isOld++,event.event_name=event.event,delete event.event,"playbook_on_play_start"===event.event_name?skeletonPlayCount++:"playbook_on_task_start"===event.event_name&&skeletonTaskCount++,processEvent(event)}),events.next?getSkeleton(events.next):($scope.playCount=skeletonPlayCount,$scope.taskCount=skeletonTaskCount,$scope.hasSkeleton.resolve("skeleton resolved"))})};$scope.stdoutContainerAvailable.promise.then(function(){getSkeleton(jobData.related.job_events+"?order_by=start_line&or__event__in=playbook_on_start,playbook_on_play_start,playbook_on_task_start,playbook_on_stats")});var getEvents,processPage=function(events,context){context===currentContext&&void 0!==events&&void 0!==events.results&&(events.results.forEach(function(event){event.event_name=event.event,delete event.event,processEvent(event,context)}),events.next&&!cancelRequests?getEvents(events.next,context):$scope.gotPreviouslyRanEvents.resolve(""))};getEvents=function(url,context){context===currentContext&&jobResultsService.getEvents(url).then(function(events){
processPage(events,context)})},toDestroy.push($scope.$watch("job_event_dataset",function(val){val&&!function(){eventQueue.initialize(),Object.keys($scope.events).forEach(function(v){var name=$scope.events[v].event.name;"playbook_on_play_start"!==name&&"playbook_on_task_start"!==name&&"playbook_on_stats"!==name&&($scope.events[v].$destroy(),$scope.events[v]=null,delete $scope.events[v])}),$scope.gotPreviouslyRanEvents=$q.defer(),currentContext+=1;var context=currentContext;$(".JobResultsStdOut-aLineOfStdOut.not_skeleton").remove(),$scope.hasSkeleton.promise.then(function(){val.count>parseInt(val.maxEvents)?($(".header_task").hide(),$(".header_play").hide(),$scope.standardOutTooltip='<div class="JobResults-downloadTooLarge"><div>'+i18n._("The output is too large to display. Please download.")+'</div><div class="JobResults-downloadTooLarge--icon"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-1x"></i><i class="fa fa-stack-1x icon-job-stdout-download-tooltip"></i></span></div></div>',"successful"===$scope.job_status||"failed"===$scope.job_status||"error"===$scope.job_status||"canceled"===$scope.job_status?($scope.tooManyEvents=!0,$scope.tooManyPastEvents=!1):($scope.tooManyPastEvents=!0,$scope.tooManyEvents=!1,$scope.gotPreviouslyRanEvents.resolve(""))):($(".header_task").show(),$(".header_play").show(),$scope.tooManyEvents=!1,$scope.tooManyPastEvents=!1,processPage(val,context))})}()}));var bufferInterval,buffer=[],processBuffer=function(){for(var follow=function(){$scope.followEngaged&&($scope.followScroll||($scope.followScroll=function(){$log.error("follow scroll undefined, standard out directive not loaded yet?")}),$scope.followScroll())},i=0;i<4;i++)processEvent(buffer[i]),buffer.splice(i,1);follow()};toDestroy.push($scope.$on("ws-job_events-"+$scope.job.id,function(e,data){bufferInterval||(bufferInterval=setInterval(function(){processBuffer()},500)),1===data.counter&&($scope.firstCounterFromSocket=-2),($scope.firstCounterFromSocket!==-2&&$scope.firstCounterFromSocket===-1||data.counter<$scope.firstCounterFromSocket)&&($scope.firstCounterFromSocket=data.counter),$q.all([$scope.gotPreviouslyRanEvents.promise,$scope.hasSkeleton.promise]).then(function(){"playbook_on_play_start"===data.event_name?$scope.playCount++:"playbook_on_task_start"===data.event_name&&$scope.taskCount++,buffer.push(data)})})),statusSocket&&statusSocket[0]&&statusSocket[0].job_status&&($scope.job_status=statusSocket[0].job_status),"running"!==$scope.job_status||$scope.job.elapsed||(runTimeElapsedTimer=workflowResultsService.createOneSecondTimer(moment(),updateJobElapsedTimer)),toDestroy.push($scope.$on("ws-jobs",function(e,data){parseInt(data.unified_job_id,10)===parseInt($scope.job.id,10)?($scope.job_status=data.status,"running"===data.status?runTimeElapsedTimer||(runTimeElapsedTimer=workflowResultsService.createOneSecondTimer(moment(),updateJobElapsedTimer)):"successful"!==data.status&&"failed"!==data.status&&"error"!==data.status&&"canceled"!==data.status||(workflowResultsService.destroyTimer(runTimeElapsedTimer),jobResultsService.getJobData($scope.job.id).then(function(data){$scope.job=data,$scope.jobFinished=!0}))):parseInt(data.project_id,10)===parseInt($scope.job.project,10)?($scope.project_status=data.status,$scope.project_update_link="/#/scm_update/"+data.unified_job_id):$rootScope["lastSocketStatus"+data.unified_job_id]=data.status})),statusSocket&&statusSocket[1]&&statusSocket[1](),$scope.$on("$destroy",function(){statusSocket&&statusSocket[1]&&statusSocket[1](),$(".JobResultsStdOut-aLineOfStdOut").remove(),cancelRequests=!0,eventQueue.initialize(),Object.keys($scope.events).forEach(function(v){$scope.events[v].$destroy(),$scope.events[v]=null}),$scope.events={},workflowResultsService.destroyTimer(runTimeElapsedTimer),bufferInterval&&clearInterval(bufferInterval),toDestroy.forEach(function(closureFunc){return closureFunc()})})}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$q","Prompt","$filter","Wait","Rest","$state","ProcessErrors","InitiatePlaybookRun","GetBasePath","Alert",function($q,Prompt,$filter,Wait,Rest,$state,ProcessErrors,InitiatePlaybookRun,GetBasePath,Alert){var val={getCountsFromStatsEvent:function(event_data){var hostsArr,hosts={};Object.keys(event_data).forEach(function(key){"changed"!==key&&"dark"!==key&&"failures"!==key&&"ok"!==key&&"skipped"!==key||(hostsArr=Object.keys(event_data[key]),hostsArr.forEach(function(host){hosts[host]||(hosts[host]={}),hosts[host][key]||(hosts[host][key]=0),hosts[host][key]+=event_data[key][host]}))});var total_hosts_by_state={ok:0,skipped:0,unreachable:0,failures:0,changed:0};return _.each(hosts,function(host){host.dark>0?total_hosts_by_state.unreachable++:host.failures>0?total_hosts_by_state.failures++:host.changed>0?total_hosts_by_state.changed++:host.ok>0?total_hosts_by_state.ok++:host.skipped>0&&total_hosts_by_state.skipped++}),total_hosts_by_state},getEvents:function(url){var val=$q.defer();return Rest.setUrl(url),Rest.get().success(function(data){val.resolve({results:data.results,next:data.next})}).error(function(obj,status){ProcessErrors(null,obj,status,null,{hdr:"Error!",msg:"Could not get job events.\n                            Returned status: "+status}),val.reject(obj)}),val.promise},deleteJob:function(job){Prompt({hdr:"Delete Job",body:"<div class='Prompt-bodyQuery'>\n                        Are you sure you want to delete the job below?\n                    </div>\n                    <div class='Prompt-bodyTarget'>\n                        #"+job.id+" "+$filter("sanitize")(job.name)+"\n                    </div>",action:function(){Wait("start"),Rest.setUrl(job.url),Rest.destroy().success(function(){Wait("stop"),$("#prompt-modal").modal("hide"),$state.go("jobs")}).error(function(obj,status){Wait("stop"),$("#prompt-modal").modal("hide"),ProcessErrors(null,obj,status,null,{hdr:"Error!",msg:"Could not delete job.\n                                    Returned status: "+status})})},actionText:"DELETE"})},cancelJob:function(job){var doCancel=function(){Rest.setUrl(job.url+"cancel"),Rest.post({}).success(function(){Wait("stop"),$("#prompt-modal").modal("hide")}).error(function(obj,status){Wait("stop"),$("#prompt-modal").modal("hide"),ProcessErrors(null,obj,status,null,{hdr:"Error!",msg:"Could not cancel job.\n                                Returned status: "+status})})};Prompt({hdr:"Cancel Job",body:"<div class='Prompt-bodyQuery'>\n                        Are you sure you want to cancel the job below?\n                    </div>\n                    <div class='Prompt-bodyTarget'>\n                        #"+job.id+" "+$filter("sanitize")(job.name)+"\n                    </div>",action:function(){Wait("start"),Rest.setUrl(job.url+"cancel"),Rest.get().success(function(data){data.can_cancel===!0?doCancel():($("#prompt-modal").modal("hide"),ProcessErrors(null,data,null,null,{hdr:"Error!",msg:"Job has completed,\n                                        unabled to be canceled."}))})},actionText:"PROCEED"})},relaunchJob:function(scope){InitiatePlaybookRun({scope:scope,id:scope.job.id,relaunch:!0})},getJobData:function(id){var val=$q.defer();return Rest.setUrl(GetBasePath("jobs")+id),Rest.get().then(function(data){val.resolve(data.data)},function(data){val.reject(data),404===data.status?Alert("Job Not Found","Cannot find job.","alert-info"):403===data.status&&Alert("Insufficient Permissions","You do not have permission to view this job.","alert-info"),$state.go("jobs")}),val.promise}};return val}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["jobResultsService","parseStdoutService",function(jobResultsService,parseStdoutService){var val={};return val={populateDefers:{},queue:{},munge:function(event){var mungedEvent={counter:event.counter,id:event.id,processed:!1,name:event.event_name,changes:[]};return event.stdout&&(mungedEvent.stdout=parseStdoutService.parseStdout(event),mungedEvent.start_line=event.start_line+1,mungedEvent.changes.push("stdout")),"playbook_on_start"===event.event_name&&(mungedEvent.startTime=event.modified,mungedEvent.changes.push("startTime")),"playbook_on_stats"===event.event_name&&(mungedEvent.count=jobResultsService.getCountsFromStatsEvent(event.event_data),mungedEvent.finishedTime=event.modified,mungedEvent.changes.push("count"),mungedEvent.changes.push("countFinished"),mungedEvent.changes.push("finishedTime")),mungedEvent},initialize:function(){val.queue={},val.populateDefers={}},populate:function(event){return event?(val.queue[event.counter]=val.munge(event),val.queue[event.counter].processed?{}:val.munge(event)):{}},markProcessed:function(event){val.queue[event.counter].processed=!0}}}]},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$log","moment",function($log,moment){var val={prettify:function(line,unstyled){return line=line.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),line.indexOf("[K")>-1&&$log.error(line),unstyled?(line=line.replace(/u001b/g,""),line=line.replace(/\[0;30m/g,""),line=line.replace(/\[1;30m/g,""),line=line.replace(/\[1;31m/g,""),line=line.replace(/\[0;31m/g,""),line=line.replace(/\[0;32m/g,""),line=line.replace(/\[0;32m=/g,""),line=line.replace(/\[0;32m1/g,""),line=line.replace(/\[0;33m/g,""),line=line.replace(/\[0;34m/g,""),line=line.replace(/\[0;35m/g,""),line=line.replace(/\[0;36m/g,""),line=line.replace(/(<host.*?>)\s/g,"$1"),line=line.replace(/\[0m/g,"")):(line=line.replace(/u001b/g,""),line=line.replace(/\[1;im/g,'<span class="JobResultsStdOut-cappedLine">'),line=line.replace(/\[0;30m/g,'<span class="ansi30">'),line=line.replace(/\[1;30m/g,'<span class="ansi1 ansi30">'),line=line.replace(/\[1;31m/g,'<span class="ansi1 ansi31">'),line=line.replace(/\[0;31m/g,'<span class="ansi1 ansi31">'),line=line.replace(/\[1;31m/g,'<span class="ansi1 ansi31">'),line=line.replace(/\[0;31m/g,'<span class="ansi1 ansi31">'),line=line.replace(/\[0;32m/g,'<span class="ansi32">'),line=line.replace(/\[0;32m=/g,'<span class="ansi32">'),line=line.replace(/\[0;32m1/g,'<span class="ansi36">'),line=line.replace(/\[0;33m/g,'<span class="ansi33">'),line=line.replace(/\[0;34m/g,'<span class="ansi34">'),line=line.replace(/\[0;35m/g,'<span class="ansi35">'),line=line.replace(/\[1;35m/g,'<span class="ansi35">'),line=line.replace(/\[0;36m/g,'<span class="ansi36">'),line=line.replace(/(<host.*?>)\s/g,"$1"),line=line.replace(/\[0m/g,"</span>")),line},getAnchorTags:function(event){return event.event_name.indexOf("runner_")===-1?'"':' JobResultsStdOut-stdoutColumn--clickable" ui-sref="jobDetail.host-event.json({eventId: '+event.id+", taskUuid: '"+event.event_data.task_uuid+'\' })" aw-tool-tip="Event ID: '+event.id+" <br>Status: "+event.event_display+' <br>Click for details" data-placement="top"'},getLineClasses:function(event,line,lineNum){var string="";return lineNum===event.end_line&&(string+=" next_is_"+(event.end_line+1)),"playbook_on_play_start"===event.event_name?(string+=" header_play",string+=" header_play_"+event.event_data.play_uuid,line.indexOf("PLAY")>-1&&(string+=" actual_header")):"playbook_on_task_start"===event.event_name?(string+=" header_task",string+=" header_task_"+event.event_data.task_uuid,(line.indexOf("TASK")>-1||line.indexOf("RUNNING HANDLER")>-1)&&(string+=" actual_header"),event.event_data.play_uuid&&(string+=" play_"+event.event_data.play_uuid)):"playbook_on_stats"!==event.event_name&&(string+=" not_skeleton",event.event_data.play_uuid&&(string+=" play_"+event.event_data.play_uuid),event.event_data.task_uuid&&(string+=" task_"+event.event_data.task_uuid)),string+=" line_num_"+lineNum},getStartTimeBadge:function(event,line){var time,emptySpan="";return"playbook_on_play_start"!==event.event_name&&"playbook_on_task_start"!==event.event_name||""===line?"playbook_on_stats"===event.event_name&&line.indexOf("PLAY")>-1?(time=moment(event.created).format("HH:mm:ss"),'<div class="badge JobResults-timeBadge ng-binding">'+time+"</div>"):emptySpan:(time=moment(event.created).format("HH:mm:ss"),'<div class="badge JobResults-timeBadge ng-binding">'+time+"</div>")},getCollapseIcon:function(event,line){var clickClass,expanderizerSpecifier,emptySpan='\n<span class="JobResultsStdOut-lineExpander"></span>';if("playbook_on_play_start"!==event.event_name&&"playbook_on_task_start"!==event.event_name||""===line)return emptySpan;if("playbook_on_play_start"===event.event_name&&line.indexOf("PLAY")>-1)expanderizerSpecifier="play",clickClass="play_"+event.event_data.play_uuid;else{if(!(line.indexOf("TASK")>-1||line.indexOf("RUNNING HANDLER")>-1))return emptySpan;expanderizerSpecifier="task",clickClass="task_"+event.event_data.task_uuid}var expandDom='\n<span class="JobResultsStdOut-lineExpander">\n    <i class="JobResultsStdOut-lineExpanderIcon fa fa-caret-down expanderizer\n        expanderizer--'+expanderizerSpecifier+' expanded"\n        ng-click="toggleLine($event, \'.'+clickClass+'\')"\n        data-uuid="'+clickClass+'">\n    </i>\n</span>';return expandDom},distributeColors:function(lines){var colorCode;return lines.map(function(line){return colorCode&&(line=colorCode+line),line.indexOf("[0m")===-1?line.indexOf("[1;31m")>-1?colorCode="[1;31m":line.indexOf("[1;30m")>-1?colorCode="[1;30m":line.indexOf("[0;31m")>-1?colorCode="[0;31m":line.indexOf("[0;32m=")>-1?colorCode="[0;32m=":line.indexOf("[0;32m1")>-1?colorCode="[0;32m1":line.indexOf("[0;32m")>-1?colorCode="[0;32m":line.indexOf("[0;33m")>-1?colorCode="[0;33m":line.indexOf("[0;34m")>-1?colorCode="[0;34m":line.indexOf("[0;35m")>-1?colorCode="[0;35m":line.indexOf("[1;35m")>-1?colorCode="[1;35m":line.indexOf("[0;36m")>-1&&(colorCode="[0;36m"):colorCode=null,line})},getLineArr:function(event){var lineNums=_.range(event.start_line+1,event.end_line+1);lineNums.length||(lineNums=[event.start_line+1]);var lines=event.stdout.replace("\t","        ").split("\r\n");return lineNums.length>lines.length&&(lineNums=lineNums.slice(0,lines.length)),lines=this.distributeColors(lines),lineNums.length===lines.length?_.zip(lineNums,lines):_.zip(lineNums,lines).slice(0,-1)},parseStdout:function(event){var _this=this,lineArr=this.getLineArr(event);return lineArr=lineArr.map(function(lineArr){return'\n<div class="JobResultsStdOut-aLineOfStdOut'+_this.getLineClasses(event,lineArr[1],lineArr[0])+'">\n    <div class="JobResultsStdOut-lineNumberColumn">'+_this.getCollapseIcon(event,lineArr[1])+lineArr[0]+'</div>\n    <div class="JobResultsStdOut-stdoutColumn'+_this.getAnchorTags(event)+"><span ng-non-bindable>"+_this.prettify(lineArr[1])+"</span>"+_this.getStartTimeBadge(event,lineArr[1])+"</div>\n</div>"}),lineArr.join("")}};return val}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _initiateplaybookrun=__webpack_require__(531),_initiateplaybookrun2=_interopRequireDefault(_initiateplaybookrun),_launchjob=__webpack_require__(532),_launchjob2=_interopRequireDefault(_launchjob),_getsurveyquestions=__webpack_require__(533),_getsurveyquestions2=_interopRequireDefault(_getsurveyquestions),_jobSubmission=__webpack_require__(534),_jobSubmission2=_interopRequireDefault(_jobSubmission),_jobSubCredList=__webpack_require__(536),_jobSubCredList2=_interopRequireDefault(_jobSubCredList),_jobSubInvList=__webpack_require__(538),_jobSubInvList2=_interopRequireDefault(_jobSubInvList),_awPasswordMin=__webpack_require__(540),_awPasswordMin2=_interopRequireDefault(_awPasswordMin),_awPasswordMax=__webpack_require__(541),_awPasswordMax2=_interopRequireDefault(_awPasswordMax);exports.default=angular.module("jobSubmission",[]).factory("InitiatePlaybookRun",_initiateplaybookrun2.default).factory("LaunchJob",_launchjob2.default).factory("GetSurveyQuestions",_getsurveyquestions2.default).directive("submitJob",_jobSubmission2.default).directive("jobSubCredList",_jobSubCredList2.default).directive("jobSubInvList",_jobSubInvList2.default).directive("awPasswordMin",_awPasswordMin2.default).directive("awPasswordMax",_awPasswordMax2.default)},function(module,exports,__webpack_require__){(function($){"use strict";function InitiatePlaybookRun($location,GetBasePath,Empty,$compile){return function(params){var scope=params.scope.$new(),id=params.id,relaunch=params.relaunch||!1,job_type=params.job_type;scope.job_template_id=id;var el=$compile("<submit-job data-submit-job-id="+id+" submit-job-type="+job_type+" data-submit-job-relaunch="+relaunch+"></submit-job>")(scope);$("#content-container").remove("submit-job").append(el)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=InitiatePlaybookRun,InitiatePlaybookRun.$inject=["$location","GetBasePath","Empty","$compile"]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($,_,jQuery){"use strict";function LaunchJob(Rest,Wait,ProcessErrors,ToJSON,Empty,GetBasePath,$state,$location,$rootScope,i18n){return function(params){var extra_vars,scope=params.scope,job_launch_data={},url=params.url,submitJobType=params.submitJobType,vars_url=GetBasePath("job_templates")+scope.job_template_id+"/",base=$location.path().replace(/^\//,"").split("/")[0];"job_template"===submitJobType?vars_url=GetBasePath("job_templates")+scope.job_template_id+"/":"workflow_job_template"===submitJobType&&(vars_url=GetBasePath("workflow_job_templates")+scope.workflow_job_template_id+"/"),job_launch_data.extra_vars={};var buildData=function(){if(scope.ssh_password_required&&(job_launch_data.ssh_password=scope.passwords.ssh_password),scope.ssh_key_unlock_required&&(job_launch_data.ssh_key_unlock=scope.passwords.ssh_key_unlock),scope.become_password_required&&(job_launch_data.become_password=scope.passwords.become_password),scope.vault_password_required&&(job_launch_data.vault_password=scope.passwords.vault_password),scope.ask_variables_on_launch&&(extra_vars=ToJSON(scope.parseType,scope.jobLaunchVariables,!1),Empty(extra_vars)||$.each(extra_vars,function(key,value){job_launch_data.extra_vars[key]=value})),scope.ask_tags_on_launch&&scope.other_prompt_data&&"string"==typeof scope.other_prompt_data.job_tags&&(job_launch_data.job_tags=scope.other_prompt_data.job_tags),scope.ask_skip_tags_on_launch&&scope.other_prompt_data&&"string"==typeof scope.other_prompt_data.skip_tags&&(job_launch_data.skip_tags=scope.other_prompt_data.skip_tags),scope.ask_limit_on_launch&&scope.other_prompt_data&&scope.other_prompt_data.limit&&(job_launch_data.limit=scope.other_prompt_data.limit),scope.ask_job_type_on_launch&&scope.other_prompt_data&&scope.other_prompt_data.job_type&&(job_launch_data.job_type=scope.other_prompt_data.job_type),scope.survey_enabled===!0)for(var i=0;i<scope.survey_questions.length;i++){var fld=scope.survey_questions[i].variable;if((scope.survey_questions[i].required||scope.survey_questions[i].required===!1&&""!==scope.survey_questions[i].model.toString())&&(job_launch_data.extra_vars[fld]=scope.survey_questions[i].model),scope.survey_questions[i].required===!1&&_.isEmpty(scope.survey_questions[i].model))switch(scope.survey_questions[i].type){case"text":case"textarea":0===scope.survey_questions[i].min&&(job_launch_data.extra_vars[fld]="");break;case"multiselect":job_launch_data.extra_vars[fld]=[]}}scope.ask_inventory_on_launch&&!Empty(scope.selected_inventory)&&(job_launch_data.inventory_id=scope.selected_inventory.id),scope.ask_credential_on_launch&&!Empty(scope.selected_credential)&&(job_launch_data.credential_id=scope.selected_credential.id),jQuery.isEmptyObject(job_launch_data.extra_vars)===!0&&scope.prompt_for_vars===!1&&delete job_launch_data.extra_vars,Rest.setUrl(url),Rest.post(job_launch_data).success(function(data){Wait("stop");var job=data.job||data.system_job||data.project_update||data.inventory_update||data.ad_hoc_command;if($rootScope.portalMode===!1&&Empty(data.system_job)||"home"===base){var goToJobDetails=function(state){$state.go(state,{id:job},{reload:!0})};if(_.has(data,"job"))goToJobDetails("jobDetail");else{if("jobs"===base)return void(scope.clearDialog&&scope.clearDialog());data.type&&"workflow_job"===data.type?(job=data.id,goToJobDetails("workflowResults")):_.has(data,"ad_hoc_command")?goToJobDetails("adHocJobStdout"):_.has(data,"system_job")?goToJobDetails("managementJobStdout"):_.has(data,"project_update")?$state.includes("projects")||goToJobDetails("scmUpdateStdout"):_.has(data,"inventory_update")&&($state.includes("inventoryManage")||goToJobDetails("inventorySyncStdout"))}}scope.clearDialog&&scope.clearDialog()}).error(function(data,status){var template_id=scope.job_template_id;template_id=void 0===template_id?"undefined":i18n.sprintf("%d",template_id),ProcessErrors(scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Failed updating job %s with variables. POST returned: %d"),template_id,status)})})},getExtraVars=function(){Rest.setUrl(vars_url),Rest.get().success(function(data){Empty(data.extra_vars)||(data.extra_vars=ToJSON("yaml",data.extra_vars,!1),$.each(data.extra_vars,function(key,value){job_launch_data.extra_vars[key]=value})),buildData()}).error(function(data,status){ProcessErrors(scope,data,status,{hdr:i18n._("Error!"),msg:i18n._("Failed to retrieve job template extra variables.")})})};scope.prompt_for_vars===!1&&scope.survey_enabled===!0?getExtraVars():buildData()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LaunchJob,LaunchJob.$inject=["Rest","Wait","ProcessErrors","ToJSON","Empty","GetBasePath","$state","$location","$rootScope","i18n"]}).call(exports,__webpack_require__(1),__webpack_require__(2),__webpack_require__(1))},function(module,exports){"use strict";function GetSurveyQuestions($filter,GetBasePath,Rest,Empty,ProcessErrors,$stateParams){return function(params){var i,survey_url,id=params.id,scope=params.scope,submitJobType=params.submitJobType;"job_template"===submitJobType?survey_url=GetBasePath("job_templates")+id+"/survey_spec/":"workflow_job_template"===submitJobType&&(survey_url=GetBasePath("workflow_job_templates")+id+"/survey_spec/"),Rest.setUrl(survey_url),Rest.get().success(function(data){if(Empty(data));else for(scope.survey_name=data.name,scope.survey_description=data.description,scope.survey_questions=data.spec,i=0;i<scope.survey_questions.length;i++){var question=scope.survey_questions[i];question.index=i,question.question_name=$filter("sanitize")(question.question_name),question.question_description=question.question_description?$filter("sanitize")(question.question_description):void 0,"textarea"!==question.type||Empty(question.default_textarea)?"multiselect"===question.type?(question.model=question.default.split(/\n/),question.choices=question.choices.split(/\n/)):"multiplechoice"===question.type?(question.model=question.default?angular.copy(question.default):"",question.choices=question.choices.split(/\n/),question.required||question.choices.unshift("")):"float"===question.type?question.model=Empty(question.default)?Empty(question.default_float)?"":angular.copy(question.default_float):angular.copy(question.default):question.model=question.default?angular.copy(question.default):"":question.model=angular.copy(question.default_textarea),"text"===question.type||"textarea"===question.type||"password"===question.type?(question.minlength=Empty(question.min)?"":Number(question.min),question.maxlength=Empty(question.max)?"":Number(question.max)):"integer"===question.type?(question.minValue=Empty(question.min)?"":Number(question.min),question.maxValue=Empty(question.max)?"":Number(question.max)):"float"===question.type&&(question.minValue=Empty(question.min)?"":question.min,question.maxValue=Empty(question.max)?"":question.max)}}).error(function(data,status){ProcessErrors(scope,data,status,{hdr:"Error!",msg:"Failed to retrieve organization: "+$stateParams.id+". GET status: "+status})})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=GetSurveyQuestions,GetSurveyQuestions.$inject=["$filter","GetBasePath","Rest","Empty","ProcessErrors","$stateParams"]},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobSubmission=__webpack_require__(535),_jobSubmission2=_interopRequireDefault(_jobSubmission);exports.default=["templateUrl","CreateDialog","Wait","CreateSelect2","ParseTypeChange",function(templateUrl,CreateDialog,Wait,CreateSelect2,ParseTypeChange){return{scope:{submitJobId:"=",submitJobType:"@",submitJobRelaunch:"="},templateUrl:templateUrl("job-submission/job-submission"),controller:_jobSubmission2.default,restrict:"E",link:function(scope){scope.openLaunchModal=function(){scope.removeLaunchJobModalReady&&scope.removeLaunchJobModalReady(),scope.removeLaunchJobModalReady=scope.$on("LaunchJobModalReady",function(){scope.getListsAndSurvey(),$("#job-launch-modal").dialog("open"),CreateSelect2({element:"#job_launch_job_type",multiple:!1}),"otherprompts"===scope.step&&scope.ask_variables_on_launch&&(ParseTypeChange({scope:scope,variable:"jobLaunchVariables",field_id:"job_launch_variables"}),scope.extra_vars_code_mirror_loaded=!0)}),CreateDialog({id:"job-launch-modal",scope:scope,width:800,minWidth:400,draggable:!1,dialogClass:"JobSubmission-dialog",onOpen:function(){Wait("stop")},callback:"LaunchJobModalReady"})},scope.clearDialog=function(){$("#job-launch-modal").hasClass("ui-dialog-content")&&$("#job-launch-modal").dialog("destroy"),$("#content-container").find("submit-job").remove(),scope.$destroy()},scope.togglePassword=function(id){var buttonId=id+"_show_input_button",inputId=id,buttonInnerHTML=$(buttonId).html();buttonInnerHTML.indexOf("Show")>-1?($(buttonId).html("Hide"),$(inputId).attr("type","text")):($(buttonId).html("Show"),$(inputId).attr("type","password"))},scope.$on("$stateChangeStart",function(){scope.$evalAsync(function(scope){scope.clearDialog()})}),scope.init()}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$location","GetBasePath","Empty","Wait","Rest","ProcessErrors","LaunchJob","$state","generateList","InventoryList","CredentialList","ParseTypeChange","GetSurveyQuestions",function($scope,$location,GetBasePath,Empty,Wait,Rest,ProcessErrors,LaunchJob,$state,GenerateList,InventoryList,CredentialList,ParseTypeChange,GetSurveyQuestions){var launch_url,clearRequiredPasswords=function(){$scope.ssh_password_required=!1,$scope.ssh_key_unlock_required=!1,$scope.become_password_required=!1,$scope.vault_password_required=!1,$scope.ssh_password="",$scope.ssh_key_unlock="",$scope.become_password="",$scope.vault_password=""},updateRequiredPasswords=function(){if($scope.selected_credential)if($scope.selected_credential.id===$scope.defaults.credential.id){clearRequiredPasswords();for(var i=0;i<$scope.passwords_needed_to_start.length;i++){var password=$scope.passwords_needed_to_start[i];switch(password){case"ssh_password":$scope.ssh_password_required=!0;break;case"ssh_key_unlock":$scope.ssh_key_unlock_required=!0;break;case"become_password":$scope.become_password_required=!0;break;case"vault_password":$scope.vault_password_required=!0}}}else"ssh"===$scope.selected_credential.kind?($scope.ssh_password_required="ASK"===$scope.selected_credential.password,$scope.ssh_key_unlock_required="ASK"===$scope.selected_credential.ssh_key_unlock,$scope.become_password_required="ASK"===$scope.selected_credential.become_password,$scope.vault_password_required="ASK"===$scope.selected_credential.vault_password):clearRequiredPasswords()},launchJob=function(){LaunchJob({scope:$scope,url:launch_url,submitJobType:$scope.submitJobType})};$scope.init=function(){$scope.forms={},$scope.passwords={},$scope.submitJobRelaunch?launch_url=$scope.submitJobType&&"workflow_job"===$scope.submitJobType?GetBasePath("workflow_jobs")+$scope.submitJobId+"/relaunch/":GetBasePath("jobs")+$scope.submitJobId+"/relaunch/":$scope.submitJobType&&"job_template"===$scope.submitJobType?launch_url=GetBasePath("job_templates")+$scope.submitJobId+"/launch/":$scope.submitJobType&&"workflow_job_template"===$scope.submitJobType&&(launch_url=GetBasePath("workflow_job_templates")+$scope.submitJobId+"/launch/"),Wait("start"),Rest.setUrl(launch_url),Rest.get().success(function(data){if(angular.extend($scope,data),$scope.has_other_prompts=!!(data.ask_job_type_on_launch||data.ask_limit_on_launch||data.ask_tags_on_launch||data.ask_skip_tags_on_launch||data.ask_variables_on_launch),$scope.password_needed=data.passwords_needed_to_start&&data.passwords_needed_to_start.length>0,$scope.has_default_inventory=data.defaults&&data.defaults.inventory&&data.defaults.inventory.id,$scope.has_default_credential=data.defaults&&data.defaults.credential&&data.defaults.credential.id,$scope.other_prompt_data={},$scope.ask_job_type_on_launch&&($scope.other_prompt_data.job_type=data.defaults&&data.defaults.job_type?data.defaults.job_type:""),$scope.ask_limit_on_launch&&($scope.other_prompt_data.limit=data.defaults&&data.defaults.limit?data.defaults.limit:""),$scope.ask_tags_on_launch&&($scope.other_prompt_data.job_tags=data.defaults&&data.defaults.job_tags?data.defaults.job_tags:""),$scope.ask_skip_tags_on_launch&&($scope.other_prompt_data.skip_tags=data.defaults&&data.defaults.skip_tags?data.defaults.skip_tags:""),$scope.ask_variables_on_launch&&($scope.jobLaunchVariables=data.defaults&&data.defaults.extra_vars?data.defaults.extra_vars:"---",$scope.other_prompt_data.parseType="yaml",$scope.parseType="yaml"),$scope.has_default_inventory&&($scope.selected_inventory=angular.copy($scope.defaults.inventory)),$scope.has_default_credential&&($scope.selected_credential=angular.copy($scope.defaults.credential),updateRequiredPasswords()),"workflow_job_template"===$scope.submitJobType&&!$scope.survey_enabled||$scope.submitJobRelaunch&&!$scope.password_needed||!$scope.submitJobRelaunch&&$scope.can_start_without_user_input&&!$scope.ask_inventory_on_launch&&!$scope.ask_credential_on_launch&&!$scope.has_other_prompts&&!$scope.survey_enabled)launchJob(),Wait("stop");else{var initiateModal=function(){$scope.ask_inventory_on_launch?$scope.setStep("inventory",!0):$scope.ask_credential_on_launch||$scope.password_needed?$scope.setStep("credential",!0):$scope.has_other_prompts?$scope.setStep("otherprompts",!0):$scope.survey_enabled&&$scope.setStep("survey",!0),$scope.openLaunchModal()};$scope.submitJobRelaunch?(Rest.setUrl(GetBasePath("jobs")+$scope.submitJobId),Rest.get().success(function(jobDetailData){$scope.job_template_data={name:jobDetailData.name},$scope.defaults={},jobDetailData.summary_fields.inventory&&($scope.defaults.inventory=angular.copy(jobDetailData.summary_fields.inventory),$scope.selected_inventory=angular.copy(jobDetailData.summary_fields.inventory)),jobDetailData.summary_fields.credential&&($scope.defaults.credential=angular.copy(jobDetailData.summary_fields.credential),$scope.selected_credential=angular.copy(jobDetailData.summary_fields.credential),updateRequiredPasswords()),initiateModal()}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to get job details. GET returned status: "+status})})):initiateModal()}}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to get job template details. GET returned status: "+status})})},$scope.setStep=function(step,initialStep){$scope.step=step,"credential"===step?$scope.credentialTabEnabled=!0:"otherprompts"===step?($scope.otherPromptsTabEnabled=!0,initialStep||"otherprompts"!==$scope.step||!$scope.ask_variables_on_launch||$scope.extra_vars_code_mirror_loaded||(ParseTypeChange({
scope:$scope,variable:"jobLaunchVariables",field_id:"job_launch_variables"}),$scope.extra_vars_code_mirror_loaded=!0)):"survey"===step&&($scope.surveyTabEnabled=!0)},$scope.getListsAndSurvey=function(){$scope.ask_inventory_on_launch&&($scope.includeInventoryList=!0),$scope.ask_credential_on_launch&&($scope.includeCredentialList=!0),$scope.survey_enabled&&GetSurveyQuestions({scope:$scope,id:$scope.submitJobId,submitJobType:$scope.submitJobType})},$scope.revertToDefaultInventory=function(){$scope.has_default_inventory&&($scope.selected_inventory=angular.copy($scope.defaults.inventory))},$scope.revertToDefaultCredential=function(){$scope.has_default_credential&&($scope.selected_credential=angular.copy($scope.defaults.credential),updateRequiredPasswords())},$scope.toggle_inventory=function(id){$scope.inventories.forEach(function(row,i){row.id===id?($scope.selected_inventory=angular.copy(row),$scope.inventories[i].checked=1):$scope.inventories[i].checked=0})},$scope.toggle_credential=function(id){$scope.credentials.forEach(function(row,i){row.id===id?($scope.selected_credential=angular.copy(row),updateRequiredPasswords(),$scope.credentials[i].checked=1):$scope.credentials[i].checked=0})},$scope.getActionButtonText=function(){return"inventory"===$scope.step?$scope.ask_credential_on_launch||$scope.password_needed||$scope.has_other_prompts||$scope.survey_enabled?"NEXT":"LAUNCH":"credential"===$scope.step?$scope.has_other_prompts||$scope.survey_enabled?"NEXT":"LAUNCH":"otherprompts"===$scope.step?$scope.survey_enabled?"NEXT":"LAUNCH":"survey"===$scope.step?"LAUNCH":void 0},$scope.actionButtonDisabled=function(){return"inventory"===$scope.step?!$scope.selected_inventory&&($scope.credentialTabEnabled=!1,$scope.otherPromptsTabEnabled=!1,$scope.surveyTabEnabled=!1,!0):"credential"===$scope.step?!($scope.selected_credential&&$scope.forms.credentialpasswords&&$scope.forms.credentialpasswords.$valid)&&($scope.otherPromptsTabEnabled=!1,$scope.surveyTabEnabled=!1,!0):"otherprompts"===$scope.step?!$scope.forms.otherprompts.$valid&&($scope.surveyTabEnabled=!1,!0):"survey"===$scope.step?!$scope.forms.survey.$valid:void 0},$scope.takeAction=function(){"inventory"===$scope.step?$scope.ask_credential_on_launch||$scope.password_needed?$scope.setStep("credential"):$scope.has_other_prompts?$scope.setStep("otherprompts"):$scope.survey_enabled?$scope.setStep("survey"):launchJob():"credential"===$scope.step?$scope.has_other_prompts?$scope.setStep("otherprompts"):$scope.survey_enabled?$scope.setStep("survey"):launchJob():"otherprompts"===$scope.step&&$scope.survey_enabled?$scope.setStep("survey"):launchJob()},$scope.updateParseType=function(){$scope.parseType=$scope.other_prompt_data.parseType,$scope.parseTypeChange("parseType","jobLaunchVariables")},$scope.$on("inventorySelected",function(evt,selectedRow){$scope.selected_inventory=_.cloneDeep(selectedRow)}),$scope.$on("credentialSelected",function(evt,selectedRow){$scope.selected_credential=_.cloneDeep(selectedRow),updateRequiredPasswords()})}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_,$){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobSubCredList=__webpack_require__(537),_jobSubCredList2=_interopRequireDefault(_jobSubCredList);exports.default=["templateUrl","QuerySet","GetBasePath","generateList","$compile","CredentialList",function(templateUrl,qs,GetBasePath,GenerateList,$compile,CredentialList){return{scope:{selectedCredential:"="},templateUrl:templateUrl("job-submission/lists/credential/job-sub-cred-list"),controller:_jobSubCredList2.default,restrict:"E",link:function(scope){var toDestroy=[];scope.credential_default_params={order_by:"name",page_size:5,kind:"ssh"},scope.credential_queryset={order_by:"name",page_size:5,kind:"ssh"},qs.search(GetBasePath("credentials"),scope.credential_default_params).then(function(res){scope.credential_dataset=res.data,scope.credentials=scope.credential_dataset.results;var credList=_.cloneDeep(CredentialList),html=GenerateList.build({list:credList,input_type:"radio",mode:"lookup"});scope.list=credList,$("#job-submission-credential-lookup").append($compile(html)(scope)),toDestroy.push(scope.$watchCollection("selectedCredential",function(){scope.selectedCredential&&scope.credentials.forEach(function(row,i){row.id===scope.selectedCredential.id?scope.credentials[i].checked=1:scope.credentials[i].checked=0})}))}),scope.$on("$destroy",function(){return toDestroy.forEach(function(watcher){return watcher()})})}}}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope",function($scope){$scope.toggle_row=function(rowId){var list=$scope.list,count=0;$scope[list.name].forEach(function(row){row.id===rowId?(row.checked?row.success_class="success":(row.checked=!0,row.success_class=""),$scope.$emit("credentialSelected",row)):(row.checked=0,row.success_class=""),row.checked&&count++})}}]},function(module,exports,__webpack_require__){(function(_,$){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobSubInvList=__webpack_require__(539),_jobSubInvList2=_interopRequireDefault(_jobSubInvList);exports.default=["templateUrl","QuerySet","GetBasePath","generateList","$compile","InventoryList",function(templateUrl,qs,GetBasePath,GenerateList,$compile,InventoryList){return{scope:{selectedInventory:"="},templateUrl:templateUrl("job-submission/lists/inventory/job-sub-inv-list"),controller:_jobSubInvList2.default,restrict:"E",link:function(scope){var toDestroy=[];scope.inventory_default_params={order_by:"name",page_size:5},scope.inventory_queryset={order_by:"name",page_size:5},qs.search(GetBasePath("inventory"),scope.inventory_default_params).then(function(res){scope.inventory_dataset=res.data,scope.inventories=scope.inventory_dataset.results;var invList=_.cloneDeep(InventoryList),html=GenerateList.build({list:invList,input_type:"radio",mode:"lookup"});scope.list=invList,$("#job-submission-inventory-lookup").append($compile(html)(scope)),toDestroy.push(scope.$watchCollection("selectedInventory",function(){scope.selectedInventory&&scope.inventories.forEach(function(row,i){row.id===scope.selectedInventory.id?scope.inventories[i].checked=1:scope.inventories[i].checked=0})}))}),scope.$on("$destroy",function(){return toDestroy.forEach(function(watcher){return watcher()})})}}}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope",function($scope){$scope.toggle_row=function(rowId){var list=$scope.list,count=0;$scope[list.name].forEach(function(row){row.id===rowId?(row.checked?row.success_class="success":(row.checked=!0,row.success_class=""),$scope.$emit("inventorySelected",row)):(row.checked=0,row.success_class=""),row.checked&&count++})}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Empty",function(Empty){return{restrict:"A",require:"ngModel",link:function(scope,elem,attr,ctrl){ctrl.$parsers.unshift(function(viewValue){var min=attr.awPasswordMin?scope.$eval(attr.awPasswordMin):-(1/0);return!Empty(min)&&!Empty(viewValue)&&viewValue.length<min&&"$encrypted$"!==viewValue?(ctrl.$setValidity("awPasswordMin",!1),viewValue):(ctrl.$setValidity("awPasswordMin",!0),viewValue)})}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Empty",function(Empty){return{restrict:"A",require:"ngModel",link:function(scope,elem,attr,ctrl){ctrl.$parsers.unshift(function(viewValue){var max=attr.awPasswordMax?scope.$eval(attr.awPasswordMax):1/0;return!Empty(max)&&!Empty(viewValue)&&viewValue.length>max&&"$encrypted$"!==viewValue?(ctrl.$setValidity("awPasswordMax",!1),viewValue):(ctrl.$setValidity("awPasswordMax",!0),viewValue)})}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(543),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(545),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(547),_main6=_interopRequireDefault(_main5),_notificationTemplates=__webpack_require__(549),_notificationTemplates2=_interopRequireDefault(_notificationTemplates),_notificationTemplates3=__webpack_require__(550),_notificationTemplates4=_interopRequireDefault(_notificationTemplates3),_notifications=__webpack_require__(551),_notifications2=_interopRequireDefault(_notifications),_toggleNotification=__webpack_require__(552),_toggleNotification2=_interopRequireDefault(_toggleNotification),_notificationListInit=__webpack_require__(553),_notificationListInit2=_interopRequireDefault(_notificationListInit),_typeChange=__webpack_require__(554),_typeChange2=_interopRequireDefault(_typeChange),_i18n=__webpack_require__(172);exports.default=angular.module("notifications",[_main2.default.name,_main4.default.name,_main6.default.name]).factory("NotificationTemplatesList",_notificationTemplates2.default).factory("NotificationsFormObject",_notificationTemplates4.default).factory("NotificationsList",_notifications2.default).factory("ToggleNotification",_toggleNotification2.default).factory("NotificationsListInit",_notificationListInit2.default).service("NotificationsTypeChange",_typeChange2.default).config(["$stateProvider","stateDefinitionsProvider",function($stateProvider,stateDefinitionsProvider){var stateDefinitions=stateDefinitionsProvider.$get();$stateProvider.state({name:"notifications",url:"/notification_templates",ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("NOTIFICATIONS")},lazyLoad:function(){return stateDefinitions.generateTree({parent:"notifications",modes:["add","edit"],list:"NotificationTemplatesList",form:"NotificationsFormObject",controllers:{list:"notificationTemplatesListController",add:"notificationsAddController",edit:"notificationsEditController"},resolve:{edit:{notification_template:["$state","$stateParams","$q","Rest","GetBasePath","ProcessErrors",function($state,$stateParams,$q,rest,getBasePath,ProcessErrors){if($stateParams.notification_template)return $q.when($stateParams.notification_template);var notificationTemplateId=$stateParams.notification_template_id,url=getBasePath("notification_templates")+notificationTemplateId+"/";return rest.setUrl(url),rest.get().then(function(data){return data.data}).catch(function(response){ProcessErrors(null,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get inventory script info. GET returned status: "+response.status})})}]}},data:{activityStream:!0,activityStreamTarget:"notification_template"},ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("NOTIFICATIONS")}})}})}])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _list=__webpack_require__(544),_list2=_interopRequireDefault(_list);exports.default=angular.module("notificationTemplatesList",[]).controller("notificationTemplatesListController",_list2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","$scope","Wait","generateList","NotificationTemplatesList","GetBasePath","Rest","ProcessErrors","Prompt","$state","GetChoices","Empty","Find","ngToast","$compile","$filter","Dataset","rbacUiControlService","i18n",function($rootScope,$scope,Wait,GenerateList,NotificationTemplatesList,GetBasePath,Rest,ProcessErrors,Prompt,$state,GetChoices,Empty,Find,ngToast,$compile,$filter,Dataset,rbacUiControlService,i18n){function init(){$scope.canAdd=!1,rbacUiControlService.canAdd("notification_templates").then(function(canAdd){$scope.canAdd=canAdd}),$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results}function optionsRequestDataProcessing(){$scope[list.name].forEach(function(item,item_idx){var itm=$scope[list.name][item_idx];list.fields.notification_type&&$scope.options&&$scope.options.hasOwnProperty("notification_type")&&$scope.options.notification_type.choices.forEach(function(choice){if(choice[0]===item.notification_type){itm.type_label=choice[1];var recent_notifications=itm.summary_fields.recent_notifications;itm.status=recent_notifications&&recent_notifications.length>0?recent_notifications[0].status:"none"}}),setStatus(itm)})}function setStatus(notification_template){var html,recent_notifications=notification_template.summary_fields.recent_notifications;recent_notifications.length>0?(html='<table class="table table-condensed flyout" style="width: 100%">\n',html+="<thead>\n",html+="<tr>",html+="<th>"+i18n._("Status")+"</th>",html+="<th>"+i18n._("Time")+"</th>",html+="</tr>\n",html+="</thead>\n",html+="<tbody>\n",recent_notifications.forEach(function(row){html+="<tr>\n",html+='<td><i class="SmartStatus-tooltip--'+row.status+" fa icon-job-"+row.status+'"></i></td>',html+="<td>"+$filter("longDate")(row.created).replace(/ /,"<br />")+"</td>\n",html+="</tr>\n"}),html+="</tbody>\n",html+="</table>\n"):html="<p>"+i18n._("No recent notifications.")+"</p>\n",notification_template.template_status_html=html}var defaultUrl=GetBasePath("notification_templates"),list=NotificationTemplatesList;init(),$scope.$on("notification_template_options",function(event,data){$scope.options=data.data.actions.GET,optionsRequestDataProcessing()}),$scope.$watchCollection("notification_templates",function(){optionsRequestDataProcessing()}),$scope.testNotification=function(){function retrieveStatus(id){setTimeout(function(){var url=GetBasePath("notifications")+id;Rest.setUrl(url),Rest.get().then(function(res){res&&res.data&&res.data.status&&"successful"===res.data.status?(ngToast.success({content:'<i class="fa fa-check-circle Toast-successIcon"></i> <b>'+name+":</b> Notification sent."}),$state.reload()):res&&res.data&&res.data.status&&"failed"===res.data.status?(ngToast.danger({content:'<i class="fa fa-exclamation-triangle Toast-successIcon"></i> <b>'+name+":</b> Notification failed."}),$state.reload()):res&&res.data&&res.data.status&&"pending"===res.data.status&&pending_retries>0?(pending_retries--,retrieveStatus(id)):(Wait("stop"),ProcessErrors($scope,null,status,null,{hdr:"Error!",msg:"Call to test notifications failed."}))})},5e3)}var name=$filter("sanitize")(this.notification_template.name),pending_retries=10;Rest.setUrl(defaultUrl+this.notification_template.id+"/test/"),Rest.post({}).then(function(data){data&&data.data&&data.data.notification?(Wait("start"),retrieveStatus(data.data.notification)):ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to notifcatin templates failed. Notification returned status: "+status})}).catch(function(){ngToast.danger({content:'<i class="fa fa-check-circle Toast-successIcon"></i> <b>'+name+":</b> "+i18n._("Notification Failed.")})})},$scope.addNotification=function(){$state.go("notifications.add")},$scope.editNotification=function(){$state.go("notifications.edit",{notification_template_id:this.notification_template.id,notification_template:this.notification_templates})},$scope.deleteNotification=function(id,name){var action=function(){$("#prompt-modal").modal("hide"),Wait("start");var url=defaultUrl+id+"/";Rest.setUrl(url),Rest.destroy().success(function(){parseInt($state.params.notification_template_id)===id?$state.go("^",null,{reload:!0}):$state.go(".",null,{reload:!0}),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned status: "+status})})},bodyHtml='<div class="Prompt-bodyQuery">'+i18n._("Are you sure you want to delete the notification template below?")+'</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>";Prompt({hdr:i18n._("Delete"),body:bodyHtml,action:action,actionText:i18n._("DELETE")})}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _add=__webpack_require__(546),_add2=_interopRequireDefault(_add);exports.default=angular.module("notificationsAdd",[]).controller("notificationsAddController",_add2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","Rest","Wait","NotificationsFormObject","ProcessErrors","GetBasePath","Empty","Alert","GenerateForm","$scope","$state","CreateSelect2","GetChoices","NotificationsTypeChange","ParseTypeChange",function($rootScope,Rest,Wait,NotificationsFormObject,ProcessErrors,GetBasePath,Empty,Alert,GenerateForm,$scope,$state,CreateSelect2,GetChoices,NotificationsTypeChange,ParseTypeChange){function init(){Rest.setUrl(GetBasePath("projects")),Rest.options().success(function(data){data.actions.POST||($state.go("^"),Alert("Permission Error","You do not have permission to add a notification template.","alert-info"))}),GenerateForm.applyDefaults(form,$scope),GetChoices({scope:$scope,url:url,field:"notification_type",variable:"notification_type_options",callback:"choicesReady"})}var generator=GenerateForm,form=NotificationsFormObject,url=GetBasePath("notification_templates");init(),$scope.removeChoicesReady&&$scope.removeChoicesReady(),$scope.removeChoicesReady=$scope.$on("choicesReady",function(){var i;for(i=0;i<$scope.notification_type_options.length;i++)if(""===$scope.notification_type_options[i].value){$scope.notification_type_options[i].value="manual";break}CreateSelect2({element:"#notification_template_notification_type",multiple:!1})}),$scope.$watch("headers",function(str){try{var headers=JSON.parse(str);if(_.isObject(headers)&&!_.isArray(headers)){var valid=!0;for(var k in headers)_.isObject(headers[k])&&(valid=!1),null===headers[k]&&(valid=!1);return void $scope.notification_template_form.headers.$setValidity("json",valid)}}catch(err){}$scope.notification_template_form.headers.$setValidity("json",!1)}),$scope.typeChange=function(){for(var fld in form.fields)if(form.fields[fld]&&form.fields[fld].subForm)if("checkbox_group"===form.fields[fld].type&&form.fields[fld].fields)for(var i=0;i<form.fields[fld].fields.length;i++){var subFldName=form.fields[fld].fields[i].name;$scope[subFldName]=null,$scope.notification_template_form[subFldName].$setPristine()}else $scope[fld]=null,$scope.notification_template_form[fld].$setPristine();NotificationsTypeChange.getDetailFields($scope.notification_type.value).forEach(function(field){$scope[field[0]]=field[1]}),$scope.parse_type="json",$scope.headers||($scope.headers="{\n}"),ParseTypeChange({scope:$scope,parse_variable:"parse_type",variable:"headers",field_id:"notification_template_headers"})},$scope.emailOptionsChange=function(){"use_ssl"===$scope.email_options?($scope.use_ssl=!0,$scope.use_tls=!1):"use_tls"===$scope.email_options&&($scope.use_ssl=!1,$scope.use_tls=!0)},$scope.formSave=function(){function processValue(value,i,field){return"textarea"===field.type&&("headers"===field.name?$scope[i]=JSON.parse($scope[i]):$scope[i]=$scope[i].toString().split("\n")),"checkbox"===field.type&&($scope[i]=Boolean($scope[i])),"number"===field.type&&($scope[i]=Number($scope[i])),"username"===i&&"email"===$scope.notification_type.value&&null===value&&($scope[i]=""),"sensitive"===field.type&&null===value&&($scope[i]=""),$scope[i]}var params,v=$scope.notification_type.value;generator.clearApiErrors($scope),params={name:$scope.name,description:$scope.description,organization:$scope.organization,notification_type:v,notification_configuration:{}},params.notification_configuration=_.object(Object.keys(form.fields).filter(function(i){return form.fields[i].ngShow&&form.fields[i].ngShow.indexOf(v)>-1}).map(function(i){return[i,processValue($scope[i],i,form.fields[i])]})),delete params.notification_configuration.email_options;for(var j=0;j<form.fields.email_options.options.length;j++)form.fields.email_options.options[j].ngShow&&form.fields.email_options.options[j].ngShow.indexOf(v)>-1&&(params.notification_configuration[form.fields.email_options.options[j].value]=Boolean($scope[form.fields.email_options.options[j].value]));Wait("start"),Rest.setUrl(url),Rest.post(params).success(function(){$state.go("notifications",{},{reload:!0}),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to add new notifier. POST returned status: "+status})})},$scope.formCancel=function(){$state.go("notifications")}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _edit=__webpack_require__(548),_edit2=_interopRequireDefault(_edit);exports.default=angular.module("notificationsEdit",[]).controller("notificationsEditController",_edit2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Rest","Wait","NotificationsFormObject","ProcessErrors","GetBasePath","GenerateForm","OrganizationList","notification_template","$scope","$state","GetChoices","CreateSelect2","Empty","$rootScope","NotificationsTypeChange","ParseTypeChange",function(Rest,Wait,NotificationsFormObject,ProcessErrors,GetBasePath,GenerateForm,OrganizationList,notification_template,$scope,$state,GetChoices,CreateSelect2,Empty,$rootScope,NotificationsTypeChange,ParseTypeChange){function init(){$scope.notification_template=notification_template,$scope.$watch("notification_template.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAdd=!1)}),GetChoices({scope:$scope,url:url,field:"notification_type",variable:"notification_type_options",callback:"choicesReady"})}var generator=GenerateForm,id=notification_template.id,form=NotificationsFormObject,master={},url=GetBasePath("notification_templates");init(),$scope.removeChoicesReady&&$scope.removeChoicesReady(),$scope.removeChoicesReady=$scope.$on("choicesReady",function(){var i;for(i=0;i<$scope.notification_type_options.length;i++)if(""===$scope.notification_type_options[i].value){$scope.notification_type_options[i].value="manual";break}Wait("start"),Rest.setUrl(url+id+"/"),Rest.get().success(function(data){var fld;for(fld in form.fields)data[fld]&&($scope[fld]=data[fld],master[fld]=data[fld]),"radio_group"===form.fields[fld].type?(data.notification_configuration.use_ssl===!0&&($scope.email_options="use_ssl",master.email_options="use_ssl",$scope.use_ssl=!0,master.use_ssl=!0,$scope.use_tls=!1,master.use_tls=!1),data.notification_configuration.use_tls===!0&&($scope.email_options="use_tls",master.email_options="use_tls",$scope.use_ssl=!1,master.use_ssl=!1,$scope.use_tls=!0,master.use_tls=!0)):(data.notification_configuration[fld]&&($scope[fld]=data.notification_configuration[fld],master[fld]=data.notification_configuration[fld],"textarea"===form.fields[fld].type&&("headers"===form.fields[fld].name?$scope[fld]=JSON.stringify($scope[fld],null,2):$scope[fld]=$scope[fld].join("\n"))),form.fields[fld].sourceModel&&data.summary_fields&&data.summary_fields[form.fields[fld].sourceModel]&&($scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField],master[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField]));data.notification_type=Empty(data.notification_type)?"":data.notification_type;for(var i=0;i<$scope.notification_type_options.length;i++)if($scope.notification_type_options[i].value===data.notification_type){$scope.notification_type=$scope.notification_type_options[i];break}master.notification_type=$scope.notification_type,CreateSelect2({element:"#notification_template_notification_type",multiple:!1}),NotificationsTypeChange.getDetailFields($scope.notification_type.value).forEach(function(field){$scope[field[0]]=field[1]}),$scope.notification_obj=data,$scope.parse_type="json",$scope.headers||($scope.headers="{\n}"),ParseTypeChange({scope:$scope,parse_variable:"parse_type",variable:"headers",field_id:"notification_template_headers"}),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to retrieve notification: "+id+". GET status: "+status})})}),$scope.$watch("headers",function(str){try{var headers=JSON.parse(str);if(_.isObject(headers)&&!_.isArray(headers)){var valid=!0;for(var k in headers)_.isObject(headers[k])&&(valid=!1),null===headers[k]&&(valid=!1);return void $scope.notification_template_form.headers.$setValidity("json",valid)}}catch(err){}$scope.notification_template_form.headers.$setValidity("json",!1)}),$scope.typeChange=function(){for(var fld in form.fields)if(form.fields[fld]&&form.fields[fld].subForm)if("checkbox_group"===form.fields[fld].type&&form.fields[fld].fields)for(var i=0;i<form.fields[fld].fields.length;i++){var subFldName=form.fields[fld].fields[i].name;$scope[subFldName]=null,$scope.notification_template_form[subFldName].$setPristine()}else $scope[fld]=null,$scope.notification_template_form[fld].$setPristine();NotificationsTypeChange.getDetailFields($scope.notification_type.value).forEach(function(field){$scope[field[0]]=field[1]}),$scope.parse_type="json",$scope.headers||($scope.headers="{\n}"),ParseTypeChange({scope:$scope,parse_variable:"parse_type",variable:"headers",field_id:"notification_template_headers"})},$scope.emailOptionsChange=function(){"use_ssl"===$scope.email_options?($scope.use_ssl=!0,$scope.use_tls=!1):"use_tls"===$scope.email_options&&($scope.use_ssl=!1,$scope.use_tls=!0)},$scope.formSave=function(){function processValue(value,i,field){return"textarea"===field.type&&("headers"===field.name?$scope[i]=JSON.parse($scope[i]):$scope[i]=$scope[i].toString().split("\n")),"checkbox"===field.type&&($scope[i]=Boolean($scope[i])),"number"===field.type&&($scope[i]=Number($scope[i])),"username"!==i||"email"!==$scope.notification_type.value||null!==value&&void 0!==value||($scope[i]=""),"sensitive"!==field.type||null!==value&&void 0!==value||($scope[i]=""),$scope[i]}var params,v=$scope.notification_type.value;generator.clearApiErrors($scope),params={name:$scope.name,description:$scope.description,organization:$scope.organization,notification_type:v,notification_configuration:{}},params.notification_configuration=_.object(Object.keys(form.fields).filter(function(i){return form.fields[i].ngShow&&form.fields[i].ngShow.indexOf(v)>-1}).map(function(i){return[i,processValue($scope[i],i,form.fields[i])]})),delete params.notification_configuration.email_options,params.notification_configuration.use_ssl=Boolean($scope.use_ssl),params.notification_configuration.use_tls=Boolean($scope.use_tls),Wait("start"),Rest.setUrl(url+id+"/"),Rest.put(params).success(function(){$state.go($state.current,null,{reload:!0}),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to add new notification template. POST returned status: "+status})})},$scope.formCancel=function(){$state.go("notifications")}}]}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"notification_templates",listTitle:i18n._("NOTIFICATION TEMPLATES"),iterator:"notification_template",index:!1,hover:!1,fields:{status:{label:"",iconOnly:!0,nosort:!0,icon:"icon-job-{{ notification_template.status }}",awPopOver:"{{ notification_template.template_status_html }}",dataTitle:i18n._("Recent Notifications"),dataPlacement:"right",columnClass:"col-lg-1 col-md-1 col-sm-2 col-xs-2 List-staticColumn--smallStatus"},name:{key:!0,label:i18n._("Name"),columnClass:"col-md-3 col-sm-9 col-xs-9",linkTo:"/#/notification_templates/{{notification_template.id}}"},notification_type:{label:i18n._("Type"),ngBind:"notification_template.type_label",searchType:"select",searchOptions:[],excludeModal:!0,columnClass:"col-md-4 hidden-sm hidden-xs"}},actions:{add:{mode:"all",ngClick:"addNotification()",awToolTip:i18n._("Create a new notification template"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD"),ngShow:"canAdd"}},fieldActions:{columnClass:"col-md-2 col-sm-3 col-xs-3",test:{ngClick:"testNotification(notification_template.id)",icon:"fa-bell-o",label:i18n._("Edit"),class:"btn-sm",awToolTip:i18n._("Test notification"),dataPlacement:"top",ngShow:"notification_template.summary_fields.user_capabilities.edit"},edit:{ngClick:"editNotification(notification_template.id)",icon:"fa-edit",label:i18n._("Edit"),class:"btn-sm",awToolTip:i18n._("Edit notification"),dataPlacement:"top",ngShow:"notification_template.summary_fields.user_capabilities.edit"},view:{ngClick:"editNotification(notification_template.id)",label:i18n._("View"),class:"btn-sm",awToolTip:i18n._("View notification"),dataPlacement:"top",ngShow:"!notification_template.summary_fields.user_capabilities.edit"},delete:{ngClick:"deleteNotification(notification_template.id, notification_template.name)",icon:"fa-trash",label:i18n._("Delete"),class:"btn-sm",awToolTip:i18n._("Delete notification"),dataPlacement:"top",ngShow:"notification_template.summary_fields.user_capabilities.delete"}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{addTitle:i18n._("NEW NOTIFICATION TEMPLATE"),editTitle:"{{ name }}",name:"notification_template",breadcrumbName:i18n._("NOTIFICATION TEMPLATE"),stateTree:"notifications",basePath:"notification_templates",showActions:!0,subFormTitles:{typeSubForm:i18n._("Type Details")},fields:{name:{label:i18n._("Name"),type:"text",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)",required:!0,capitalize:!1},description:{label:i18n._("Description"),type:"text",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},organization:{label:i18n._("Organization"),type:"lookup",list:"OrganizationList",basePath:"organizations",sourceModel:"organization",sourceField:"name",awRequiredWhen:{reqExpression:"organizationrequired",init:"true"},ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},notification_type:{label:i18n._("Type"),type:"select",required:!0,class:"NotificationsForm-typeSelect",ngOptions:"type.label for type in notification_type_options track by type.value",ngChange:"typeChange()",hasSubForm:!0,ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},username:{label:i18n._("Username"),type:"text",ngShow:"notification_type.value == 'email' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},password:{labelBind:"passwordLabel",type:"sensitive",hasShowInputButton:!0,awRequiredWhen:{reqExpression:"password_required",init:"false"},ngShow:"notification_type.value == 'email' || notification_type.value == 'irc' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},host:{label:i18n._("Host"),type:"text",awRequiredWhen:{reqExpression:"email_required",init:"false"},ngShow:"notification_type.value == 'email' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},recipients:{label:i18n._("Recipient List"),
type:"textarea",rows:3,awPopOver:"<p>"+i18n._("Type an option on each line.")+"</p><p>"+i18n._("For example:")+"<br>alias1@email.com<br>\n alias2@email.com<br>\n",dataTitle:i18n._("Recipient List"),dataPlacement:"right",dataContainer:"body",awRequiredWhen:{reqExpression:"email_required",init:"false"},ngShow:"notification_type.value == 'email' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},sender:{label:i18n._("Sender Email"),type:"text",awRequiredWhen:{reqExpression:"email_required",init:"false"},ngShow:"notification_type.value == 'email' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},port:{labelBind:"portLabel",type:"number",integer:!0,spinner:!0,class:"input-small",min:0,awRequiredWhen:{reqExpression:"port_required",init:"false"},ngShow:"notification_type.value == 'email' || notification_type.value == 'irc'",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},channels:{label:i18n._("Destination Channels"),type:"textarea",rows:3,awPopOver:"<p>"+i18n._("Type an option on each line. The pound symbol (#) is not required.")+"</p><p>"+i18n._("For example:")+"<br>engineering<br>\n #support<br>\n",dataTitle:i18n._("Destination Channels"),dataPlacement:"right",dataContainer:"body",awRequiredWhen:{reqExpression:"channel_required",init:"false"},ngShow:"notification_type.value == 'slack'",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},rooms:{label:i18n._("Destination Channels"),type:"textarea",rows:3,awPopOver:"<p>"+i18n._("Type an option on each line. The pound symbol (#) is not required.")+"</p><p>"+i18n._("For example:")+"<br>engineering<br>\n #support<br>\n",dataTitle:i18n._("Destination Channels"),dataPlacement:"right",dataContainer:"body",awRequiredWhen:{reqExpression:"room_required",init:"false"},ngShow:"notification_type.value == 'hipchat'",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},token:{labelBind:"tokenLabel",type:"sensitive",hasShowInputButton:!0,awRequiredWhen:{reqExpression:"token_required",init:"false"},ngShow:"notification_type.value == 'slack' || notification_type.value == 'pagerduty' || notification_type.value == 'hipchat'",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},account_token:{label:i18n._("Account Token"),type:"sensitive",hasShowInputButton:!0,awRequiredWhen:{reqExpression:"twilio_required",init:"false"},ngShow:"notification_type.value == 'twilio' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},from_number:{label:i18n._("Source Phone Number"),type:"text",awPopOver:"<p>"+i18n._('Number associated with the "Messaging Service" in Twilio.')+"</p><p>"+i18n.sprintf(i18n._("This must be of the form %s."),"<code>+18005550199</code>")+"</p>",awRequiredWhen:{reqExpression:"twilio_required",init:"false"},ngShow:"notification_type.value == 'twilio' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},to_numbers:{label:i18n._("Destination SMS Number"),type:"textarea",rows:3,awPopOver:"<p>"+i18n._("Type an option on each line.")+"</p><p>"+i18n._("For example:")+"<br><code>+12125552368</code><br>\n<code>+19105556162</code><br>\n",dataTitle:i18n._("Destination SMS Number"),dataPlacement:"right",dataContainer:"body",awRequiredWhen:{reqExpression:"twilio_required",init:"false"},ngShow:"notification_type.value == 'twilio' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},account_sid:{label:i18n._("Account SID"),type:"text",awRequiredWhen:{reqExpression:"twilio_required",init:"false"},ngShow:"notification_type.value == 'twilio' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},subdomain:{label:i18n._("Pagerduty subdomain"),type:"text",awRequiredWhen:{reqExpression:"pagerduty_required",init:"false"},ngShow:"notification_type.value == 'pagerduty' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},service_key:{label:i18n._("API Service/Integration Key"),type:"text",awRequiredWhen:{reqExpression:"pagerduty_required",init:"false"},ngShow:"notification_type.value == 'pagerduty' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},client_name:{label:i18n._("Client Identifier"),type:"text",awRequiredWhen:{reqExpression:"pagerduty_required",init:"false"},ngShow:"notification_type.value == 'pagerduty' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},api_url:{label:"API URL",type:"text",placeholder:"https://mycompany.hipchat.com",awRequiredWhen:{reqExpression:"hipchat_required",init:"false"},ngShow:"notification_type.value == 'hipchat' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},message_from:{label:i18n._("Notification Label"),type:"text",awRequiredWhen:{reqExpression:"hipchat_required",init:"false"},ngShow:"notification_type.value == 'hipchat' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},color:{label:i18n._("Notification Color"),type:"text",awPopOver:"<p>"+i18n.sprintf(i18n._("Color can be one of %s."),"<code>yellow</code>, <code>green</code>, <code>red</code>, <code>purple</code>, <code>gray</code>, <code>random</code>")+"\n",awRequiredWhen:{reqExpression:"hipchat_required",init:"false"},ngShow:"notification_type.value == 'hipchat' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},notify:{label:i18n._("Notify Channel"),type:"checkbox",ngShow:"notification_type.value == 'hipchat' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},url:{label:i18n._("Target URL"),type:"text",awRequiredWhen:{reqExpression:"webhook_required",init:"false"},ngShow:"notification_type.value == 'webhook' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},headers:{label:i18n._("HTTP Headers"),type:"textarea",name:"headers",rows:5,class:"Form-formGroup--fullWidth",awRequiredWhen:{reqExpression:"webhook_required",init:"false"},awPopOver:"<p>"+i18n._("Specify HTTP Headers in JSON format")+"</p><p>"+i18n._("For example:")+'<br><pre>\n{\n  "X-Auth-Token": "828jf0",\n  "X-Ansible": "Is great!"\n}\n</pre></p>',dataPlacement:"right",ngShow:"notification_type.value == 'webhook' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},server:{label:i18n._("IRC Server Address"),type:"text",awRequiredWhen:{reqExpression:"irc_required",init:"false"},ngShow:"notification_type.value == 'irc' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},nickname:{label:i18n._("IRC Nick"),type:"text",awRequiredWhen:{reqExpression:"irc_required",init:"false"},ngShow:"notification_type.value == 'irc' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},targets:{label:i18n._("Destination Channels or Users"),type:"textarea",rows:3,awPopOver:"<p>"+i18n._("Type an option on each line. The pound symbol (#) is not required.")+"</p><p>"+i18n._("For example:")+"<br>"+i18n.sprintf(i18n._("%s or %s"),"#support","support")+"<br>\n "+i18n.sprintf(i18n._("%s or %s"),"@username","username")+"<br>\n",dataTitle:i18n._("Destination Channels"),dataPlacement:"right",dataContainer:"body",awRequiredWhen:{reqExpression:"irc_required",init:"false"},ngShow:"notification_type.value == 'irc' ",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},use_ssl:{label:i18n._("SSL Connection"),type:"checkbox",ngShow:"notification_type.value == 'irc'",subForm:"typeSubForm",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},email_options:{label:i18n._("Options"),type:"radio_group",subForm:"typeSubForm",ngShow:"notification_type.value == 'email'",ngChange:"emailOptionsChange()",ngDisabled:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)",options:[{value:"use_tls",label:i18n._("Use TLS"),ngShow:"notification_type.value == 'email' ",labelClass:"NotificationsForm-radioButtons"},{value:"use_ssl",label:i18n._("Use SSL"),ngShow:"notification_type.value == 'email'",labelClass:"NotificationsForm-radioButtons"}]}},buttons:{cancel:{ngClick:"formCancel()",ngShow:"(notification_template.summary_fields.user_capabilities.edit || canAdd)"},close:{ngClick:"formCancel()",ngShow:"!(notification_template.summary_fields.user_capabilities.edit || canAdd)"},save:{ngClick:"formSave()",ngShow:"(notification_template.summary_fields.user_capabilities.edit || canAdd)",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{dataPlacement:"top",awToolTip:i18n._("Please save before adding notifications"),name:"notifications",title:i18n._("Notifications"),iterator:"notification",index:!1,hover:!1,emptyListText:i18n.sprintf(i18n._("This list is populated by notification templates added from the %sNotifications%s section"),"&nbsp;<a ui-sref='notifications.add'>","</a>&nbsp;"),basePath:"notification_templates",fields:{name:{key:!0,label:i18n._("Name"),columnClass:"col-md-3 col-sm-9 col-xs-9",linkTo:"/#/notification_templates/{{notifier.id}}"},notification_type:{label:i18n._("Type"),searchType:"select",searchOptions:[],excludeModal:!0,columnClass:"col-md-4 hidden-sm hidden-xs"},notification_templates_success:{label:i18n._("Success"),flag:"notification_templates_success",type:"toggle",ngClick:'toggleNotification($event, notification.id, "notification_templates_success")',awToolTip:"{{ schedule.play_tip }}",dataTipWatch:"schedule.play_tip",dataPlacement:"right",nosort:!0},notification_templates_error:{label:i18n._("Failure"),columnClass:"NotifierList-lastColumn",flag:"notification_templates_error",type:"toggle",ngClick:'toggleNotification($event, notification.id, "notification_templates_error")',awToolTip:"{{ schedule.play_tip }}",dataTipWatch:"schedule.play_tip",dataPlacement:"right",nosort:!0}},actions:{add:{label:i18n._("Add Notification"),mode:"all",ngClick:"addNotificationTemplate()",awToolTip:i18n._("Create a new notification template"),actionClass:"btn List-buttonSubmit",buttonContent:"&#43; "+i18n._("ADD NOTIFICATION TEMPLATE"),ngShow:"current_user.is_superuser || (current_user_admin_orgs && current_user_admin_orgs.length > 0)"}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Wait","GetBasePath","ProcessErrors","Rest",function(Wait,GetBasePath,ProcessErrors,Rest){return function(params){var scope=params.scope,notifier=params.notifier,notifier_id=params.notifier.id,callback=params.callback,column=params.column,url=params.url+"/"+column+"/";params=notifier[column]?{id:notifier_id,disassociate:1}:{id:notifier_id},Wait("start"),Rest.setUrl(url),Rest.post(params).success(function(data){callback&&(scope.$emit(callback,data.id),notifier[column]=!notifier[column]),Wait("stop")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to update notification "+data.id+" PUT returned: "+status})})}}]},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Wait","GetBasePath","ProcessErrors","Rest","GetChoices","$state","$rootScope",function(Wait,GetBasePath,ProcessErrors,Rest,GetChoices,$state,$rootScope){return function(params){var scope=params.scope,url=params.url,id=params.id;scope.current_user_admin_orgs=[],Rest.setUrl($rootScope.current_user.related.admin_of_organizations),Rest.get().success(function(data){scope.current_user_admin_orgs=data.results.map(function(i){return i.name})}),scope.addNotificationTemplate=function(){$state.go("notifications.add")},scope.relatednotificationsRemove&&scope.relatednotificationsRemove(),scope.relatednotificationsRemove=scope.$on("relatednotifications",function(){var columns=["/notification_templates_success/","/notification_templates_error/"];GetChoices({scope:scope,url:GetBasePath("notifications"),field:"notification_type",variable:"notification_type_options",callback:"choicesReadyNotifierList"}),_.map(columns,function(column){var notifier_url=url+id+column;Rest.setUrl(notifier_url),Rest.get().success(function(data,i,j,obj){var type=obj.url.indexOf("success")>0?"notification_templates_success":"notification_templates_error";data.results?_.forEach(data.results,function(result){_.forEach(scope.notifications,function(notification){notification.id===result.id&&(notification[type]=!0)})}):Wait("stop")}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to update notification "+data.id+" PUT returned: "+status})})}),scope.removeChoicesHere&&scope.removeChoicesHere(),scope.removeChoicesHere=scope.$on("choicesReadyNotifierList",function(){scope.notifications&&scope.notifications.forEach(function(notification,i){scope.notification_type_options.forEach(function(type){type.value===notification.notification_type&&(scope.notifications[i].notification_type=type.label)})})})})}}]}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{getDetailFields:function(type){var obj={};switch(obj.email_required=!1,obj.slack_required=!1,obj.hipchat_required=!1,obj.pagerduty_required=!1,obj.irc_required=!1,obj.twilio_required=!1,obj.webhook_required=!1,obj.token_required=!1,obj.port_required=!1,obj.password_required=!1,obj.channel_required=!1,obj.room_required=!1,type){case"email":obj.portLabel=" "+i18n._("Port"),obj.passwordLabel=" "+i18n._("Password"),obj.email_required=!0,obj.port_required=!0,obj.password_required=!1;break;case"slack":obj.tokenLabel=" "+i18n._("Token"),obj.slack_required=!0,obj.token_required=!0,obj.channel_required=!0;break;case"hipchat":obj.tokenLabel=" "+i18n._("Token"),obj.hipchat_required=!0,obj.room_required=!0,obj.token_required=!0;break;case"twilio":obj.twilio_required=!0;break;case"webhook":obj.webhook_required=!0;break;case"pagerduty":obj.tokenLabel=" "+i18n._("API Token"),obj.pagerduty_required=!0,obj.token_required=!0;break;case"irc":obj.portLabel=" "+i18n._("IRC Server Port"),obj.passwordLabel=" "+i18n._("IRC Server Password"),obj.irc_required=!0,obj.password_required=!0,obj.port_required=!0}return Object.keys(obj).map(function(i){return[i,obj[i]]})}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _about=__webpack_require__(556),_about2=_interopRequireDefault(_about),_about3=__webpack_require__(557),_about4=_interopRequireDefault(_about3);exports.default=angular.module("aboutTower",[]).controller("aboutTower",_about2.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_about4.default)}])},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$state","ConfigService",function($scope,$state,ConfigService){var init=function(){ConfigService.getConfig().then(function(config){$scope.version=config.version.split("-")[0],$scope.ansible_version=config.ansible_version,$scope.subscription=config.license_info.subscription_name,$("#about-modal").modal("show")})};$("#about-modal").on("hidden.bs.modal",function(){$state.go("setup")}),init()}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_about=__webpack_require__(556),_about2=_interopRequireDefault(_about),_i18n=__webpack_require__(172);exports.default={name:"setup.about",route:"/about",controller:_about2.default,ncyBreadcrumb:{label:(0,_i18n.N_)("ABOUT")},onExit:function(){$(".modal-backdrop").remove(),$("body").removeClass("modal-open")},templateUrl:(0,_templateUrl.templateUrl)("about/about")}}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _license=__webpack_require__(559),_license2=_interopRequireDefault(_license),_license3=__webpack_require__(560),_license4=_interopRequireDefault(_license3),_checkLicense=__webpack_require__(561),_checkLicense2=_interopRequireDefault(_checkLicense),_fileOnChange=__webpack_require__(562),_fileOnChange2=_interopRequireDefault(_fileOnChange);exports.default=angular.module("license",[]).controller("licenseController",_license4.default).directive("fileOnChange",_fileOnChange2.default).factory("CheckLicense",_checkLicense2.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_license2.default)}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_i18n=__webpack_require__(172);exports.default={name:"license",route:"/license",templateUrl:(0,_templateUrl.templateUrl)("license/license"),controller:"licenseController",data:{},ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("LICENSE")},resolve:{features:["CheckLicense","$rootScope",function(CheckLicense,$rootScope){if(void 0===$rootScope.licenseMissing)return CheckLicense.notify()}]}}},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _i18n=__webpack_require__(172);exports.default=["Wait","$state","$scope","$rootScope","$location","GetBasePath","Rest","ProcessErrors","CheckLicense","moment","$window","ConfigService","FeaturesService","pendoService","i18n",function(Wait,$state,$scope,$rootScope,$location,GetBasePath,Rest,ProcessErrors,CheckLicense,moment,$window,ConfigService,FeaturesService,pendoService,i18n){var calcDaysRemaining=function(seconds){var duration=moment.duration(seconds,"seconds").asDays();return duration=Math.floor(duration),duration<0&&(duration=0),duration=1!==duration?duration+" Days":duration+" Day"},calcExpiresOn=function(days){return days=parseInt(days),moment().add(days,"days").calendar()},reset=function(){document.getElementById("License-form").reset()},init=function(){$scope.fileName=(0,_i18n.N_)("No file selected."),$scope.title=$rootScope.licenseMissing?"Tower "+i18n._("License"):i18n._("License Management"),Wait("start"),ConfigService.delete(),ConfigService.getConfig().then(function(config){$scope.license=config,$scope.license.version=config.version.split("-")[0],$scope.time={},$scope.time.remaining=calcDaysRemaining($scope.license.license_info.time_remaining),$scope.time.expiresOn=calcExpiresOn($scope.time.remaining),$scope.valid=CheckLicense.valid($scope.license.license_info),$scope.compliant=$scope.license.license_info.compliant,Wait("stop")})};init(),$scope.getKey=function(event){$scope.fileName=event.target.files[0].name;var raw=new FileReader;raw.onload=function(){try{$scope.newLicense.file=JSON.parse(raw.result)}catch(err){ProcessErrors($rootScope,null,null,null,{msg:i18n._("Invalid file format. Please upload valid JSON.")})}};try{raw.readAsText(event.target.files[0])}catch(err){ProcessErrors($rootScope,null,null,null,{msg:i18n._("Invalid file format. Please upload valid JSON.")})}},$scope.fakeClick=function(){$("#License-file").click()},$scope.downloadLicense=function(){$window.open("https://www.ansible.com/license","_blank")},$scope.newLicense={},$scope.submit=function(){Wait("start"),CheckLicense.post($scope.newLicense.file,$scope.newLicense.eula).success(function(){reset(),ConfigService.delete(),ConfigService.getConfig().then(function(){if(delete $rootScope.features,FeaturesService.get(),pendoService.issuePendoIdentity(),$rootScope.licenseMissing===!0)$state.go("dashboard",{licenseMissing:!1});else{init(),$scope.success=!0,$rootScope.licenseMissing=!1;var successTimeout=setTimeout(function(){$scope.success=!1,clearTimeout(successTimeout)},4e3)}})})}}]}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$state","$rootScope","Rest","GetBasePath","ProcessErrors","ConfigService",function($state,$rootScope,Rest,GetBasePath,ProcessErrors,ConfigService){return{get:function(){var config=ConfigService.get();return config.license_info},post:function(license,eula){var defaultUrl=GetBasePath("config");Rest.setUrl(defaultUrl);var data=license;return data.eula_accepted=eula,Rest.post(JSON.stringify(data)).success(function(res){return res}).error(function(res,status){ProcessErrors($rootScope,res,status,null,{hdr:"Error!",msg:"Call to "+defaultUrl+" failed. Return status: "+status})})},valid:function(license){return!!license.valid_key},test:function(event){var license=this.get();null!==license&&$rootScope.license_tested?this.valid(license)===!1?($rootScope.licenseMissing=!0,$state.go("license"),event&&event.preventDefault()):$rootScope.licenseMissing=!1:this.valid(license)===!1?($rootScope.licenseMissing=!0,$state.go("license"),event&&event.preventDefault()):$rootScope.licenseMissing=!1}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=[function(){return{restrict:"A",link:function(scope,el,attrs){var onChange=scope.$eval(attrs.fileOnChange);el.bind("change",onChange)}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _setup=__webpack_require__(564),_setup2=_interopRequireDefault(_setup),_main=__webpack_require__(565),_main2=_interopRequireDefault(_main);exports.default=angular.module("setupMenu",[_main2.default.name]).run(["$stateExtender","I18NInit",function($stateExtender,I18NInit){I18NInit(),$stateExtender.addState(_setup2.default)}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_i18n=__webpack_require__(172);exports.default={name:"setup",route:"/setup",ncyBreadcrumb:{label:(0,_i18n.N_)("SETTINGS")},templateUrl:(0,_templateUrl.templateUrl)("setup-menu/setup-menu"),controller:function(orgAdmin,$scope){$scope.orgAdmin=orgAdmin},resolve:{orgAdmin:["$rootScope","ProcessErrors","Rest",function($rootScope,ProcessErrors,Rest){return $rootScope.loginConfig.promise.then(function(){return!!$rootScope.current_user.related.admin_of_organizations&&($rootScope.orgAdmin=!1,!!$rootScope.current_user.is_superuser||(Rest.setUrl("/api/v1/users/"+$rootScope.current_user.id+"/admin_of_organizations"),Rest.get().then(function(data){return!!data.data.count}).catch(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Failed to find if users is admin of org"+status})})))})}]}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _icon=__webpack_require__(566),_icon2=_interopRequireDefault(_icon);exports.default=angular.module("awIcon",[]).directive("awIcon",_icon2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl","$rootScope",function(templateUrl,$rootScope){return{restrict:"E",templateUrl:templateUrl("shared/icon/icon"),scope:{},link:function(scope,element,attrs){function buildSvgs(){var svg=$("svg",element),iconPath="#"+attrs.name;if(0!==$(iconPath).length){var content=$(iconPath).clone(),classes=$(iconPath).attr("class"),viewBox=$(iconPath)[0].getAttribute("viewBox");svg[0].setAttribute("viewBox",viewBox),svg.attr("class",classes).html(content.contents())}}$rootScope.$on("include-svg.svg-ready",function(){buildSvgs()}),buildSvgs()}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mainMenu=__webpack_require__(568),_mainMenu2=_interopRequireDefault(_mainMenu);exports.default=angular.module("mainMenu",[]).directive("mainMenu",_mainMenu2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$state","templateUrl","$rootScope",function($state,templateUrl,$rootScope){return{restrict:"E",templateUrl:templateUrl("main-menu/main-menu"),link:function(scope,element,attrs){scope.isCurrentState=function(name){return $state.current.name===name},scope.includesCurrentState=function(name){return $state.includes(name)},$rootScope.$on("current_user",function(user){scope.currentUserTip="Logged in as "+user.un}),scope.socketHelp=$rootScope.socketHelp,scope.socketTip=$rootScope.socketTip,$rootScope.$watch("socketStatus",function(newStatus){scope.socketStatus=newStatus,scope.socketIconClass="icon-socket-"+scope.socketStatus}),$rootScope.$watch("socketTip",function(newTip){scope.socketTip=newTip}),scope.isHiddenOnMobile=!0,scope.toggleMenu=function(){scope.isHiddenOnMobile?scope.isHiddenOnMobile=!1:scope.isHiddenOnMobile=!0},$("body").on("click",function(e){0===$(e.target).parents(".MainMenu").length&&(scope.isHiddenOnMobile=!0)}),scope.$on("$locationChangeStart",function(event){scope.isHiddenOnMobile=!0})}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _breadCrumb=__webpack_require__(570),_breadCrumb2=_interopRequireDefault(_breadCrumb),_breadCrumb3=__webpack_require__(571),_breadCrumb4=_interopRequireDefault(_breadCrumb3);exports.default=angular.module("breadCrumb",[]).service("BreadCrumbService",_breadCrumb4.default).directive("breadCrumb",_breadCrumb2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl","$state","FeaturesService","ProcessErrors","$rootScope","Store","Empty","$window","BreadCrumbService","i18n",function(templateUrl,$state,FeaturesService,ProcessErrors,$rootScope,Store,Empty,$window,BreadCrumbService,i18n){return{restrict:"E",templateUrl:templateUrl("bread-crumb/bread-crumb"),link:function(scope){function init(){function onResize(){BreadCrumbService.truncateCrumbs()}function cleanUp(){angular.element($window).off("resize",onResize)}scope.showActivityStreamButton=!1,scope.showRefreshButton=!1,scope.loadingLicense=!0,angular.element($window).on("resize",onResize),scope.$on("$destroy",cleanUp)}var originalRoute,streamConfig={};init(),scope.refresh=function(){$state.go($state.current,{},{reload:!0})},scope.toggleActivityStream=function(){if(scope.activityStreamActive)originalRoute?$state.go(originalRoute.name,originalRoute.fromParams):$state.go("dashboard");else{var stateGoParams={};if(streamConfig&&streamConfig.activityStream){if(streamConfig.activityStreamTarget){stateGoParams.target=streamConfig.activityStreamTarget;var isTemplateTarget=_.contains(["template","job_template","workflow_job_template"],streamConfig.activityStreamTarget);stateGoParams.activity_search={or__object1__in:isTemplateTarget?"job_template,workflow_job_template":streamConfig.activityStreamTarget,or__object2__in:isTemplateTarget?"job_template,workflow_job_template":streamConfig.activityStreamTarget,order_by:"-timestamp",page_size:"20"},streamConfig.activityStreamTarget&&streamConfig.activityStreamId&&(stateGoParams.activity_search[streamConfig.activityStreamTarget]=$state.params[streamConfig.activityStreamId])}else stateGoParams.activity_search={order_by:"-timestamp",page_size:"20"};streamConfig.activityStreamId&&(stateGoParams.id=$state.params[streamConfig.activityStreamId]),"custom_inventory_script"===stateGoParams.target&&(stateGoParams.activity_search[streamConfig.activityStreamTarget]=$state.params.inventory_script_id,stateGoParams.id=$state.params.inventory_script_id)}originalRoute=$state.current,$state.go("activityStream",stateGoParams)}},scope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){if(fromState&&!Empty(fromState.name)&&(fromState.fromParams=fromParams?fromParams:{}),streamConfig=toState&&toState.data?toState.data:{},streamConfig&&streamConfig.activityStream){var features=FeaturesService.get();features&&(scope.loadingLicense=!1,scope.activityStreamActive="activityStream"===toState.name,scope.activityStreamTooltip="activityStream"===toState.name?i18n._("Hide Activity Stream"):i18n._("View Activity Stream"),scope.showActivityStreamButton=!(!FeaturesService.featureEnabled("activity_streams")&&"activityStream"!==toState.name))}else scope.showActivityStreamButton=!1;scope.showRefreshButton=!(!streamConfig||!streamConfig.refreshButton)}),$rootScope.featuresConfigured.promise.then(function(features){features&&(scope.loadingLicense=!1,scope.activityStreamActive="activityStream"===$state.current.name,scope.activityStreamTooltip="activityStream"===$state.current.name?"Hide Activity Stream":"View Activity Stream",scope.showActivityStreamButton=!(!FeaturesService.featureEnabled("activity_streams")&&"activityStream"!==$state.current.name))})}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($,_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=[function(){return{truncateCrumbs:function(){var breadCrumbBarWidth=$("#bread_crumb").outerWidth(),menuLinkWidth=$(".BreadCrumb-menuLinkHolder").outerWidth(),availableWidth=breadCrumbBarWidth-menuLinkWidth,$breadcrumbClone=$(".BreadCrumb-list").clone().appendTo("#bread_crumb_width_checker"),$breadcrumbCloneItems=$breadcrumbClone.find(".BreadCrumb-item"),breadcrumbBarPadding=45,expandedBreadcrumbWidth=breadcrumbBarPadding,crumbs=[];if($breadcrumbCloneItems.css("max-width","none"),$breadcrumbCloneItems.each(function(index,item){var crumbWidth=$(item).outerWidth();expandedBreadcrumbWidth+=crumbWidth,crumbs.push({index:index,origWidth:crumbWidth})}),$breadcrumbClone.remove(),expandedBreadcrumbWidth>availableWidth){for(var widthToTrim=expandedBreadcrumbWidth-availableWidth,sortedCrumbs=_.sortByOrder(crumbs,["origWidth"],["desc"]),maxWidth=void 0,i=0;i<sortedCrumbs.length;i++)if(sortedCrumbs[i+1])if(sortedCrumbs[i-1]){var potentialCrumbsToTrim=i+1;if(potentialCrumbsToTrim*(sortedCrumbs[i].origWidth-sortedCrumbs[i+1].origWidth)>widthToTrim){maxWidth-=widthToTrim/potentialCrumbsToTrim;break}widthToTrim-=sortedCrumbs[i].origWidth-sortedCrumbs[i+1].origWidth,maxWidth=sortedCrumbs[i].origWidth}else{if(sortedCrumbs[i].origWidth-widthToTrim>sortedCrumbs[i+1].origWidth){maxWidth=sortedCrumbs[i].origWidth-widthToTrim;break}widthToTrim-=sortedCrumbs[i].origWidth-sortedCrumbs[i+1].origWidth,maxWidth=sortedCrumbs[i+1].origWidth}else maxWidth=sortedCrumbs[i-1]?(availableWidth-breadcrumbBarPadding)/(i+1):sortedCrumbs[i].origWidth-widthToTrim;
$(".BreadCrumb-item").css("max-width",maxWidth)}else $(".BreadCrumb-item").css("max-width","none")}}}]}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _browserData=__webpack_require__(573),_browserData2=_interopRequireDefault(_browserData),_ngApp=__webpack_require__(574),_ngApp2=_interopRequireDefault(_ngApp);exports.default=angular.module("browserData",[]).directive("ngApp",_ngApp2.default).factory("browserData",_browserData2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$window",function($window){var browserName,ua=$window.navigator.userAgent,browser={userAgent:ua,platform:$window.navigator.platform,name:"Unknown Browser"};return ua.search("MSIE")>=0?browserName="Internet Explorer":navigator.userAgent.search("Chrome")>=0&&navigator.userAgent.search("OPR")<0?browserName="Chrome":navigator.userAgent.search("Firefox")>=0?browserName="Firefox":navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0&&navigator.userAgent.search("OPR")<0?browserName="Safari":navigator.userAgent.search("OPR")>=0&&(browserName="Opera"),browser.name=browserName,browser}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["browserData",function(browserData){return{link:function(scope,element,attrs){element.attr("data-browser",browserData.userAgent).attr("data-platform",browserData.platform)}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _configuration=__webpack_require__(576),_configuration2=_interopRequireDefault(_configuration),_configurationUtils=__webpack_require__(577),_configurationUtils2=_interopRequireDefault(_configurationUtils),_configuration3=__webpack_require__(578),_configuration4=_interopRequireDefault(_configuration3),_configurationController=__webpack_require__(579),_configurationController2=_interopRequireDefault(_configurationController),_authAzureForm=__webpack_require__(584),_authAzureForm2=_interopRequireDefault(_authAzureForm),_authGithubForm=__webpack_require__(585),_authGithubForm2=_interopRequireDefault(_authGithubForm),_authGithubOrg=__webpack_require__(586),_authGithubOrg2=_interopRequireDefault(_authGithubOrg),_authGithubTeam=__webpack_require__(587),_authGithubTeam2=_interopRequireDefault(_authGithubTeam),_authGoogleOauth=__webpack_require__(588),_authGoogleOauth2=_interopRequireDefault(_authGoogleOauth),_authLdapForm=__webpack_require__(589),_authLdapForm2=_interopRequireDefault(_authLdapForm),_authRadiusForm=__webpack_require__(590),_authRadiusForm2=_interopRequireDefault(_authRadiusForm),_authSaml=__webpack_require__(591),_authSaml2=_interopRequireDefault(_authSaml),_systemActivityStreamForm=__webpack_require__(592),_systemActivityStreamForm2=_interopRequireDefault(_systemActivityStreamForm),_systemLoggingForm=__webpack_require__(593),_systemLoggingForm2=_interopRequireDefault(_systemLoggingForm),_systemMiscForm=__webpack_require__(594),_systemMiscForm2=_interopRequireDefault(_systemMiscForm),_configurationJobs=__webpack_require__(595),_configurationJobs2=_interopRequireDefault(_configurationJobs),_configurationUi=__webpack_require__(596),_configurationUi2=_interopRequireDefault(_configurationUi);exports.default=angular.module("configuration",[]).controller("ConfigurationController",_configurationController2.default).factory("configurationAzureForm",_authAzureForm2.default).factory("configurationGithubForm",_authGithubForm2.default).factory("configurationGithubOrgForm",_authGithubOrg2.default).factory("configurationGithubTeamForm",_authGithubTeam2.default).factory("configurationGoogleForm",_authGoogleOauth2.default).factory("configurationLdapForm",_authLdapForm2.default).factory("configurationRadiusForm",_authRadiusForm2.default).factory("configurationSamlForm",_authSaml2.default).factory("systemActivityStreamForm",_systemActivityStreamForm2.default).factory("systemLoggingForm",_systemLoggingForm2.default).factory("systemMiscForm",_systemMiscForm2.default).factory("ConfigurationJobsForm",_configurationJobs2.default).factory("ConfigurationUiForm",_configurationUi2.default).factory("ConfigurationUtils",_configurationUtils2.default).service("ConfigurationService",_configuration2.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_configuration4.default)}])},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","GetBasePath","ProcessErrors","$q","$http","Rest",function($rootScope,GetBasePath,ProcessErrors,$q,$http,Rest){var url=GetBasePath("settings");return{getConfigurationOptions:function(){var deferred=$q.defer(),returnData={};return Rest.setUrl(url+"/all"),Rest.options().success(function(data){var getActions=data.actions.GET,getKeys=_.keys(getActions),putActions=data.actions.PUT;_.each(getKeys,function(key){putActions[key]?returnData[key]=putActions[key]:returnData[key]=_.extend(getActions[key],{required:!1,disabled:!0})}),deferred.resolve(returnData)}).error(function(error){deferred.reject(error)}),deferred.promise},patchConfiguration:function(body){var deferred=$q.defer();return Rest.setUrl(url+"all"),Rest.patch(body).success(function(data){deferred.resolve(data)}).error(function(error){deferred.reject(error)}),deferred.promise},getCurrentValues:function(){var deferred=$q.defer();return Rest.setUrl(url+"/all"),Rest.get().success(function(data){deferred.resolve(data)}).error(function(error){deferred.reject(error)}),deferred.promise},resetAll:function(){var deferred=$q.defer();return Rest.setUrl(url+"/all"),Rest.destroy().success(function(data){deferred.resolve(data)}).error(function(error){deferred.reject(error)}),deferred.promise}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=["$q",function($q){return{listToArray:function(input){return input.indexOf("\n")!==-1?input.replace(/^\s+|\s+$/g,"").split("\n"):""===input?[]:input.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/)},arrayToList:function(input){var multiLineInput=!1;return _.each(input,function(statement){statement.indexOf(",")!==-1&&(multiLineInput=!0)}),multiLineInput===!1?input.join(", "):input.join("\n")},isEmpty:function(map){for(var key in map)if(map.hasOwnProperty(key))return!1;return!0},formatPlaceholder:function(input){if(null!==input&&"object"===("undefined"==typeof input?"undefined":_typeof(input))){if(Array.isArray(input)){var multiLineInput=!1;return _.each(input,function(statement){statement.indexOf(",")!==-1&&(multiLineInput=!0)}),multiLineInput===!1?input.join(", "):input.join("\n")}return JSON.stringify(input)}return input},imageProcess:function(file){var deferred=$q.defer(),SIZELIMIT=1e6,ACCEPTEDFORMATS=["image/png","image/gif","image/jpeg"];if(file.size<SIZELIMIT&&ACCEPTEDFORMATS.indexOf(file.type)!==-1){var reader=new FileReader;reader.readAsDataURL(file),reader.onload=function(){deferred.resolve(reader.result)},reader.onerror=function(){deferred.reject("File could not be parsed")}}else{var error="Error: ";file.size>SIZELIMIT&&(error+="Must be under "+SIZELIMIT/1e6+"MB. "),ACCEPTEDFORMATS.indexOf(file.type)===-1&&(error+="Wrong file type - must be png, gif, or jpg."),deferred.reject(error)}return deferred.promise}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116),_configuration=__webpack_require__(579),_configuration2=_interopRequireDefault(_configuration),_i18n=__webpack_require__(172),_configurationAuth=__webpack_require__(580),_configurationAuth2=_interopRequireDefault(_configurationAuth),_configurationJobs=__webpack_require__(581),_configurationJobs2=_interopRequireDefault(_configurationJobs),_configurationSystem=__webpack_require__(582),_configurationSystem2=_interopRequireDefault(_configurationSystem),_configurationUi=__webpack_require__(583),_configurationUi2=_interopRequireDefault(_configurationUi);exports.default={name:"configuration",route:"/configuration/:currentTab",params:{currentTab:{value:"auth",dynamic:!0,isOptional:!0}},ncyBreadcrumb:{parent:"setup",label:(0,_i18n.N_)("EDIT CONFIGURATION")},controller:_configuration2.default,resolve:{configDataResolve:["ConfigurationService",function(ConfigurationService){return ConfigurationService.getConfigurationOptions()}]},views:{"":{templateUrl:(0,_templateUrl.templateUrl)("configuration/configuration"),controller:_configuration2.default,controllerAs:"vm"},"auth@configuration":{templateUrl:(0,_templateUrl.templateUrl)("configuration/auth-form/configuration-auth"),controller:_configurationAuth2.default,controllerAs:"authVm"},"jobs@configuration":{templateUrl:(0,_templateUrl.templateUrl)("configuration/jobs-form/configuration-jobs"),controller:_configurationJobs2.default,controllerAs:"jobsVm"},"system@configuration":{templateUrl:(0,_templateUrl.templateUrl)("configuration/system-form/configuration-system"),controller:_configurationSystem2.default,controllerAs:"systemVm"},"ui@configuration":{templateUrl:(0,_templateUrl.templateUrl)("configuration/ui-form/configuration-ui"),controller:_configurationUi2.default,controllerAs:"uiVm"}}}},function(module,exports,__webpack_require__){(function(_,$,global){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=["$scope","$rootScope","$state","$stateParams","$timeout","$q","Alert","ClearScope","ConfigurationService","ConfigurationUtils","CreateDialog","CreateSelect2","i18n","ParseTypeChange","ProcessErrors","Store","Wait","configDataResolve","ToJSON","configurationAzureForm","configurationGithubForm","configurationGithubOrgForm","configurationGithubTeamForm","configurationGoogleForm","configurationLdapForm","configurationRadiusForm","configurationSamlForm","systemActivityStreamForm","systemLoggingForm","systemMiscForm","ConfigurationJobsForm","ConfigurationUiForm",function($scope,$rootScope,$state,$stateParams,$timeout,$q,Alert,ClearScope,ConfigurationService,ConfigurationUtils,CreateDialog,CreateSelect2,i18n,ParseTypeChange,ProcessErrors,Store,Wait,configDataResolve,ToJSON,configurationAzureForm,configurationGithubForm,configurationGithubOrgForm,configurationGithubTeamForm,configurationGoogleForm,configurationLdapForm,configurationRadiusForm,configurationSamlForm,systemActivityStreamForm,systemLoggingForm,systemMiscForm,ConfigurationJobsForm,ConfigurationUiForm){function activeTabCheck(setForm){if($scope[formTracker.currentFormName()].$dirty){var msg=i18n._("You have unsaved changes. Would you like to proceed <strong>without</strong> saving?"),title=i18n._("Warning: Unsaved Changes"),buttons=[{label:i18n._("Discard changes"),class:"btn Form-cancelButton",id:"formmodal-cancel-button",onClick:function(){clearApiErrors(),populateFromApi(),$scope[formTracker.currentFormName()].$setPristine(),$("#FormModal-dialog").dialog("close"),active(setForm)}},{label:i18n._("Save changes"),onClick:function(){vm.formSave(),$scope[formTracker.currentFormName()].$setPristine(),$("#FormModal-dialog").dialog("close"),active(setForm)},class:"btn btn-primary",id:"formmodal-save-button"}];triggerModal(msg,title,buttons)}else active(setForm)}function active(setForm){"auth"===setForm?""===formTracker.currentAuth?formTracker.setCurrentAuth("azure"):formTracker.setCurrentAuth(formTracker.currentAuth):"system"===setForm?""===formTracker.currentSystem?formTracker.setCurrentSystem("misc"):formTracker.setCurrentSystem(formTracker.currentSystem):formTracker.setCurrent(setForm),vm.activeTab=setForm,$state.go("configuration",{currentTab:setForm},{location:!0,inherit:!1,notify:!1,reload:!1})}function loginUpdate(){$scope.CUSTOM_LOGO?($rootScope.custom_logo=$scope.CUSTOM_LOGO,global.$AnsibleConfig.custom_logo=!0):($rootScope.custom_logo="",global.$AnsibleConfig.custom_logo=!1),$scope.CUSTOM_LOGIN_INFO?($rootScope.custom_login_info=$scope.CUSTOM_LOGIN_INFO,global.$AnsibleConfig.custom_login_info=$scope.CUSTOM_LOGIN_INFO):($rootScope.custom_login_info="",global.$AnsibleConfig.custom_login_info=!1),Store("AnsibleConfig",global.$AnsibleConfig),$scope.$broadcast("loginUpdated")}function clearApiErrors(){var currentForm=formDefs[formTracker.getCurrent()];for(var fld in currentForm.fields)currentForm.fields[fld].sourceModel?($scope[currentForm.fields[fld].sourceModel+"_"+currentForm.fields[fld].sourceField+"_api_error"]="",$('[name="'+currentForm.fields[fld].sourceModel+"_"+currentForm.fields[fld].sourceField+'"]').removeClass("ng-invalid")):currentForm.fields[fld].realName?($scope[currentForm.fields[fld].realName+"_api_error"]="",$('[name="'+currentForm.fields[fld].realName+'"]').removeClass("ng-invalid")):($scope[fld+"_api_error"]="",$('[name="'+fld+'"]').removeClass("ng-invalid"));$scope.$$phase||$scope.$digest()}var vm=this,formDefs={azure:configurationAzureForm,github:configurationGithubForm,github_org:configurationGithubOrgForm,github_team:configurationGithubTeamForm,google_oauth:configurationGoogleForm,ldap:configurationLdapForm,radius:configurationRadiusForm,saml:configurationSamlForm,activity_stream:systemActivityStreamForm,logging:systemLoggingForm,misc:systemMiscForm,jobs:ConfigurationJobsForm,ui:ConfigurationUiForm},populateFromApi=function(){ConfigurationService.getCurrentValues().then(function(data){var currentKeys=_.keys(data);_.each(currentKeys,function(key){null!==data[key]&&"object"===_typeof(data[key])?Array.isArray(data[key])?"AD_HOC_COMMANDS"===key?$scope[key]=data[key].toString():"AUTH_LDAP_USER_SEARCH"===key||"AUTH_LDAP_GROUP_SEARCH"===key?$scope[key]=JSON.stringify(data[key]):$scope[key]=ConfigurationUtils.arrayToList(data[key],key):ConfigurationUtils.isEmpty(data[key])?$scope[key]="{}":$scope[key]=JSON.stringify(data[key]):$scope[key]=data[key]}),$scope.$broadcast("populated",data)})};populateFromApi();var formTracker={lastForm:"",currentForm:"",currentAuth:"",currentSystem:"",setCurrent:function(form){this.lastForm=this.currentForm,this.currentForm=form},getCurrent:function(){return this.currentForm},currentFormName:function(){return"configuration_"+this.currentForm+"_template_form"},setCurrentAuth:function(form){this.currentAuth=form,this.setCurrent(this.currentAuth)},setCurrentSystem:function(form){this.currentSystem=form,this.setCurrent(this.currentSystem)}};""===$stateParams.currentTab&&$state.go("configuration",{currentTab:"auth"},{location:!0,inherit:!1,notify:!1,reload:!1});var currentForm="",currentTab=function(){return""===$stateParams.currentTab||"auth"===$stateParams.currentTab?"auth":""!==$stateParams.currentTab&&"auth"!==$stateParams.currentTab?(formTracker.setCurrent($stateParams.currentTab),$stateParams.currentTab):void 0},activeTab=currentTab();$scope.configDataResolve=configDataResolve;var triggerModal=function(msg,title,buttons){$scope.removeModalReady&&$scope.removeModalReady(),$scope.removeModalReady=$scope.$on("ModalReady",function(){$("#FormModal-dialog").dialog("open")}),$("#FormModal-dialog").html(msg),CreateDialog({scope:$scope,buttons:buttons,width:600,height:200,minWidth:500,title:title,id:"FormModal-dialog",resizable:!1,callback:"ModalReady"})},formCancel=function(){if($scope[formTracker.currentFormName()].$dirty===!0){var msg=i18n._("You have unsaved changes. Would you like to proceed <strong>without</strong> saving?"),title=i18n._("Warning: Unsaved Changes"),buttons=[{label:i18n._("Discard changes"),class:"btn Form-cancelButton",id:"formmodal-cancel-button",onClick:function(){$("#FormModal-dialog").dialog("close"),$state.go("setup")}},{label:i18n._("Save changes"),onClick:function(){$scope.formSave(),$("#FormModal-dialog").dialog("close"),$state.go("setup")},class:"btn btn-primary",id:"formmodal-save-button"}];triggerModal(msg,title,buttons)}else $state.go("setup")};$scope.resetValue=function(key){Wait("start");var payload={};payload[key]=$scope.configDataResolve[key].default,ConfigurationService.patchConfiguration(payload).then(function(){$scope[key]=$scope.configDataResolve[key].default,"select"===$scope[key+"_field"].type?$scope.$broadcast(key+"_populated",null,!1):"CUSTOM_LOGO"===$scope[key+"_field"].reset?$scope.$broadcast(key+"_reverted"):"textarea"===$scope[key+"_field"].type&&_.isArray($scope.configDataResolve[key].default)?$scope[key]=ConfigurationUtils.arrayToList($scope[key],key):$scope[key+"_field"].hasOwnProperty("codeMirror")&&($scope[key]="{}",$scope.$broadcast("codeMirror_populated",key)),loginUpdate()}).catch(function(error){ProcessErrors($scope,error,status,formDefs[formTracker.getCurrent()],{hdr:i18n._("Error!"),msg:i18n._("There was an error resetting value. Returned status: ")+error.detail})}).finally(function(){Wait("stop")})};var multiselectDropdowns=["AD_HOC_COMMANDS"],formSave=function(){var saveDeferred=$q.defer(),keys=_.keys(formDefs[formTracker.getCurrent()].fields),payload={};return clearApiErrors(),_.each(keys,function(key){if("choice"===$scope.configDataResolve[key].type||multiselectDropdowns.indexOf(key)!==-1)if(multiselectDropdowns.indexOf(key)!==-1){var newModules=$("#configuration_jobs_template_AD_HOC_COMMANDS > option").filter("[data-select2-tag=true]").map(function(i,val){return{value:$(val).text()}});newModules.each(function(i,val){$scope[key].push(val)}),payload[key]=ConfigurationUtils.listToArray(_.map($scope[key],"value").join(","))}else null===$scope[key]?payload[key]=null:$scope[key][0]&&void 0!==$scope[key][0].value?payload[key]=_.map($scope[key],"value").join(","):payload[key]=$scope[key].value;else"list"===$scope.configDataResolve[key].type&&null!==$scope[key]?"AUTH_LDAP_USER_SEARCH"===key||"AUTH_LDAP_GROUP_SEARCH"===key?payload[key]="{}"===$scope[key]?[]:ToJSON($scope.parseType,$scope[key]):payload[key]=ConfigurationUtils.listToArray($scope[key],key):"nested object"===$scope.configDataResolve[key].type?""===$scope[key]?payload[key]={}:payload[key]=ToJSON($scope.parseType,$scope[key]):payload[key]=$scope[key]}),Wait("start"),ConfigurationService.patchConfiguration(payload).then(function(data){loginUpdate(),saveDeferred.resolve(data),$scope[formTracker.currentFormName()].$setPristine()}).catch(function(error,status){ProcessErrors($scope,error,status,formDefs[formTracker.getCurrent()],{hdr:i18n._("Error!"),msg:i18n._("Failed to save settings. Returned status: ")+status}),saveDeferred.reject(error)}).finally(function(){Wait("stop")}),saveDeferred.promise};$scope.toggleForm=function(key){if($rootScope.user_is_system_auditor)return void event.preventDefault();$scope[key]=!$scope[key],Wait("start");var payload={};payload[key]=$scope[key],ConfigurationService.patchConfiguration(payload).then(function(){}).catch(function(error,status){$scope[key]=!$scope[key],ProcessErrors($scope,error,status,formDefs[formTracker.getCurrent()],{hdr:i18n._("Error!"),msg:i18n._("Failed to save toggle settings. Returned status: ")+error.detail})}).finally(function(){Wait("stop")})};var show_auditor_bar,resetAll=function(){Wait("start"),ConfigurationService.resetAll().then(function(){populateFromApi(),$scope[formTracker.currentFormName()].$setPristine(),$scope.$broadcast("CUSTOM_LOGO_reverted")}).catch(function(error){ProcessErrors($scope,error,status,formDefs[formTracker.getCurrent()],{hdr:i18n._("Error!"),msg:i18n._("There was an error resetting values. Returned status: ")+error.detail})}).finally(function(){Wait("stop")})},resetAllConfirm=function(){var buttons=[{label:i18n._("Cancel"),class:"btn btn-default",id:"formmodal-cancel-button",onClick:function(){$("#FormModal-dialog").dialog("close")}},{label:i18n._("Confirm Reset"),onClick:function(){resetAll(),$("#FormModal-dialog").dialog("close")},class:"btn btn-primary",id:"formmodal-reset-button"}],msg=i18n._("This will reset all configuration values to their factory defaults. Are you sure you want to proceed?"),title=i18n._("Confirm factory reset");triggerModal(msg,title,buttons)};show_auditor_bar=!(!$rootScope.user_is_system_auditor||Store("show_auditor_bar")===!1);var updateMessageBarPrefs=function(){vm.show_auditor_bar=!1,Store("show_auditor_bar",vm.show_auditor_bar)},closeMessageBar=function(){var msg="Are you sure you want to hide the notification bar?",title="Warning: Closing notification bar",buttons=[{label:"Cancel",class:"btn Form-cancelButton",id:"formmodal-cancel-button",onClick:function(){$("#FormModal-dialog").dialog("close")}},{label:"OK",onClick:function(){$("#FormModal-dialog").dialog("close"),updateMessageBarPrefs()},class:"btn btn-primary",id:"formmodal-save-button"}];triggerModal(msg,title,buttons)};angular.extend(vm,{activeTab:activeTab,activeTabCheck:activeTabCheck,closeMessageBar:closeMessageBar,currentForm:currentForm,formCancel:formCancel,formTracker:formTracker,formSave:formSave,populateFromApi:populateFromApi,resetAllConfirm:resetAllConfirm,show_auditor_bar:show_auditor_bar,triggerModal:triggerModal})}]}).call(exports,__webpack_require__(2),__webpack_require__(1),function(){return this}())},function(module,exports,__webpack_require__){(function($,_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$state","$stateParams","$timeout","$q","configurationAzureForm","configurationGithubForm","configurationGithubOrgForm","configurationGithubTeamForm","configurationGoogleForm","configurationLdapForm","configurationRadiusForm","configurationSamlForm","ConfigurationService","ConfigurationUtils","CreateSelect2","GenerateForm","i18n","ParseTypeChange",function($scope,$rootScope,$state,$stateParams,$timeout,$q,configurationAzureForm,configurationGithubForm,configurationGithubOrgForm,configurationGithubTeamForm,configurationGoogleForm,configurationLdapForm,configurationRadiusForm,configurationSamlForm,ConfigurationService,ConfigurationUtils,CreateSelect2,GenerateForm,i18n,ParseTypeChange){function startCodeMirrors(key){function createIt(name){ParseTypeChange({scope:$scope.$parent,variable:name,parse_variable:"parseType",field_id:form.formDef.name+"_"+name}),$scope.parseTypeChange("parseType",name)}var form=_.find(authForms,function(f){return f.name===$scope.authVm.activeAuthForm});key?key&&createIt(key):_.each(form.formDef.fields,function(field){null===$scope.$parent[field.name]&&field.codeMirror&&($scope.$parent[field.name]="{}"),field.codeMirror&&createIt(field.name)})}function addFieldInfo(form,key){_.extend(form.fields[key],{awPopOver:$scope.$parent.configDataResolve[key].defined_in_file?null:$scope.$parent.configDataResolve[key].help_text,label:$scope.$parent.configDataResolve[key].label,name:key,toggleSource:key,dataPlacement:"top",placeholder:ConfigurationUtils.formatPlaceholder($scope.$parent.configDataResolve[key].placeholder,key)||null,dataTitle:$scope.$parent.configDataResolve[key].label,required:$scope.$parent.configDataResolve[key].required,ngDisabled:$rootScope.user_is_system_auditor,disabled:$scope.$parent.configDataResolve[key].disabled||null,readonly:$scope.$parent.configDataResolve[key].readonly||null,definedInFile:$scope.$parent.configDataResolve[key].defined_in_file||null})}function populateLDAPGroupType(flag){null!==$scope.$parent.AUTH_LDAP_GROUP_TYPE&&($scope.$parent.AUTH_LDAP_GROUP_TYPE=_.find($scope.$parent.AUTH_LDAP_GROUP_TYPE_options,{value:$scope.$parent.AUTH_LDAP_GROUP_TYPE})),void 0!==flag&&(dropdownRendered=flag),dropdownRendered||(dropdownRendered=!0,CreateSelect2({element:"#configuration_ldap_template_AUTH_LDAP_GROUP_TYPE",multiple:!1,placeholder:i18n._("Select group types")}))}var authVm=this,generator=GenerateForm,formTracker=$scope.$parent.vm.formTracker,dropdownValue="azure",activeAuthForm="azure";""!==$stateParams.currentTab&&"auth"!==$stateParams.currentTab||formTracker.setCurrentAuth(activeAuthForm);var activeForm=function(){if($scope.$parent[formTracker.currentFormName()].$dirty){var msg=i18n._("You have unsaved changes. Would you like to proceed <strong>without</strong> saving?"),title=i18n._("Warning: Unsaved Changes"),buttons=[{label:i18n._("Discard changes"),class:"btn Form-cancelButton",id:"formmodal-cancel-button",onClick:function(){$scope.$parent.vm.populateFromApi(),$scope.$parent[formTracker.currentFormName()].$setPristine(),authVm.activeAuthForm=authVm.dropdownValue,formTracker.setCurrentAuth(authVm.activeAuthForm),$("#FormModal-dialog").dialog("close")}},{label:i18n._("Save changes"),onClick:function(){$scope.$parent.vm.formSave().then(function(){$scope.$parent[formTracker.currentFormName()].$setPristine(),$scope.$parent.vm.populateFromApi(),authVm.activeAuthForm=authVm.dropdownValue,formTracker.setCurrentAuth(authVm.activeAuthForm),$("#FormModal-dialog").dialog("close")})},class:"btn btn-primary",id:"formmodal-save-button"}];$scope.$parent.vm.triggerModal(msg,title,buttons)}else authVm.activeAuthForm=authVm.dropdownValue,formTracker.setCurrentAuth(authVm.activeAuthForm),startCodeMirrors();formTracker.setCurrentAuth(authVm.activeAuthForm)},dropdownOptions=[{label:i18n._("Azure AD"),value:"azure"},{label:i18n._("GitHub"),value:"github"},{label:i18n._("GitHub Org"),value:"github_org"},{label:i18n._("GitHub Team"),value:"github_team"},{label:i18n._("Google OAuth2"),value:"google_oauth"},{label:i18n._("LDAP"),value:"ldap"},{label:i18n._("RADIUS"),value:"radius"},{label:i18n._("SAML"),value:"saml"}];CreateSelect2({element:"#configure-dropdown-nav",multiple:!1});var authForms=[{formDef:configurationAzureForm,id:"auth-azure-form",name:"azure"},{formDef:configurationGithubForm,id:"auth-github-form",name:"github"},{formDef:configurationGithubOrgForm,id:"auth-github-org-form",name:"github_org"},{formDef:configurationGithubTeamForm,id:"auth-github-team-form",name:"github_team"},{formDef:configurationGoogleForm,id:"auth-google-form",name:"google_oauth"},{formDef:configurationLdapForm,id:"auth-ldap-form",name:"ldap"},{formDef:configurationRadiusForm,id:"auth-radius-form",name:"radius"},{formDef:configurationSamlForm,id:"auth-saml-form",name:"saml"}],forms=_.pluck(authForms,"formDef");_.each(forms,function(form){var keys=_.keys(form.fields);_.each(keys,function(key){if("choice"===$scope.$parent.configDataResolve[key].type){var optionsGroup=key+"_options";$scope.$parent[optionsGroup]=[],_.each($scope.$parent.configDataResolve[key].choices,function(choice){$scope.$parent[optionsGroup].push({name:choice[0],label:choice[1],value:choice[0]})})}addFieldInfo(form,key)}),form.buttons.save.disabled=$rootScope.user_is_system_auditor}),$scope.$parent.parseType="json",_.each(authForms,function(form){generator.inject(form.formDef,{id:form.id,mode:"edit",scope:$scope.$parent,related:!0,noPanel:!0})});var dropdownRendered=!1;$scope.$on("AUTH_LDAP_GROUP_TYPE_populated",function(e,data,flag){populateLDAPGroupType(flag)}),$scope.$on("codeMirror_populated",function(e,key){startCodeMirrors(key)}),$scope.$on("populated",function(){startCodeMirrors(),populateLDAPGroupType(!1)}),angular.extend(authVm,{activeForm:activeForm,activeAuthForm:activeAuthForm,authForms:authForms,dropdownOptions:dropdownOptions,dropdownValue:dropdownValue})}]}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$state","$timeout","ConfigurationJobsForm","ConfigurationService","ConfigurationUtils","CreateSelect2","GenerateForm","i18n",function($scope,$rootScope,$state,$timeout,ConfigurationJobsForm,ConfigurationService,ConfigurationUtils,CreateSelect2,GenerateForm,i18n){function addFieldInfo(form,key){_.extend(form.fields[key],{awPopOver:$scope.$parent.configDataResolve[key].defined_in_file?null:$scope.$parent.configDataResolve[key].help_text,label:$scope.$parent.configDataResolve[key].label,name:key,toggleSource:key,dataPlacement:"top",dataTitle:$scope.$parent.configDataResolve[key].label,required:$scope.$parent.configDataResolve[key].required,ngDisabled:$rootScope.user_is_system_auditor,disabled:$scope.$parent.configDataResolve[key].disabled||null,readonly:$scope.$parent.configDataResolve[key].readonly||null,definedInFile:$scope.$parent.configDataResolve[key].defined_in_file||null})}function populateAdhocCommand(flag){$scope.$parent.AD_HOC_COMMANDS=$scope.$parent.AD_HOC_COMMANDS.toString();var ad_hoc_commands=$scope.$parent.AD_HOC_COMMANDS.split(",");$scope.$parent.AD_HOC_COMMANDS=_.map(ad_hoc_commands,function(item){var option=_.find($scope.$parent.AD_HOC_COMMANDS_options,{value:item});return option||(option={name:item,value:item,label:item},$scope.$parent.AD_HOC_COMMANDS_options.push(option)),option}),void 0!==flag&&(dropdownRendered=flag),dropdownRendered||(dropdownRendered=!0,CreateSelect2({element:"#configuration_jobs_template_AD_HOC_COMMANDS",multiple:!0,addNew:!0,placeholder:i18n._("Select commands")}))}var jobsVm=this,generator=GenerateForm,form=ConfigurationJobsForm;$scope.$parent.AD_HOC_COMMANDS_options=[],_.each($scope.$parent.configDataResolve.AD_HOC_COMMANDS.default,function(command){$scope.$parent.AD_HOC_COMMANDS_options.push({name:command,label:command,value:command})}),form.buttons.save.disabled=$rootScope.user_is_system_auditor;var keys=_.keys(form.fields);_.each(keys,function(key){addFieldInfo(form,key)}),generator.inject(form,{id:"configure-jobs-form",mode:"edit",scope:$scope.$parent,related:!1,noPanel:!0});var dropdownRendered=!1;$scope.$on("AD_HOC_COMMANDS_populated",function(e,data,flag){populateAdhocCommand(flag)}),$scope.$on("populated",function(){populateAdhocCommand(!1)}),$timeout(function(){$scope.$parent.configuration_jobs_template_form.$setPristine()},1e3),angular.extend(jobsVm,{})}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($,_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","$scope","$state","$stateParams","$timeout","AngularCodeMirror","systemActivityStreamForm","systemLoggingForm","systemMiscForm","ConfigurationService","ConfigurationUtils","CreateSelect2","GenerateForm","i18n",function($rootScope,$scope,$state,$stateParams,$timeout,AngularCodeMirror,systemActivityStreamForm,systemLoggingForm,systemMiscForm,ConfigurationService,ConfigurationUtils,CreateSelect2,GenerateForm,i18n){function addFieldInfo(form,key){_.extend(form.fields[key],{awPopOver:$scope.$parent.configDataResolve[key].defined_in_file?null:$scope.$parent.configDataResolve[key].help_text,label:$scope.$parent.configDataResolve[key].label,name:key,toggleSource:key,dataPlacement:"top",placeholder:ConfigurationUtils.formatPlaceholder($scope.$parent.configDataResolve[key].placeholder,key)||null,dataTitle:$scope.$parent.configDataResolve[key].label,required:$scope.$parent.configDataResolve[key].required,ngDisabled:$rootScope.user_is_system_auditor,disabled:$scope.$parent.configDataResolve[key].disabled||null,readonly:$scope.$parent.configDataResolve[key].readonly||null,definedInFile:$scope.$parent.configDataResolve[key].defined_in_file||null})}function populateLogAggregator(flag){null!==$scope.$parent.LOG_AGGREGATOR_TYPE&&($scope.$parent.LOG_AGGREGATOR_TYPE=_.find($scope.$parent.LOG_AGGREGATOR_TYPE_options,{value:$scope.$parent.LOG_AGGREGATOR_TYPE
})),void 0!==flag&&(dropdownRendered=flag),dropdownRendered||(dropdownRendered=!0,CreateSelect2({element:"#configuration_logging_template_LOG_AGGREGATOR_TYPE",multiple:!1,placeholder:i18n._("Select types")}),$scope.$parent.configuration_logging_template_form.LOG_AGGREGATOR_TYPE.$setPristine())}var systemVm=this,generator=GenerateForm,formTracker=$scope.$parent.vm.formTracker,dropdownValue="misc",activeSystemForm="misc";"system"===$stateParams.currentTab&&formTracker.setCurrentSystem(activeSystemForm);var activeForm=function(){if($scope.$parent[formTracker.currentFormName()].$dirty){var msg=i18n._("You have unsaved changes. Would you like to proceed <strong>without</strong> saving?"),title=i18n._("Warning: Unsaved Changes"),buttons=[{label:i18n._("Discard changes"),class:"btn Form-cancelButton",id:"formmodal-cancel-button",onClick:function(){$scope.$parent.vm.populateFromApi(),$scope.$parent[formTracker.currentFormName()].$setPristine(),systemVm.activeSystemForm=systemVm.dropdownValue,formTracker.setCurrentSystem(systemVm.activeSystemForm),$("#FormModal-dialog").dialog("close")}},{label:i18n._("Save changes"),onClick:function(){$scope.$parent.vm.formSave().then(function(){$scope.$parent[formTracker.currentFormName()].$setPristine(),$scope.$parent.vm.populateFromApi(),systemVm.activeSystemForm=systemVm.dropdownValue,formTracker.setCurrentSystem(systemVm.activeSystemForm),$("#FormModal-dialog").dialog("close")})},class:"btn btn-primary",id:"formmodal-save-button"}];$scope.$parent.vm.triggerModal(msg,title,buttons)}else systemVm.activeSystemForm=systemVm.dropdownValue,formTracker.setCurrentSystem(systemVm.activeSystemForm);formTracker.setCurrentSystem(systemVm.activeSystemForm)},dropdownOptions=[{label:i18n._("Misc. System"),value:"misc"},{label:i18n._("Activity Stream"),value:"activity_stream"},{label:i18n._("Logging"),value:"logging"}];CreateSelect2({element:"#system-configure-dropdown-nav",multiple:!1});var systemForms=[{formDef:systemLoggingForm,id:"system-logging-form"},{formDef:systemActivityStreamForm,id:"system-activity-stream-form"},{formDef:systemMiscForm,id:"system-misc-form"}],forms=_.pluck(systemForms,"formDef");_.each(forms,function(form){var keys=_.keys(form.fields);_.each(keys,function(key){if("choice"===$scope.$parent.configDataResolve[key].type){var optionsGroup=key+"_options";$scope.$parent[optionsGroup]=[],_.each($scope.$parent.configDataResolve[key].choices,function(choice){$scope.$parent[optionsGroup].push({name:choice[0],label:choice[1],value:choice[0]})})}addFieldInfo(form,key)}),form.buttons.save.disabled=$rootScope.user_is_system_auditor}),$scope.$parent.parseType="json",_.each(systemForms,function(form){generator.inject(form.formDef,{id:form.id,mode:"edit",scope:$scope.$parent,related:!0,noPanel:!0})});var dropdownRendered=!1;$scope.$on("populated",function(){populateLogAggregator(!1)}),$scope.$on("LOG_AGGREGATOR_TYPE_populated",function(e,data,flag){populateLogAggregator(flag)}),$timeout(function(){$scope.$parent.configuration_logging_template_form.$setPristine()},1e3),angular.extend(systemVm,{activeForm:activeForm,activeSystemForm:activeSystemForm,dropdownOptions:dropdownOptions,dropdownValue:dropdownValue,systemForms:systemForms})}]}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$state","$timeout","ConfigurationUiForm","ConfigurationService","CreateSelect2","GenerateForm","i18n",function($scope,$rootScope,$state,$timeout,ConfigurationUiForm,ConfigurationService,CreateSelect2,GenerateForm,i18n){function addFieldInfo(form,key){_.extend(form.fields[key],{awPopOver:$scope.$parent.configDataResolve[key].defined_in_file?null:$scope.$parent.configDataResolve[key].help_text,label:$scope.$parent.configDataResolve[key].label,name:key,toggleSource:key,dataPlacement:"top",dataTitle:$scope.$parent.configDataResolve[key].label,required:$scope.$parent.configDataResolve[key].required,ngDisabled:$rootScope.user_is_system_auditor,disabled:$scope.$parent.configDataResolve[key].disabled||null,readonly:$scope.$parent.configDataResolve[key].readonly||null,definedInFile:$scope.$parent.configDataResolve[key].defined_in_file||null})}function populatePendoTrackingState(flag){null!==$scope.$parent.PENDO_TRACKING_STATE&&($scope.$parent.PENDO_TRACKING_STATE=_.find($scope.$parent.PENDO_TRACKING_STATE_options,{value:$scope.$parent.PENDO_TRACKING_STATE})),void 0!==flag&&(dropdownRendered=flag),dropdownRendered||(dropdownRendered=!0,CreateSelect2({element:"#configuration_ui_template_PENDO_TRACKING_STATE",multiple:!1,placeholder:i18n._("Select commands")}))}var uiVm=this,generator=GenerateForm,form=ConfigurationUiForm,keys=_.keys(form.fields);_.each(keys,function(key){if("choice"===$scope.$parent.configDataResolve[key].type){var optionsGroup=key+"_options";$scope.$parent[optionsGroup]=[],_.each($scope.$parent.configDataResolve[key].choices,function(choice){$scope.$parent[optionsGroup].push({name:choice[0],label:choice[1],value:choice[0]})})}addFieldInfo(form,key)}),form.buttons.save.disabled=$rootScope.user_is_system_auditor,generator.inject(form,{id:"configure-ui-form",mode:"edit",scope:$scope.$parent,related:!0,noPanel:!0});var dropdownRendered=!1;$scope.$on("PENDO_TRACKING_STATE_populated",function(e,data,flag){populatePendoTrackingState(flag)}),$scope.$on("populated",function(){populatePendoTrackingState(!1)}),angular.extend(uiVm,{})}]}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_azure_template",showActions:!0,showHeader:!1,fields:{SOCIAL_AUTH_AZUREAD_OAUTH2_CALLBACK_URL:{type:"text",reset:"SOCIAL_AUTH_AZUREAD_OAUTH2_CALLBACK_URL"},SOCIAL_AUTH_AZUREAD_OAUTH2_KEY:{type:"text",reset:"SOCIAL_AUTH_AZUREAD_OAUTH2_KEY"},SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET:{type:"sensitive",hasShowInputButton:!0,reset:"SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET"},SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP:{type:"textarea",reset:"SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP:{type:"textarea",reset:"SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_github_template",showActions:!0,showHeader:!1,fields:{SOCIAL_AUTH_GITHUB_CALLBACK_URL:{type:"text",reset:"SOCIAL_AUTH_GITHUB_CALLBACK_URL"},SOCIAL_AUTH_GITHUB_KEY:{type:"text",reset:"SOCIAL_AUTH_GITHUB_KEY"},SOCIAL_AUTH_GITHUB_SECRET:{type:"sensitive",hasShowInputButton:!0,reset:"SOCIAL_AUTH_GITHUB_SECRET"},SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP:{type:"textarea",reset:"SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_GITHUB_TEAM_MAP:{type:"textarea",reset:"SOCIAL_AUTH_GITHUB_TEAM_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_github_org_template",showActions:!0,showHeader:!1,fields:{SOCIAL_AUTH_GITHUB_ORG_CALLBACK_URL:{type:"text",reset:"SOCIAL_AUTH_GITHUB_TEAM_CALLBACK_URL"},SOCIAL_AUTH_GITHUB_ORG_KEY:{type:"text",reset:"SOCIAL_AUTH_GITHUB_ORG_KEY"},SOCIAL_AUTH_GITHUB_ORG_SECRET:{type:"sensitive",hasShowInputButton:!0,reset:"SOCIAL_AUTH_GITHUB_ORG_SECRET"},SOCIAL_AUTH_GITHUB_ORG_NAME:{type:"text",reset:"SOCIAL_AUTH_GITHUB_ORG_NAME"},SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP:{type:"textarea",reset:"SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP:{type:"textarea",reset:"SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_github_team_template",showActions:!0,showHeader:!1,fields:{SOCIAL_AUTH_GITHUB_TEAM_CALLBACK_URL:{type:"text",reset:"SOCIAL_AUTH_GITHUB_TEAM_CALLBACK_URL"},SOCIAL_AUTH_GITHUB_TEAM_KEY:{type:"text",reset:"SOCIAL_AUTH_GITHUB_TEAM_KEY"},SOCIAL_AUTH_GITHUB_TEAM_SECRET:{type:"sensitive",hasShowInputButton:!0,reset:"SOCIAL_AUTH_GITHUB_TEAM_SECRET"},SOCIAL_AUTH_GITHUB_TEAM_ID:{type:"text",reset:"SOCIAL_AUTH_GITHUB_TEAM_ID"},SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP:{type:"textarea",reset:"SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP:{type:"textarea",reset:"SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_google_oauth_template",showActions:!0,showHeader:!1,fields:{SOCIAL_AUTH_GOOGLE_OAUTH2_CALLBACK_URL:{type:"text",reset:"SOCIAL_AUTH_GOOGLE_OAUTH2_CALLBACK_URL"},SOCIAL_AUTH_GOOGLE_OAUTH2_KEY:{type:"text",reset:"SOCIAL_AUTH_GOOGLE_OAUTH2_KEY"},SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET:{type:"sensitive",hasShowInputButton:!0,reset:"SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET"},SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS:{type:"textarea",reset:"SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS",rows:6},SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS:{type:"textarea",reset:"SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS",codeMirror:!0,rows:6,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP:{type:"textarea",reset:"SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP:{type:"textarea",reset:"SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_ldap_template",showActions:!0,showHeader:!1,fields:{AUTH_LDAP_SERVER_URI:{type:"text",reset:"AUTH_LDAP_SERVER_URI"},AUTH_LDAP_BIND_DN:{type:"text",reset:"AUTH_LDAP_BIND_DN"},AUTH_LDAP_BIND_PASSWORD:{type:"sensitive",hasShowInputButton:!0},AUTH_LDAP_USER_SEARCH:{type:"textarea",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth",reset:"AUTH_LDAP_USER_SEARCH"},AUTH_LDAP_GROUP_SEARCH:{type:"textarea",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth",reset:"AUTH_LDAP_GROUP_SEARCH"},AUTH_LDAP_USER_DN_TEMPLATE:{type:"text",reset:"AUTH_LDAP_USER_DN_TEMPLATE"},AUTH_LDAP_USER_ATTR_MAP:{type:"textarea",reset:"AUTH_LDAP_USER_ATTR_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},AUTH_LDAP_GROUP_TYPE:{type:"select",reset:"AUTH_LDAP_GROUP_TYPE",ngOptions:"group.label for group in AUTH_LDAP_GROUP_TYPE_options track by group.value"},AUTH_LDAP_REQUIRE_GROUP:{type:"text",reset:"AUTH_LDAP_REQUIRE_GROUP"},AUTH_LDAP_DENY_GROUP:{type:"text",reset:"AUTH_LDAP_DENY_GROUP"},AUTH_LDAP_START_TLS:{type:"toggleSwitch"},AUTH_LDAP_USER_FLAGS_BY_GROUP:{type:"textarea",reset:"AUTH_LDAP_USER_FLAGS_BY_GROUP",codeMirror:!0,rows:6,class:"Form-textAreaLabel Form-formGroup--fullWidth"},AUTH_LDAP_ORGANIZATION_MAP:{type:"textarea",reset:"AUTH_LDAP_ORGANIZATION_MAP",codeMirror:!0,rows:6,class:"Form-textAreaLabel Form-formGroup--fullWidth"},AUTH_LDAP_TEAM_MAP:{type:"textarea",reset:"AUTH_LDAP_TEAM_MAP",codeMirror:!0,rows:6,class:"Form-textAreaLabel Form-formGroup--fullWidth"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_radius_template",showActions:!0,showHeader:!1,fields:{RADIUS_SERVER:{type:"text",reset:"RADIUS_SERVER"},RADIUS_PORT:{type:"text",reset:"RADIUS_PORT"},RADIUS_SECRET:{type:"sensitive",hasShowInputButton:!0,reset:"RADIUS_SECRET"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_saml_template",showActions:!0,showHeader:!1,fields:{SOCIAL_AUTH_SAML_CALLBACK_URL:{type:"text",reset:"SOCIAL_AUTH_SAML_CALLBACK_URL"},SOCIAL_AUTH_SAML_METADATA_URL:{type:"text",reset:"SOCIAL_AUTH_SAML_METADATA_URL"},SOCIAL_AUTH_SAML_SP_ENTITY_ID:{type:"text",reset:"SOCIAL_AUTH_SAML_SP_ENTITY_ID"},SOCIAL_AUTH_SAML_SP_PUBLIC_CERT:{type:"textarea",rows:6,elementClass:"Form-monospace",reset:"SOCIAL_AUTH_SAML_SP_PUBLIC_CERT"},SOCIAL_AUTH_SAML_SP_PRIVATE_KEY:{type:"textarea",rows:6,elementClass:"Form-monospace",hasShowInputButton:!0,reset:"SOCIAL_AUTH_SAML_SP_PRIVATE_KEY"},SOCIAL_AUTH_SAML_ORG_INFO:{type:"textarea",reset:"SOCIAL_AUTH_SAML_ORG_INFO",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_SAML_TECHNICAL_CONTACT:{type:"textarea",reset:"SOCIAL_AUTH_SAML_TECHNICAL_CONTACT",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_SAML_SUPPORT_CONTACT:{type:"textarea",reset:"SOCIAL_AUTH_SAML_SUPPORT_CONTACT",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_SAML_ENABLED_IDPS:{type:"textarea",reset:"SOCIAL_AUTH_SAML_ENABLED_IDPS",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_SAML_ORGANIZATION_MAP:{type:"textarea",reset:"SOCIAL_AUTH_SAML_ORGANIZATION_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"},SOCIAL_AUTH_SAML_TEAM_MAP:{type:"textarea",reset:"SOCIAL_AUTH_SAML_TEAM_MAP",rows:6,codeMirror:!0,class:"Form-textAreaLabel Form-formGroup--fullWidth"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_activity_stream_template",showActions:!0,showHeader:!1,fields:{ACTIVITY_STREAM_ENABLED:{type:"toggleSwitch"},ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC:{type:"toggleSwitch"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"configuration_logging_template",showActions:!0,showHeader:!1,fields:{LOG_AGGREGATOR_HOST:{type:"text",reset:"LOG_AGGREGATOR_HOST"},LOG_AGGREGATOR_PORT:{type:"text",reset:"LOG_AGGREGATOR_PORT"},LOG_AGGREGATOR_TYPE:{type:"select",reset:"LOG_AGGREGATOR_TYPE",ngOptions:"type.label for type in LOG_AGGREGATOR_TYPE_options track by type.value"},LOG_AGGREGATOR_USERNAME:{type:"text",reset:"LOG_AGGREGATOR_USERNAME"},LOG_AGGREGATOR_PASSWORD:{type:"sensitive",hasShowInputButton:!0,reset:"LOG_AGGREGATOR_PASSWORD"},LOG_AGGREGATOR_LOGGERS:{type:"textarea",reset:"LOG_AGGREGATOR_LOGGERS"},LOG_AGGREGATOR_INDIVIDUAL_FACTS:{type:"toggleSwitch"},LOG_AGGREGATOR_ENABLED:{type:"toggleSwitch"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{showHeader:!1,name:"configuration_misc_template",showActions:!0,fields:{TOWER_URL_BASE:{type:"text",reset:"TOWER_URL_BASE"},TOWER_ADMIN_ALERTS:{type:"toggleSwitch"},ORG_ADMINS_CAN_SEE_ALL_USERS:{type:"toggleSwitch"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{showHeader:!1,name:"configuration_jobs_template",showActions:!0,fields:{AD_HOC_COMMANDS:{type:"select",ngOptions:"command.label for command in AD_HOC_COMMANDS_options track by command.value",reset:"AD_HOC_COMMANDS",multiSelect:!0},AWX_PROOT_BASE_PATH:{type:"text",reset:"AWX_PROOT_BASE_PATH"},SCHEDULE_MAX_JOBS:{type:"number",reset:"SCHEDULE_MAX_JOBS"},AWX_PROOT_SHOW_PATHS:{type:"textarea",reset:"AWX_PROOT_SHOW_PATHS",rows:6},AWX_ANSIBLE_CALLBACK_PLUGINS:{type:"textarea",reset:"AWX_ANSIBLE_CALLBACK_PLUGINS",rows:6},AWX_PROOT_HIDE_PATHS:{type:"textarea",reset:"AWX_PROOT_HIDE_PATHS",rows:6},AWX_PROOT_ENABLED:{type:"toggleSwitch"},DEFAULT_JOB_TIMEOUT:{type:"text",reset:"DEFAULT_JOB_TIMEOUT"},DEFAULT_INVENTORY_UPDATE_TIMEOUT:{type:"text",reset:"DEFAULT_INVENTORY_UPDATE_TIMEOUT"},DEFAULT_PROJECT_UPDATE_TIMEOUT:{type:"text",reset:"DEFAULT_PROJECT_UPDATE_TIMEOUT"}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{showHeader:!1,name:"configuration_ui_template",showActions:!0,fields:{PENDO_TRACKING_STATE:{type:"select",ngChange:"changedPendo()",ngOptions:"choice.label for choice in PENDO_TRACKING_STATE_options track by choice.value",reset:"PENDO_TRACKING_STATE"},CUSTOM_LOGO:{type:"custom",reset:"CUSTOM_LOGO",control:'<image-upload key="CUSTOM_LOGO"></image-upload>'},CUSTOM_LOGIN_INFO:{type:"textarea",reset:"CUSTOM_LOGIN_INFO",rows:6}},buttons:{reset:{ngClick:"vm.resetAllConfirm()",label:i18n._("Revert all to default"),class:"Form-resetAll"},cancel:{ngClick:"vm.formCancel()"},save:{ngClick:"vm.formSave()",ngDisabled:!0}}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(598),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(600),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(608),_main6=_interopRequireDefault(_main5),_dashboard=__webpack_require__(613),_dashboard2=_interopRequireDefault(_dashboard),_main7=__webpack_require__(614),_main8=_interopRequireDefault(_main7);exports.default=angular.module("dashboard",[_main8.default.name,_main2.default.name,_main4.default.name,_main6.default.name]).directive("dashboard",_dashboard2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dashboardCounts=__webpack_require__(599),_dashboardCounts2=_interopRequireDefault(_dashboardCounts);exports.default=angular.module("DashboardCountModules",[]).directive("dashboardCounts",_dashboardCounts2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl","i18n",function(templateUrl,i18n){return{restrict:"E",scope:{data:"="},replace:!1,templateUrl:templateUrl("dashboard/counts/dashboard-counts"),link:function(scope,element,attrs){function addFailureToCount(val){return val.isFailureCount&&val.number>0?val.isFailure=!0:val.isFailure=!1,val}function createCounts(data){scope.counts=_.map([{url:"/#/home/hosts",number:scope.data.hosts.total,label:i18n._("Hosts")},{url:"/#/home/hosts?host_search=has_active_failures:true",number:scope.data.hosts.failed,label:i18n._("Failed Hosts"),isFailureCount:!0},{url:"/#/inventories",number:scope.data.inventories.total,label:i18n._("Inventories")},{url:"/#/inventories?inventory_search=inventory_sources_with_failures__gt:0",number:scope.data.inventories.inventory_failed,label:i18n._("Inventory Sync Failures"),isFailureCount:!0},{url:"/#/projects",number:scope.data.projects.total,label:i18n._("Projects")},{url:"/#/projects?project_search=status__in:failed,canceled",number:scope.data.projects.failed,label:i18n._("Project Sync Failures"),isFailureCount:!0}],function(val){return addFailureToCount(val)})}scope.$watch("data",function(data){data&&data.hosts&&createCounts(data)})}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(601),_main2=_interopRequireDefault(_main),_dashboardGraphs=__webpack_require__(607),_dashboardGraphs2=_interopRequireDefault(_dashboardGraphs);exports.default=angular.module("DashboardGraphModules",[_main2.default.name]).directive("dashboardGraphs",_dashboardGraphs2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobStatusGraph=__webpack_require__(602),_jobStatusGraph2=_interopRequireDefault(_jobStatusGraph),_jobStatusGraph3=__webpack_require__(603),_jobStatusGraph4=_interopRequireDefault(_jobStatusGraph3),_main=__webpack_require__(604),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(126),_main4=_interopRequireDefault(_main3);exports.default=angular.module("JobStatusGraph",[_main2.default.name,_main4.default.name]).directive("jobStatusGraph",_jobStatusGraph2.default).service("jobStatusGraphData",_jobStatusGraph4.default)},function(module,exports,__webpack_require__){(function(_,$){"use strict";function JobStatusGraph($rootScope,$compile,$location,$window,Wait,adjustGraphSize,graphDataService,templateUrl,i18n){function link(scope,element){function recreateGraph(period,jobType,status){graphDataService.get(period,jobType,status).then(function(data){scope.data=data,scope.period=period,scope.jobType=jobType,scope.status=status})}function createGraph(period,jobtype,data,status){scope.period=period,scope.jobType=jobtype,scope.status=status;var timeFormat,graphData=[{color:"#5CB85C",key:i18n._("SUCCESSFUL"),values:data.jobs.successful},{key:i18n._("FAILED"),color:"#D9534F",values:data.jobs.failed}];graphData=_.reject(graphData,function(num){if(void 0!==status&&status===num.key.toLowerCase())return num}),timeFormat="day"===period?"%H:%M":"%m/%d",graphData.map(function(series){return series.values=series.values.map(function(d){return{x:d[0],y:d[1]}}),series}),job_status_chart.x(function(d,i){return i}).useInteractiveGuideline(!0).showLegend(!1).showYAxis(!0).showXAxis(!0),job_status_chart.interactiveLayer.tooltip.fixedTop(-10),job_status_chart.interactiveLayer.tooltip.distance(-1),job_status_chart.xAxis.axisLabel(i18n._("TIME")).tickFormat(function(d){var dx=graphData[0].values[d]&&graphData[0].values[d].x||0;return dx?d3.time.format(timeFormat)(new Date(Number(dx+"000"))):""}),job_status_chart.yAxis.axisLabel(i18n._("JOBS")).tickFormat(d3.format(".f")),d3.select(element.find("svg")[0]).datum(graphData).call(job_status_chart).style({"font-family":"Open Sans","font-style":"normal","font-weight":400,src:"url(/static/assets/OpenSans-Regular.ttf)"}),$(".n").on("click",function(){period=this.getAttribute("id"),$("#period-dropdown").replaceWith('<a id="period-dropdown" class="DashboardGraphs-filterDropdownText DashboardGraphs-filterDropdownItems--period" role="button" data-toggle="dropdown" data-target="#" href="/page.html">'+this.text+'<i class="fa fa-chevron-down DashboardGraphs-filterIcon"></i>\n'),scope.$parent.isFailed=!0,scope.$parent.isSuccessful=!0,recreateGraph(period,job_type)}),$(".m").on("click",function(){job_type=this.getAttribute("id"),$("#type-dropdown").replaceWith('<a id="type-dropdown" class="DashboardGraphs-filterDropdownText DashboardGraphs-filterDropdownItems--jobType" role="button" data-toggle="dropdown" data-target="#" href="/page.html">'+this.text+'<i class="fa fa-chevron-down DashboardGraphs-filterIcon"></i>\n'),scope.$parent.isFailed=!0,scope.$parent.isSuccessful=!0,recreateGraph(period,job_type)}),$(".o").on("click",function(){var job_status=this.getAttribute("id");$("#status-dropdown").replaceWith('<a id="status-dropdown" class="DashboardGraphs-filterDropdownText DashboardGraphs-filterDropdownText--status" role="button" data-toggle="dropdown" data-target="#" href="/page.html">'+this.text+'<i class="fa fa-chevron-down DashboardGraphs-filterIcon"></i>\n'),scope.$broadcast("jobStatusChange",job_status)}),adjustGraphSize(job_status_chart,element)}function onResize(){adjustGraphSize(job_status_chart,element)}var job_type,job_status_chart=nv.models.lineChart();scope.period="month",scope.jobType="all",scope.$watch("data",function(value){value&&createGraph(scope.period,scope.jobType,value,scope.status)},!0),scope.$on("jobStatusChange",function(event,status){recreateGraph(scope.period,scope.jobType,status)}),angular.element($window).on("resize",onResize),$(".DashboardGraphs-graph--jobStatusGraph").resize(onResize),element.on("$destroy",function(){angular.element($window).off("resize",onResize),$(".DashboardGraphs-graph--jobStatusGraph").removeResize(onResize)}),scope.removeGraphDataReady&&scope.removeGraphDataReady()}return{restrict:"E",scope:{data:"="},templateUrl:templateUrl("dashboard/graphs/job-status/job_status_graph"),link:link}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","$compile","$location","$window","Wait","adjustGraphSize","jobStatusGraphData","templateUrl","i18n",JobStatusGraph]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports){"use strict";function JobStatusGraphData(Rest,getBasePath,processErrors,$rootScope,$q){function pluck(property,promise,status){return promise.then(function(value){return"successful"!==status&&"failed"!==status||delete value[property].jobs[status],value[property]})}function getData(period,jobType,status){var url,dash_path=getBasePath("dashboard");if(""===dash_path)return void processErrors(null,null,null,null,{hdr:"Error!",msg:"There was an error. Please try again."});url=dash_path+"graphs/jobs/?period="+period+"&job_type="+jobType,Rest.setUrl(url);var result=Rest.get().catch(function(response){var errorMessage="Failed to get: "+response.url+" GET returned: "+response.status;return processErrors(null,response.data,response.status,null,{hdr:"Error!",msg:errorMessage}),$q.reject(response)});return pluck("data",result,status)}return{destroyWatcher:angular.noop,setupWatcher:function(period,jobType){this.destroyWatcher=$rootScope.$on("ws-jobs",function(){getData(period,jobType).then(function(result){return $rootScope.$broadcast("DataReceived:JobStatusGraph",result),result})})},get:function(period,jobType,status){return this.destroyWatcher(),this.setupWatcher(period,jobType),getData(period,jobType,status)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Rest","GetBasePath","ProcessErrors","$rootScope","$q",JobStatusGraphData]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _autoSize=__webpack_require__(605),_autoSize2=_interopRequireDefault(_autoSize),_adjustGraphSize=__webpack_require__(606),_adjustGraphSize2=_interopRequireDefault(_adjustGraphSize);exports.default=angular.module("DashboardGraphHelpers",[]).directive("autoSizeModule",_autoSize2.default).service("adjustGraphSize",_adjustGraphSize2.default)},function(module,exports,__webpack_require__){(function($){"use strict";function AutoSizeModule($window){return function(scope,element,attrs){function adjustSize(){"hostStatus"===attrs.graphType?element.parent().width()>596?element.height(320):element.height(element.parent().width()):element.height(320)}$($window).resize(adjustSize),element.on("$destroy",function(){$($window).off("resize",adjustSize)}),scope.$on("resizeGraphs",function(){adjustSize()})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$window",AutoSizeModule]}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return function(chartModel,element){if(chartModel){var margins=chartModel.margin(),graph=d3.select(element.find("svg")[0]),width=parseInt(graph.style("width"))-margins.left-margins.right,height=200;chartModel.xRange([0,width]),chartModel.yRange([height,0]),chartModel.xAxis.ticks(Math.max(width/75,2)),chartModel.yAxis.ticks(Math.max(height/50,2)),height<160&&(graph.select(".y.nv-axis").select(".domain").style("display","none"),graph.select(".y.nv-axis").select(".domain").style("display","initial")),graph.select(".x.nv-axis").attr("transform","translate(0, "+height+")").call(chartModel.xAxis),graph.selectAll(".line").attr("d",chartModel.lines),chartModel.update&&chartModel.update()}}}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"E",scope:!0,templateUrl:templateUrl("dashboard/graphs/dashboard-graphs"),link:function(scope,element,attrs){function clearStatus(){scope.isSuccessful=!0,scope.isFailed=!0}clearStatus(),scope.jobStatusSelected=!0,scope.$broadcast("resizeGraphs")}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(609),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(611),_main4=_interopRequireDefault(_main3);exports.default=angular.module("DashboardListsModules",[_main2.default.name,_main4.default.name])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobTemplatesList=__webpack_require__(610),_jobTemplatesList2=_interopRequireDefault(_jobTemplatesList),_main=__webpack_require__(119),_main2=_interopRequireDefault(_main),_JobSubmission=__webpack_require__(129),_JobSubmission2=_interopRequireDefault(_JobSubmission);
exports.default=angular.module("JobTemplatesList",[_main2.default.name,_JobSubmission2.default.name]).directive("jobTemplatesList",_jobTemplatesList2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["InitiatePlaybookRun","templateUrl","$state","Alert",function(InitiatePlaybookRun,templateUrl,$state,Alert){function link(scope,element,attr){function createList(list){scope.templates=_.map(list,function(template){return{recent_jobs:template.summary_fields.recent_jobs,launch_url:template.url,edit_url:template.url.replace("api/v1","#"),name:template.name,id:template.id,type:template.type}}),scope.snapRows=list.length<4}scope.$watch("data",function(data){data&&(data.length>0?(createList(data),scope.noJobTemplates=!1):scope.noJobTemplates=!0)}),scope.isSuccessful=function(status){return"successful"===status},scope.launchTemplate=function(template){template?!template.type||"Job Template"!==template.type&&"job_template"!==template.type?!template.type||"Workflow Job Template"!==template.type&&"workflow_job_template"!==template.type?Alert("Error: Unable to determine template type","We were unable to determine this template's type while launching."):InitiatePlaybookRun({scope:scope,id:template.id,job_type:"workflow_job_template"}):InitiatePlaybookRun({scope:scope,id:template.id,job_type:"job_template"}):Alert("Error: Unable to launch template","Template parameter is missing")},scope.editTemplate=function(template){template&&(!template.type||"Job Template"!==template.type&&"job_template"!==template.type?!template.type||"Workflow Job Template"!==template.type&&"workflow_job_template"!==template.type||$state.go("templates.editWorkflowJobTemplate",{workflow_job_template_id:template.id}):$state.go("templates.editJobTemplate",{job_template_id:template.id}))}}return{restrict:"E",link:link,scope:{data:"="},templateUrl:templateUrl("dashboard/lists/job-templates/job-templates-list")}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobsList=__webpack_require__(612),_jobsList2=_interopRequireDefault(_jobsList);exports.default=angular.module("JobsList",[]).directive("jobsList",_jobsList2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$filter","templateUrl","$location",function($filter,templateUrl,$location){function link(scope,element,attr){function createList(list){scope.jobs=_.map(list,function(job){return{detailsUrl:job.type&&"workflow_job"===job.type?job.url.replace("api/v1/workflow_jobs","#/workflows"):job.url.replace("api/v1","#"),status:job.status,name:job.name,id:job.id,time:$filter("longDate")(job.finished)}}),scope.snapRows=list.length<4}scope.$watch("data",function(data){data&&(data.length>0?(createList(data),scope.noJobs=!1):scope.noJobs=!0)}),scope.isSuccessful=function(status){return"successful"===status}}return{restrict:"E",link:link,scope:{data:"="},templateUrl:templateUrl("dashboard/lists/jobs/jobs-list")}}]}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"E",scope:!0,templateUrl:templateUrl("dashboard/dashboard"),link:function(scope,element,attrs){}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dashboardHosts=__webpack_require__(615),_dashboardHosts2=_interopRequireDefault(_dashboardHosts),_dashboardHosts3=__webpack_require__(616),_dashboardHosts4=_interopRequireDefault(_dashboardHosts3),_dashboardHostsList=__webpack_require__(617),_dashboardHostsList2=_interopRequireDefault(_dashboardHostsList),_dashboardHostsEdit=__webpack_require__(618),_dashboardHostsEdit2=_interopRequireDefault(_dashboardHostsEdit),_dashboardHosts5=__webpack_require__(619),_dashboardHosts6=_interopRequireDefault(_dashboardHosts5),_i18n=__webpack_require__(172);exports.default=angular.module("dashboardHosts",[]).service("DashboardHostService",_dashboardHosts6.default).factory("DashboardHostsList",_dashboardHosts2.default).factory("DashboardHostsForm",_dashboardHosts4.default).config(["$stateProvider","stateDefinitionsProvider",function($stateProvider,stateDefinitionsProvider){var stateDefinitions=stateDefinitionsProvider.$get();$stateProvider.state({name:"dashboardHosts",url:"/home/hosts",lazyLoad:function(){return stateDefinitions.generateTree({urls:{list:"/home/hosts"},parent:"dashboardHosts",modes:["edit"],list:"DashboardHostsList",form:"DashboardHostsForm",controllers:{list:_dashboardHostsList2.default,edit:_dashboardHostsEdit2.default},resolve:{edit:{host:["Rest","$stateParams","GetBasePath",function(Rest,$stateParams,GetBasePath){var path=GetBasePath("hosts")+$stateParams.host_id;return Rest.setUrl(path),Rest.get()}]}},data:{activityStream:!0,activityStreamTarget:"host"},ncyBreadcrumb:{parent:"dashboard",label:(0,_i18n.N_)("HOSTS")}})}})}])},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"hosts",iterator:"host",selectTitle:i18n._("Add Existing Hosts"),editTitle:i18n._("HOSTS"),listTitle:i18n._("HOSTS"),index:!1,hover:!0,well:!0,emptyListText:i18n._("NO HOSTS FOUND"),fields:{status:{basePath:"unified_jobs",label:"",iconOnly:!0,nosort:!0,icon:"icon-job-{{ host.active_failures }}",awToolTip:"{{ host.badgeToolTip }}",awTipPlacement:"right",dataPlacement:"right",awPopOver:"{{ host.job_status_html }}",dataTitle:"{{host.job_status_title}}",ngClick:"viewHost(host.id)",columnClass:"col-lg-1 col-md-1 col-sm-2 col-xs-2 List-staticColumn--smallStatus"},name:{key:!0,label:i18n._("Name"),columnClass:"col-lg-5 col-md-5 col-sm-5 col-xs-8 ellipsis List-staticColumnAdjacent",ngClick:"editHost(host.id)"},inventory_name:{label:i18n._("Inventory"),sourceModel:"inventory",sourceField:"name",columnClass:"col-lg-5 col-md-4 col-sm-4 hidden-xs elllipsis",linkTo:"{{ '/#/inventories/' + host.inventory_id }}"},enabled:{label:i18n._("Status"),columnClass:"List-staticColumn--toggle",type:"toggle",ngClick:"toggleHostEnabled(host)",nosort:!0,awToolTip:"<p>"+i18n._("Indicates if a host is available and should be included in running jobs.")+"</p><p>"+i18n._("For hosts that are part of an external inventory, this flag cannot be changed. It will be set by the inventory sync process.")+"</p>",dataTitle:i18n._("Host Enabled"),ngDisabled:"host.has_inventory_sources"}},fieldActions:{columnClass:"col-lg-2 col-md-3 col-sm-3 col-xs-4",edit:{label:i18n._("Edit"),ngClick:"editHost(host.id)",icon:"icon-edit",awToolTip:i18n._("Edit host"),dataPlacement:"top"}},actions:{}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{editTitle:"{{host.name}}",name:"host",well:!0,formLabelSize:"col-lg-3",formFieldSize:"col-lg-9",iterator:"host",basePath:"hosts",headerFields:{enabled:{class:"Form-header-field",ngClick:"toggleHostEnabled()",type:"toggle",awToolTip:"<p>"+i18n._("Indicates if a host is available and should be included in running jobs.")+"</p><p>"+i18n._("For hosts that are part of an external inventory, this flag cannot be changed. It will be set by the inventory sync process.")+"</p>",dataTitle:i18n._("Host Enabled"),ngDisabled:"host.has_inventory_sources"}},fields:{name:{label:i18n._("Host Name"),type:"text",value:"{{name}}",awPopOver:"<p>"+i18n._("Provide a host name, ip address, or ip address:port. Examples include:")+"</p><blockquote>myserver.domain.com<br/>127.0.0.1<br />10.1.0.140:25<br />server.example.com:25</blockquote>",dataTitle:i18n._("Host Name"),dataPlacement:"right",dataContainer:"body"},description:{label:i18n._("Description"),type:"text"},variables:{label:i18n._("Variables"),type:"textarea",rows:6,class:"modal-input-xlarge Form-textArea Form-formGroup--fullWidth",dataTitle:i18n._("Host Variables"),dataPlacement:"right",dataContainer:"body",default:"---",awPopOver:"<p>"+i18n._("Enter inventory variables using either JSON or YAML syntax. Use the radio button to toggle between the two.")+'</p>JSON:<br />\n<blockquote>{<br />&emsp;"somevar": "somevalue",<br />&emsp;"password": "magic"<br /> }</blockquote>\nYAML:<br />\n<blockquote>---<br />somevar: somevalue<br />password: magic<br /></blockquote>\n<p>'+i18n.sprintf(i18n._("View JSON examples at %s"),'<a href="http://www.json.org" target="_blank">www.json.org</a>')+"</p><p>"+i18n.sprintf(i18n._("View YAML examples at %s"),'<a href="http://docs.ansible.com/YAMLSyntax.html" target="_blank">docs.ansible.com</a>')+"</p>"}},buttons:{cancel:{ngClick:"formCancel()"},save:{ngClick:"formSave()",ngDisabled:"host_form.$invalid"}}}}]},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$state","$stateParams","GetBasePath","DashboardHostsList","generateList","SetStatus","DashboardHostService","$rootScope","Dataset",function($scope,$state,$stateParams,GetBasePath,DashboardHostsList,GenerateList,SetStatus,DashboardHostService,$rootScope,Dataset){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.$watchCollection(list.name,function(){$scope[list.name]=_.map($scope.hosts,function(value){return value.inventory_name=value.summary_fields.inventory.name,value.inventory_id=value.summary_fields.inventory.id,value}),setJobStatus()})}function setJobStatus(){_.forEach($scope.hosts,function(value){SetStatus({scope:$scope,host:value})})}var list=DashboardHostsList;init(),$scope.editHost=function(id){$state.go("dashboardHosts.edit",{host_id:id})},$scope.toggleHostEnabled=function(host){host.has_inventory_sources||DashboardHostService.setHostStatus(host,!host.enabled).then(function(res){var index=_.findIndex($scope.hosts,function(o){return o.id===res.data.id});$scope.hosts[index].enabled=res.data.enabled})}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(jsyaml){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$state","$stateParams","DashboardHostsForm","GenerateForm","ParseTypeChange","DashboardHostService","host",function($scope,$state,$stateParams,DashboardHostsForm,GenerateForm,ParseTypeChange,DashboardHostService,host){function getVars(str){function IsJsonString(str){try{JSON.parse(str)}catch(e){return!1}return!0}return""===str?"---":IsJsonString(str)?(str=JSON.parse(str),jsyaml.safeDump(str)):IsJsonString(str)?void 0:str}$scope.parseType="yaml",$scope.formCancel=function(){$state.go("^",null,{reload:!0})},$scope.toggleHostEnabled=function(){$scope.host.has_inventory_sources||($scope.host.enabled=!$scope.host.enabled)},$scope.toggleEnabled=function(){$scope.host.enabled=!$scope.host.enabled},$scope.formSave=function(){var host={id:$scope.host.id,variables:"---"===$scope.variables||"{}"===$scope.variables?null:$scope.variables,name:$scope.name,description:$scope.description,enabled:$scope.host.enabled};DashboardHostService.putHost(host).then(function(){$state.go("^",null,{reload:!0})})};var init=function(){$scope.host=host.data,$scope.name=host.data.name,$scope.description=host.data.description,$scope.variables=getVars(host.data.variables),ParseTypeChange({scope:$scope,field_id:"host_variables",variable:"variables"})};init()}]}).call(exports,__webpack_require__(25))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","Rest","GetBasePath","ProcessErrors",function($rootScope,Rest,GetBasePath,ProcessErrors){return{setHostStatus:function(host,enabled){var url=GetBasePath("hosts")+host.id;return Rest.setUrl(url),Rest.put({enabled:enabled,name:host.name}).success(function(data){return data}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})},putHost:function(host){var url=GetBasePath("hosts")+host.id;return Rest.setUrl(url),Rest.put(host).success(function(data){return data}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Call to "+url+". GET returned: "+status})})}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(621),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(627),_main4=_interopRequireDefault(_main3),_login=__webpack_require__(634),_login2=_interopRequireDefault(_login),_logout=__webpack_require__(635),_logout2=_interopRequireDefault(_logout);exports.default=angular.module("login",[_main2.default.name,_main4.default.name]).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_login2.default),$stateExtender.addState(_logout2.default)}])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _authentication=__webpack_require__(622),_authentication2=_interopRequireDefault(_authentication),_checkAccess=__webpack_require__(623),_checkAccess2=_interopRequireDefault(_checkAccess),_isAdmin=__webpack_require__(624),_isAdmin2=_interopRequireDefault(_isAdmin),_timer=__webpack_require__(625),_timer2=_interopRequireDefault(_timer),_pendo=__webpack_require__(626),_pendo2=_interopRequireDefault(_pendo);exports.default=angular.module("authentication",[]).factory("Authorization",_authentication2.default).factory("CheckAccess",_checkAccess2.default).factory("IsAdmin",_isAdmin2.default).factory("Timer",_timer2.default).service("pendoService",_pendo2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$http","$rootScope","$location","$cookieStore","GetBasePath","Store","$q","$injector",function($http,$rootScope,$location,$cookieStore,GetBasePath,Store,$q,$injector){return{setToken:function(token,expires){$cookieStore.remove("token"),$cookieStore.remove("token_expires"),$cookieStore.remove("userLoggedIn"),$cookieStore.put("token",token),$cookieStore.put("token_expires",expires),$cookieStore.put("userLoggedIn",!0),$cookieStore.put("sessionExpired",!1),$rootScope.token=token,$rootScope.userLoggedIn=!0,$rootScope.token_expires=expires,$rootScope.sessionExpired=!1},isUserLoggedIn:function(){return void 0===$rootScope.userLoggedIn&&($rootScope.userLoggedIn=$cookieStore.get("userLoggedIn"),$rootScope.sessionExpired=$cookieStore.get("sessionExpired")),$rootScope.userLoggedIn},getToken:function(){return $rootScope.token?$rootScope.token:$cookieStore.get("token")},retrieveToken:function(username,password){return $http({method:"POST",url:GetBasePath("authtoken"),data:{username:username,password:password}})},deleteToken:function(){return $http({method:"DELETE",url:GetBasePath("authtoken"),headers:{Authorization:"Token "+this.getToken()}})},logout:function(){var x,deferred=$q.defer(),ConfigService=$injector.get("ConfigService"),SocketService=$injector.get("SocketService"),scope=angular.element(document.getElementById("main-view")).scope();return this.deleteToken().then(function(){scope&&scope.$destroy(),"/portal"===$cookieStore.get("lastPath")?($cookieStore.put("lastPath","/portal"),$rootScope.lastPath="/portal"):"/home"!==$cookieStore.get("lastPath")||"/"!==$cookieStore.get("lastPath")||"/login"!==$cookieStore.get("lastPath")||"/logout"!==$cookieStore.get("lastPath")?$rootScope.lastPath=$cookieStore.get("lastPath"):($cookieStore.remove("lastPath"),$rootScope.lastPath="/home"),x=Store("sessionTime"),$rootScope.current_user&&(x[$rootScope.current_user.id].loggedIn=!1),Store("sessionTime",x),$cookieStore.get("current_user")&&($rootScope.lastUser=$cookieStore.get("current_user").id),ConfigService.delete(),SocketService.disconnect(),$cookieStore.remove("token_expires"),$cookieStore.remove("current_user"),$cookieStore.remove("token"),$cookieStore.put("userLoggedIn",!1),$cookieStore.put("sessionExpired",!1),$cookieStore.put("current_user",{}),$rootScope.current_user={},$rootScope.license_tested=void 0,$rootScope.userLoggedIn=!1,$rootScope.sessionExpired=!1,$rootScope.licenseMissing=!0,$rootScope.token=null,$rootScope.token_expires=null,$rootScope.login_username=null,$rootScope.login_password=null,$rootScope.sessionTimer&&$rootScope.sessionTimer.clearTimers(),deferred.resolve()}),deferred.promise},licenseTested:function(){var license,result;return void 0!==$rootScope.license_tested?result=$rootScope.license_tested:(license=Store("license"),$rootScope.version=license.version,result=!(!license||void 0===license.tested)&&license.tested),result},getUser:function(){return $http({method:"GET",url:"/api/v1/me/",headers:{Authorization:"Token "+this.getToken(),"X-Auth-Token":"Token "+this.getToken()}})},setUserInfo:function(response){$rootScope.current_user=response.results[0],$cookieStore.put("current_user",response.results[0])},restoreUserInfo:function(){$rootScope.current_user=$cookieStore.get("current_user")},getUserInfo:function(key){var cu;return $rootScope.current_user?$rootScope.current_user[key]:(this.restoreUserInfo(),cu=$cookieStore.get("current_user"),cu[key])}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","Alert","Rest","GetBasePath","ProcessErrors","$cookieStore",function($rootScope,Alert,Rest,GetBasePath,ProcessErrors,$cookieStore){return function(params){var me,scope=params.scope,callback=params.callback||void 0;me=$rootScope.current_user?$rootScope.current_user:$cookieStore.get("current_user"),me.is_superuser?(scope.PermissionAddAllowed=!0,callback&&scope.$emit(callback)):me.related.admin_of_organizations&&(Rest.setUrl(me.related.admin_of_organizations),Rest.get().success(function(data){data.results.length>0?scope.PermissionAddAllowed=!0:scope.PermissionAddAllowed=!1,callback&&scope.$emit(callback)}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Call to "+me.related.admin_of_organizations+" failed. DELETE returned status: "+status})}))}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope",function($rootScope){return function(){return $rootScope.current_user&&$rootScope.current_user.is_superuser}}]},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","$cookieStore","CreateDialog","Authorization","Store","$interval","$state","$q","i18n",function($rootScope,$cookieStore,CreateDialog,Authorization,Store,$interval,$state,$q,i18n){return{sessionTime:null,timeout:null,getSessionTime:function(){return Store("sessionTime")?Store("sessionTime")[$rootScope.current_user.id].time:0},isExpired:function(increase){var stime=this.getSessionTime(),now=(new Date).getTime();return stime-now<=0||!increase&&(this.moveForward(),!1)},isIdle:function(){var stime=this.getSessionTime()/1e3,now=(new Date).getTime()/1e3,diff=stime-now;return diff<60&&diff},expireSession:function(reason){"session_limit"===reason?($rootScope.sessionLimitExpired=!0,$rootScope.sessionExpired=!1):"idle"===reason&&($rootScope.sessionExpired=!0,$rootScope.sessionLimitExpired=!1),this.sessionTime=0,this.clearTimers(),$cookieStore.put("sessionExpired",!0)},moveForward:function(){var tm,t,x,y;tm=$AnsibleConfig.session_timeout?$AnsibleConfig.session_timeout:1800,t=(new Date).getTime()+1e3*tm,x={time:t,loggedIn:!0},y=Store("sessionTime")?Store("sessionTime"):{},y[$rootScope.current_user.id]=x,Store("sessionTime",y),$rootScope.sessionExpired=!1,$cookieStore.put("sessionExpired",!1),this.startTimers()},startTimers:function(){var that=this;this.clearTimers(),$rootScope.expireTimer=$interval(function(){var idle=that.isIdle();if(that.isExpired(!0))return $("#idle-modal").is(":visible")&&$("#idle-modal").dialog("isOpen")&&$("#idle-modal").dialog("close"),that.expireSession("idle"),void $state.go("signOut");if(Store("sessionTime")&&Store("sessionTime")[$rootScope.current_user.id]&&Store("sessionTime")[$rootScope.current_user.id].loggedIn===!1)return that.expireSession(),void $state.go("signOut");if(idle!==!1)if($("#idle-modal").is(":visible"))$("#remaining_seconds").html(Math.round(idle));else{var buttons=[{label:"Continue",onClick:function(){Authorization.getUser(),that.moveForward(),$(this).dialog("close")},class:"btn btn-primary",id:"idle-modal-button"}];$rootScope.removeIdleDialogReady&&$rootScope.removeIdleDialogReady(),$rootScope.removeIdleDialogReady=$rootScope.$on("IdleDialogReady",function(){$("#idle-modal").show(),$("#idle-modal").dialog("open")}),CreateDialog({id:"idle-modal",title:i18n._("Idle Session"),scope:$rootScope,buttons:buttons,width:470,height:240,minWidth:200,callback:"IdleDialogReady"})}else idle||$("#idle-modal").is(":visible")&&$("#idle-modal").dialog("close")},1e3)},clearTimers:function(){$interval.cancel($rootScope.expireTimer),delete $rootScope.expireTimer},init:function(){var deferred=$q.defer();return this.moveForward(),deferred.resolve(this),deferred.promise}}}]}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","$pendolytics","Rest","GetBasePath","ProcessErrors","$q","ConfigService","$log",function($rootScope,$pendolytics,Rest,GetBasePath,ProcessErrors,$q,ConfigService,$log){return{setPendoOptions:function(config){var tower_version=config.version.split("-")[0],trial=!!config.trial&&config.trial,options={visitor:{id:null,role:null,email:null},account:{id:null,planLevel:config.license_type,planPrice:config.instance_count,creationDate:config.license_date,trial:trial,tower_version:tower_version,ansible_version:config.ansible_version}};return"detailed"===config.analytics_status?this.setDetailed(options,config):"anonymous"===config.analytics_status&&this.setAnonymous(options),options},setDetailed:function(options,config){options.visitor.id=$rootScope.current_user.username+"@"+config.deployment_id,options.account.id=config.deployment_id,options.visitor.email=$rootScope.current_user.email},setAnonymous:function(options){options.visitor.id=0,options.account.id="tower.ansible.com",options.visitor.email=""},setRole:function(options){var deferred=$q.defer();if($rootScope.current_user.is_superuser===!0)options.visitor.role="admin",deferred.resolve(options);else{var url=GetBasePath("users")+$rootScope.current_user.id+"/admin_of_organizations/";Rest.setUrl(url);var promise=Rest.get();promise.then(function(response){response.data.count>0?(options.visitor.role="orgadmin",deferred.resolve(options)):(options.visitor.role="user",deferred.resolve(options))}),promise.catch(function(response){ProcessErrors($rootScope,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get inventory name. GET returned status: "+response.status}),deferred.reject("Could not resolve pendo role.")})}return deferred.promise},issuePendoIdentity:function(){var options,c=ConfigService.get(),config=c.license_info;config.analytics_status=c.analytics_status,config.version=c.version,config.ansible_version=c.ansible_version,"detailed"===config.analytics_status||"anonymous"===config.analytics_status?($pendolytics.bootstrap(),options=this.setPendoOptions(config),this.setRole(options).then(function(options){$log.debug("Pendo status is "+config.analytics_status+". Object below:"),$log.debug(options),$pendolytics.identify(options)},function(reason){$log.debug(reason)})):$log.debug("Pendo is turned off.")}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(628),_main2=_interopRequireDefault(_main),_loginModal=__webpack_require__(632),_loginModal2=_interopRequireDefault(_loginModal);exports.default=angular.module("loginModal",[_main2.default.name]).directive("loginModal",_loginModal2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _thirdPartySignOn=__webpack_require__(629),_thirdPartySignOn2=_interopRequireDefault(_thirdPartySignOn),_thirdPartySignOn3=__webpack_require__(631),_thirdPartySignOn4=_interopRequireDefault(_thirdPartySignOn3);exports.default=angular.module("thirdPartySignOn",[]).directive("thirdPartySignOn",_thirdPartySignOn2.default).factory("thirdPartySignOnService",_thirdPartySignOn4.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _thirdPartySignOn=__webpack_require__(630),_thirdPartySignOn2=_interopRequireDefault(_thirdPartySignOn);exports.default=["templateUrl",function(templateUrl){return{restrict:"E",scope:!0,controller:_thirdPartySignOn2.default,templateUrl:templateUrl("login/loginModal/thirdPartySignOn/thirdPartySignOn"),link:function(scope,element,attrs){}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$window","$scope","thirdPartySignOnService",function($window,$scope,thirdPartySignOnService){thirdPartySignOnService({scope:$scope,url:"api/v1/auth/"}).then(function(data){data&&data.options&&data.options.length>0?($scope.thirdPartyLoginSupported=!0,$scope.loginItems=data.options):$scope.thirdPartyLoginSupported=!1,data&&data.error&&($scope.$parent.thirdPartyAttemptFailed=data.error)}),$scope.goTo=function(link){$window.location.href=link}}]},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$http","ProcessErrors","i18n",function($http,ProcessErrors,i18n){return function(params){var scope=params.scope,url=params.url;return $http({method:"GET",url:url}).then(function(data){function parseAzure(option){var newOption={};return newOption.type="azure",newOption.icon="ThirdPartySignOn-icon--fontCustom icon-microsoft",newOption.link=option.login_url,newOption.tooltip=i18n.sprintf(i18n._("Sign in with %s"),"Azure AD"),newOption}function parseGoogle(option){var newOption={};return newOption.type="google",newOption.icon="ThirdPartySignOn-icon--fontCustom icon-google",newOption.link=option.login_url,newOption.tooltip=i18n.sprintf(i18n._("Sign in with %s"),"Google"),newOption}function parseGithub(option,key){var newOption={};return newOption.type="github",newOption.icon="fa-github ThirdPartySignOn-icon--gitHub",newOption.link=option.login_url,newOption.tooltip=i18n.sprintf(i18n._("Sign in with %s"),"GitHub"),key.split("-")[1]&&("team"===key.split("-")[1]?newOption.tooltip=i18n.sprintf(i18n._("Sign in with %s Teams"),"GitHub"):"org"===key.split("-")[1]&&(newOption.tooltip=i18n.sprintf(i18n._("Sign in with %s Organizations"),"GitHub"))),newOption}function parseSaml(option,key){var newOption={};return newOption.type="saml",newOption.icon="ThirdPartySignOn-icon--fontCustom icon-saml-02",newOption.link=option.login_url,newOption.tooltip=i18n.sprintf(i18n._("Sign in with %s"),"SAML"),key.split(":")[1]&&(newOption.tooltip+=" ("+key.split(":")[1]+")"),newOption}function parseLoginOption(option,key){var finalOption;"azuread"===key.split("-")[0]?finalOption=parseAzure(option,key):"google"===key.split("-")[0]?finalOption=parseGoogle(option,key):"github"===key.split("-")[0]?finalOption=parseGithub(option,key):"saml"===key.split(":")[0]&&(finalOption=parseSaml(option,key)),option.error&&(finalOption.button="ThirdPartySignOn-button--error",error=option.error),options.push(finalOption)}var options=[],error="";return _.forEach(data.data,parseLoginOption),{options:options,error:error}}).catch(function(data){ProcessErrors(scope,data.data,data.status,null,{hdr:i18n._("Error!"),msg:i18n._("Failed to get third-party login types.  Returned status: ")+data.status})})}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _loginModal=__webpack_require__(633),_loginModal2=_interopRequireDefault(_loginModal);exports.default=["templateUrl","ClearScope","Wait",function(templateUrl,ClearScope,Wait){return{restrict:"E",scope:!0,controller:_loginModal2.default,templateUrl:templateUrl("login/loginModal/loginModal"),link:function(scope,element,attrs){var setLoginFocus=function(){ClearScope(),$("#login-username").focus()};setLoginFocus(),$(".modal[aria-hidden=false]").each(function(){"login-modal"!==$(this).attr("id")&&$(this).modal("hide")}),Wait("stop"),window.scrollTo(0,0),$("#login-modal").on("shown.bs.modal",function(){setLoginFocus()}),$("#login-password").bind("keypress",function(e){var code=e.keyCode?e.keyCode:e.which;13===code&&$("#login-button").click()}),scope.reset=function(){$("#login-form input").each(function(){$(this).val("")})}}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$log","$cookieStore","$compile","$window","$rootScope","$location","Authorization","ToggleClass","Alert","Wait","Timer","Empty","ClearScope","$scope","pendoService","ConfigService","CheckLicense","FeaturesService","SocketService",function($log,$cookieStore,$compile,$window,$rootScope,$location,Authorization,ToggleClass,Alert,Wait,Timer,Empty,ClearScope,scope,pendoService,ConfigService,CheckLicense,FeaturesService,SocketService){var lastPath,lastUser,sessionExpired,loginAgain;loginAgain=function(){setTimeout(function(){$location.path("/logout")},1e3)},scope.sessionExpired=Empty($rootScope.sessionExpired)?$cookieStore.get("sessionExpired"):$rootScope.sessionExpired,scope.login_username="",scope.login_password="",lastPath=function(){return Empty($rootScope.lastPath)?$cookieStore.get("lastPath"):$rootScope.lastPath},lastUser=function(){return!Empty($rootScope.lastUser)&&$rootScope.lastUser===$rootScope.current_user.id},$log.debug("User session expired: "+sessionExpired),$log.debug("Last URL: "+lastPath()),$rootScope.loginConfig.promise.then(function(){$AnsibleConfig.custom_logo?(scope.customLogo=$rootScope.custom_logo,scope.customLogoPresent=!0):(scope.customLogo="tower-logo-login.svg",scope.customLogoPresent=!1),scope.customLoginInfo=$AnsibleConfig.custom_login_info,scope.customLoginInfoPresent=!!scope.customLoginInfo}),scope.removeAuthorizationGetLicense&&scope.removeAuthorizationGetLicense(),scope.removeAuthorizationGetLicense=scope.$on("AuthorizationGetLicense",function(){ConfigService.getConfig().then(function(){CheckLicense.test(),pendoService.issuePendoIdentity(),FeaturesService.get(),Wait("stop"),lastPath()&&lastUser()?$location.path(lastPath()):$location.url("/home")}).catch(function(){Wait("stop"),Alert("Error","Failed to access license information. GET returned status: "+status,"alert-danger",loginAgain)})}),scope.removeAuthorizationGetUser&&scope.removeAuthorizationGetUser(),scope.removeAuthorizationGetUser=scope.$on("AuthorizationGetUser",function(){Authorization.getUser().success(function(data){Authorization.setUserInfo(data),Timer.init().then(function(timer){$rootScope.sessionTimer=timer,SocketService.init(),
$rootScope.user_is_superuser=data.results[0].is_superuser,$rootScope.user_is_system_auditor=data.results[0].is_system_auditor,scope.$emit("AuthorizationGetLicense")})}).error(function(data,status){Authorization.logout().then(function(){Wait("stop"),Alert("Error","Failed to access user information. GET returned status: "+status,"alert-danger",loginAgain)})})}),scope.systemLogin=function(username,password){$(".api-error").empty(),Empty(username)||Empty(password)?(scope.reset(),scope.attemptFailed=!0,$("#login-username").focus()):(Wait("start"),Authorization.retrieveToken(username,password).then(function(data){$("#login-modal").modal("hide"),Authorization.setToken(data.data.token,data.data.expires),scope.$emit("AuthorizationGetUser")},function(data){var key;if(Wait("stop"),data&&data.data&&data.data.non_field_errors&&0===data.data.non_field_errors.length)for(key in data.data)scope[key+"Error"]=data.data[key][0];else scope.reset(),scope.attemptFailed=!0,$("#login-username").focus()}))}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default={name:"signIn",route:"/login",socket:null,templateUrl:(0,_templateUrl.templateUrl)("login/loginBackDrop"),resolve:{obj:["$rootScope","Authorization",function($rootScope,Authorization){$rootScope.configReady=!0,Authorization.isUserLoggedIn()&&Authorization.logout(),$(".LoginModal-dialog").remove()}]},ncyBreadcrumb:{skip:!0}}}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"signOut",route:"/logout",controller:["Authorization","$state",function(Authorization,$state){Authorization.logout().then(function(){$state.go("signIn")})}],ncyBreadcrumb:{skip:!0},templateUrl:"/static/partials/blank.html"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _activitystream=__webpack_require__(637),_activitystream2=_interopRequireDefault(_activitystream),_activitystream3=__webpack_require__(638),_activitystream4=_interopRequireDefault(_activitystream3),_streamDropdownNav=__webpack_require__(639),_streamDropdownNav2=_interopRequireDefault(_streamDropdownNav),_main=__webpack_require__(640),_main2=_interopRequireDefault(_main);exports.default=angular.module("activityStream",[_main2.default.name]).controller("activityStreamController",_activitystream4.default).directive("streamDropdownNav",_streamDropdownNav2.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_activitystream2.default)}])},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _i18n=__webpack_require__(172);exports.default={name:"activityStream",route:"/activity_stream?target&id",searchPrefix:"activity",data:{activityStream:!0},params:{activity_search:{value:{order_by:"-timestamp",or__object1__in:null,or__object2__in:null}}},ncyBreadcrumb:{label:(0,_i18n.N_)("ACTIVITY STREAM")},onExit:function(){$("#stream-detail-modal").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open")},views:{"@":{controller:"activityStreamController",templateProvider:function(StreamList,generateList){var html=generateList.build({list:StreamList,mode:"edit"});return html=generateList.wrapPanel(html)}}},resolve:{Dataset:["StreamList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name),stateParams=$stateParams[list.iterator+"_search"];return stateParams.or__object1__in&&null===stateParams.or__object1__in&&delete stateParams.or__object1__in,stateParams.or__object2__in&&null===stateParams.or__object2__in&&delete stateParams.or__object2__in,qs.search(path,stateParams)}],features:["FeaturesService","ProcessErrors","$state","$rootScope",function(FeaturesService,ProcessErrors,$state,$rootScope){var features=FeaturesService.get();if(features){if(FeaturesService.featureEnabled("activity_streams"))return features;$state.go("dashboard")}$rootScope.featuresConfigured.promise.then(function(features){if(features){if(FeaturesService.featureEnabled("activity_streams"))return features;$state.go("dashboard")}})}],subTitle:["$stateParams","Rest","ModelToBasePathKey","GetBasePath","ProcessErrors",function($stateParams,rest,ModelToBasePathKey,getBasePath,ProcessErrors){if($stateParams.target&&$stateParams.id){var target=$stateParams.target,id=$stateParams.id,url=getBasePath(ModelToBasePathKey(target))+id+"/";return rest.setUrl(url),rest.get().then(function(data){return data.data.name||data.data.username}).catch(function(response){ProcessErrors(null,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get title info. GET returned status: "+response.status})})}return null}]}}}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";function activityStreamController($scope,$state,subTitle,Stream,GetTargetTitle,list,Dataset){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.streamSubTitle=subTitle?subTitle:GetTargetTitle($state.params.target),Stream({scope:$scope})}function initOmitSmartTags(){var defaults=void 0,route=_.find($state.$current.path,function(step){return step.params.hasOwnProperty("activity_search")});route&&void 0!==$state.params.target&&(defaults=route.params.activity_search.config.value,defaults[$state.params.target]=null)}init(),initOmitSmartTags()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$state","subTitle","Stream","GetTargetTitle","StreamList","Dataset",activityStreamController]}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl","i18n",function(templateUrl,i18n){return{restrict:"E",scope:!0,replace:!0,templateUrl:templateUrl("activity-stream/streamDropdownNav/stream-dropdown-nav"),controller:["$scope","$state","$stateParams","CreateSelect2",function($scope,$state,$stateParams,CreateSelect2){$state.params&&$state.params.target?$scope.streamTarget="job_template"===$state.params.target||"workflow_job_template"===$state.params.target?"template":$state.params.target:$scope.streamTarget="dashboard",$scope.options=[{label:i18n._("All Activity"),value:"dashboard"},{label:i18n._("Credentials"),value:"credential"},{label:i18n._("Hosts"),value:"host"},{label:i18n._("Inventories"),value:"inventory"},{label:i18n._("Inventory Scripts"),value:"custom_inventory_script"},{label:i18n._("Jobs"),value:"job"},{label:i18n._("Notification Templates"),value:"notification_template"},{label:i18n._("Organizations"),value:"organization"},{label:i18n._("Projects"),value:"project"},{label:i18n._("Schedules"),value:"schedule"},{label:i18n._("Teams"),value:"team"},{label:i18n._("Templates"),value:"template"},{label:i18n._("Users"),value:"user"}],CreateSelect2({element:"#stream-dropdown-nav",multiple:!1}),$scope.changeStreamTarget=function(){if($scope.streamTarget&&"dashboard"===$scope.streamTarget)$state.go("activityStream",{target:null,activity_search:{page_size:"20",order_by:"-timestamp"}});else{var search={or__object1__in:$scope.streamTarget&&"template"===$scope.streamTarget?"job_template,workflow_job_template":$scope.streamTarget,or__object2__in:$scope.streamTarget&&"template"===$scope.streamTarget?"job_template,workflow_job_template":$scope.streamTarget,page_size:"20",order_by:"-timestamp"};$state.go("activityStream",{target:$scope.streamTarget,id:null,activity_search:search})}}}]}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _streamDetailModal=__webpack_require__(641),_streamDetailModal2=_interopRequireDefault(_streamDetailModal);exports.default=angular.module("streamDetailModal",[]).directive("streamDetailModal",_streamDetailModal2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"E",scope:!0,replace:!0,templateUrl:templateUrl("activity-stream/streamDetailModal/streamDetailModal")}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _standardOutAdhoc=__webpack_require__(643),_standardOutAdhoc2=_interopRequireDefault(_standardOutAdhoc),_standardOutManagementJobs=__webpack_require__(644),_standardOutManagementJobs2=_interopRequireDefault(_standardOutManagementJobs),_standardOutInventorySync=__webpack_require__(645),_standardOutInventorySync2=_interopRequireDefault(_standardOutInventorySync),_standardOutScmUpdate=__webpack_require__(646),_standardOutScmUpdate2=_interopRequireDefault(_standardOutScmUpdate),_standardOut=__webpack_require__(647),_main=__webpack_require__(648),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(650),_main4=_interopRequireDefault(_main3);exports.default=angular.module("standardOut",[_main2.default.name,_main4.default.name]).controller("JobStdoutController",_standardOut.JobStdoutController).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_standardOutAdhoc2.default),$stateExtender.addState(_standardOutManagementJobs2.default),$stateExtender.addState(_standardOutInventorySync2.default),$stateExtender.addState(_standardOutScmUpdate2.default)}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default={name:"adHocJobStdout",route:"/ad_hoc_commands/:id",templateUrl:(0,_templateUrl.templateUrl)("standard-out/adhoc/standard-out-adhoc"),controller:"JobStdoutController",ncyBreadcrumb:{parent:"jobs",label:"{{ job.module_name }}"},data:{jobType:"ad_hoc_commands",socket:{groups:{jobs:["status_changed"],ad_hoc_command_events:[]}}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default={name:"managementJobStdout",route:"/management_jobs/:id",templateUrl:(0,_templateUrl.templateUrl)("standard-out/management-jobs/standard-out-management-jobs"),controller:"JobStdoutController",ncyBreadcrumb:{parent:"jobs",label:"{{ job.name }}"},data:{jobType:"system_jobs",socket:{groups:{jobs:["status_changed"]}}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default={name:"inventorySyncStdout",route:"/inventory_sync/:id",templateUrl:(0,_templateUrl.templateUrl)("standard-out/inventory-sync/standard-out-inventory-sync"),controller:"JobStdoutController",ncyBreadcrumb:{parent:"jobs",label:"{{ inventory_source_name }}"},data:{socket:{groups:{jobs:["status_changed"]}},jobType:"inventory_updates"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default={name:"scmUpdateStdout",route:"/scm_update/:id",templateUrl:(0,_templateUrl.templateUrl)("standard-out/scm-update/standard-out-scm-update"),controller:"JobStdoutController",ncyBreadcrumb:{parent:"jobs",label:"{{ project_name }}"},data:{jobType:"project_updates",socket:{groups:{jobs:["status_changed"]}}}}},function(module,exports){"use strict";function JobStdoutController($rootScope,$scope,$state,$stateParams,ClearScope,GetBasePath,Rest,ProcessErrors,Empty,GetChoices,LookUpName,ParseTypeChange,ParseVariableString,RelaunchJob,DeleteJob,Wait,i18n){function getJobDetails(){Rest.setUrl(GetBasePath("base")+jobType+"/"+job_id+"/"),Rest.get().success(function(data){if($scope.job=data,$scope.job_template_name=data.name,$scope.created_by=data.summary_fields.created_by,$scope.project_name=data.summary_fields.project?data.summary_fields.project.name:"",$scope.inventory_name=data.summary_fields.inventory?data.summary_fields.inventory.name:"",$scope.job_template_url="/#/templates/"+data.unified_job_template,$scope.inventory_url=$scope.inventory_name&&data.inventory?"/#/inventories/"+data.inventory:"",$scope.project_url=$scope.project_name&&data.project?"/#/projects/"+data.project:"",$scope.credential_name=data.summary_fields.credential?data.summary_fields.credential.name:"",$scope.credential_url=data.credential?"/#/credentials/"+data.credential:"",$scope.cloud_credential_url=data.cloud_credential?"/#/credentials/"+data.cloud_credential:"",data.summary_fields&&data.summary_fields.source_workflow_job&&data.summary_fields.source_workflow_job.id&&($scope.workflow_result_link="/#/workflows/"+data.summary_fields.source_workflow_job.id),$scope.playbook=data.playbook,$scope.credential=data.credential,$scope.cloud_credential=data.cloud_credential,$scope.forks=data.forks,$scope.limit=data.limit,$scope.verbosity=data.verbosity,$scope.job_tags=data.job_tags,$scope.job.module_name=data.module_name,data.extra_vars&&($scope.variables=ParseVariableString(data.extra_vars)),Empty(data.source)||($scope.removeChoicesReady&&$scope.removeChoicesReady(),$scope.removeChoicesReady=$scope.$on("ChoicesReady",function(){$scope.source_choices.every(function(e){return e.value!==data.source||($scope.source=e.label,!1)})}),GetChoices({scope:$scope,url:GetBasePath("inventory_sources"),field:"source",variable:"source_choices",choice_name:"choices",callback:"ChoicesReady"})),Empty(data.credential)||LookUpName({scope:$scope,scope_var:"credential",url:GetBasePath("credentials")+data.credential+"/",ignore_403:!0}),Empty(data.inventory)||LookUpName({scope:$scope,scope_var:"inventory",url:GetBasePath("inventory")+data.inventory+"/"}),Empty(data.project)||LookUpName({scope:$scope,scope_var:"project",url:GetBasePath("projects")+data.project+"/"}),Empty(data.cloud_credential)||LookUpName({scope:$scope,scope_var:"cloud_credential",url:GetBasePath("credentials")+data.cloud_credential+"/",ignore_403:!0}),Empty(data.inventory_source)||LookUpName({scope:$scope,scope_var:"inventory_source",url:GetBasePath("inventory_sources")+data.inventory_source+"/"}),data.extra_vars&&ParseTypeChange({scope:$scope,field_id:"pre-formatted-variables",readOnly:!0}),"inventory_update"===$scope.job.type&&!$scope.inv_manage_group_link)var groupWatcher=$scope.$watch("group",function(group){if(group){var ancestorGroupIds=[];groupWatcher();var getGroupParent=function getGroupParent(groupId){Rest.setUrl(GetBasePath("base")+"groups/?children__id="+groupId),Rest.get().success(function(data){if(data.results&&data.results.length>0)ancestorGroupIds.push(data.results[0].id),getGroupParent(data.results[0].id);else{$scope.inv_manage_group_link="/#/inventories/"+$scope.inventory+"/manage";for(var i=ancestorGroupIds.length;i>0;i--)$scope.inv_manage_group_link+=(i===ancestorGroupIds.length?"?":"&")+"group="+ancestorGroupIds[i-1]}}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve group parent(s): "+groupId+". GET returned: "+status})})};getGroupParent(group)}});"successful"!==data.status&&"failed"!==data.status&&"error"!==data.status&&"canceled"!==data.status||$rootScope.jobStdOutInterval&&window.clearInterval($rootScope.jobStdOutInterval)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve job: "+job_id+". GET returned: "+status})})}ClearScope();var job_id=$stateParams.id,jobType=$state.current.data.jobType;$scope.stdoutFullScreen=!1,$scope.toggleStdoutFullscreenTooltip=i18n._("Expand Output"),$scope.$on("ws-jobs",function(e,data){parseInt(data.unified_job_id,10)===parseInt(job_id,10)&&$scope.job&&($scope.job.status=data.status),"failed"!==data.status&&"canceled"!==data.status&&"error"!==data.status&&"successful"!==data.status||getJobDetails()}),$scope.parseType="yaml",$scope.removeDeleteFinished&&$scope.removeDeleteFinished(),$scope.removeDeleteFinished=$scope.$on("DeleteFinished",function(e,action){Wait("stop"),"cancel"!==action&&(Wait("stop"),$state.go("jobs"))}),$scope.refresh=function(){$scope.$emit("LoadStdout")},$scope.toggleStdoutFullscreen=function(){$scope.stdoutFullScreen=!$scope.stdoutFullScreen,$scope.stdoutFullScreen===!0?$scope.toggleStdoutFullscreenTooltip=i18n._("Collapse Output"):$scope.stdoutFullScreen===!1&&($scope.toggleStdoutFullscreenTooltip=i18n._("Expand Output"))},$scope.deleteJob=function(){DeleteJob({scope:$scope,id:$scope.job.id,job:$scope.job,callback:"DeleteFinished"})},$scope.relaunchJob=function(){var typeId,job=$scope.job;"inventory_update"===job.type?typeId=job.inventory_source:"project_update"===job.type?typeId=job.project:"job"!==job.type&&"system_job"!==job.type&&"ad_hoc_command"!==job.type||(typeId=job.id),RelaunchJob({scope:$scope,id:typeId,type:job.type,name:job.name})},getJobDetails()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.JobStdoutController=JobStdoutController,JobStdoutController.$inject=["$rootScope","$scope","$state","$stateParams","ClearScope","GetBasePath","Rest","ProcessErrors","Empty","GetChoices","LookUpName","ParseTypeChange","ParseVariableString","RelaunchJob","DeleteJob","Wait","i18n"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lookupName=__webpack_require__(649),_lookupName2=_interopRequireDefault(_lookupName);exports.default=angular.module("StandardOutHelper",[]).factory("LookUpName",_lookupName2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Rest","ProcessErrors","Empty",function(Rest,ProcessErrors,Empty){return function(params){var url=params.url,scope_var=params.scope_var,scope=params.scope;Rest.setUrl(url),Rest.get().success(function(data){"inventory_source"===scope_var?(scope[scope_var+"_name"]=data.summary_fields.group.name,scope.inventory=data.inventory):Empty(data.name)||(scope[scope_var+"_name"]=data.name),Empty(data.group)||(scope.group=data.group)}).error(function(data,status){403===status&&params.ignore_403||ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve "+url+". GET returned: "+status})})}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _standardOutLog=__webpack_require__(651),_standardOutLog2=_interopRequireDefault(_standardOutLog);exports.default=angular.module("standardOutLogDirective",[]).directive("standardOutLog",_standardOutLog2.default)},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _standardOutLog=__webpack_require__(652),_standardOutLog2=_interopRequireDefault(_standardOutLog);exports.default=["templateUrl",function(templateUrl){return{scope:{stdoutEndpoint:"=",stdoutText:"=",jobId:"="},templateUrl:templateUrl("standard-out/log/standard-out-log"),restrict:"E",controller:_standardOutLog2.default,link:function(scope){function detectDirection(){var st=$("#pre-container").scrollTop();return direction=st>lastScrollTop?"down":"up",lastScrollTop=st,direction}var lastScrollTop,direction;$("#pre-container").bind("scroll",function(){"up"===detectDirection()&&(scope.should_apply_live_events=!1),$(this).scrollTop()+$(this).height()===$(this).prop("scrollHeight")&&(scope.should_apply_live_events=!0)})}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$log","$rootScope","$scope","$state","$stateParams","ProcessErrors","Rest","Wait",function($log,$rootScope,$scope,$state,$stateParams,ProcessErrors,Rest,Wait){function openSockets(){"jobDetail"===$state.current.name&&($log.debug("socket watching on job_events-"+job_id),$scope.$on("ws-job_events-"+job_id,function(){$log.debug("socket fired on job_events-"+job_id),api_complete&&event_queue++})),"adHocJobStdout"===$state.current.name&&($log.debug("socket watching on ad_hoc_command_events-"+job_id),$scope.$on("ws-ad_hoc_command_events-"+job_id,function(){$log.debug("socket fired on ad_hoc_command_events-"+job_id),api_complete&&event_queue++}))}function loadStdout(){$scope.stdoutEndpoint&&(Rest.setUrl($scope.stdoutEndpoint+"?format=json&start_line=0&end_line="+page_size),Rest.get().success(function(data){Wait("stop"),data.content?(api_complete=!0,$("#pre-container-content").html(data.content),current_range=data.range,"Waiting for results..."!==data.content&&loaded_sections.push({start:data.range.start<0?0:data.range.start,end:data.range.end}),$("#pre-container").scrollTop($("#pre-container").prop("scrollHeight"))):api_complete=!0}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve stdout for job: "+job_id+". GET returned: "+status})}))}function getNextSection(){if($scope.stdoutEndpoint){var url,start=loaded_sections[loaded_sections.length-1].end;url=$scope.stdoutEndpoint+"?format=json&start_line="+start+"&end_line="+(start+page_size),$("#stdoutMoreRowsBottom").fadeIn(),Rest.setUrl(url),Rest.get().success(function(data){"Waiting for results..."===$("#pre-container-content").html()?$("#pre-container-content").html(data.content):$("#pre-container-content").append(data.content),loaded_sections.push({start:data.range.start<0?0:data.range.start,end:data.range.end}),$scope.should_apply_live_events&&(current_range=data.range,auto_scroll_down=!0,$("#pre-container").scrollTop($("#pre-container").prop("scrollHeight"))),$("#stdoutMoreRowsBottom").fadeOut(400)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve stdout for job: "+job_id+". GET returned: "+status})})}}var current_range,api_complete=!1,loaded_sections=[],event_queue=0,auto_scroll_down=!0,live_event_processing=!0,page_size=500,job_id=$stateParams.id;$scope.should_apply_live_events=!0,openSockets(),$scope.removeLoadStdout&&$scope.removeLoadStdout(),$scope.removeLoadStdout=$scope.$on("LoadStdout",function(){0===loaded_sections.length?loadStdout():live_event_processing&&getNextSection()}),$rootScope.jobStdOutInterval=setInterval(function(){event_queue>0&&($log.debug("checking for stdout..."),0===loaded_sections.length?($log.debug("calling LoadStdout"),loadStdout()):live_event_processing&&($log.debug("calling getNextSection"),getNextSection()),event_queue=0)},2e3),$scope.$watch("stdoutEndpoint",function(newVal,oldVal){newVal&&newVal!==oldVal&&loadStdout()}),$scope.$watch("stdoutText",function(newVal,oldVal){newVal&&newVal!==oldVal&&$("#pre-container-content").html(newVal)}),$scope.stdOutGetNextSection=function(){if(current_range.absolute_end>current_range.end){var url=$scope.stdoutEndpoint+"?format=json&start_line="+current_range.end+"&end_line="+(current_range.end+page_size);Rest.setUrl(url),Rest.get().success(function(data){$("#pre-container-content").append(data.content),current_range=data.range}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve stdout for job: "+job_id+". GET returned: "+status})})}},$scope.$on("ws-jobs",function(e,data){parseInt(data.unified_job_id,10)===parseInt(job_id,10)&&("failed"!==data.status&&"canceled"!==data.status&&"error"!==data.status&&"successful"!==data.status||($rootScope.jobStdOutInterval&&window.clearInterval($rootScope.jobStdOutInterval),live_event_processing&&(0===loaded_sections.length?loadStdout():getNextSection()),live_event_processing=!1))})}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_,$){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _templates=__webpack_require__(654),_templates2=_interopRequireDefault(_templates),_main=__webpack_require__(655),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(671),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(673),_main6=_interopRequireDefault(_main5),_main7=__webpack_require__(675),_main8=_interopRequireDefault(_main7),_main9=__webpack_require__(677),_main10=_interopRequireDefault(_main9),_main11=__webpack_require__(679),_main12=_interopRequireDefault(_main11),_main13=__webpack_require__(681),_main14=_interopRequireDefault(_main13),_main15=__webpack_require__(683),_main16=_interopRequireDefault(_main15),_main17=__webpack_require__(685),_main18=_interopRequireDefault(_main17),_main19=__webpack_require__(688),_main20=_interopRequireDefault(_main19),_templatesList=__webpack_require__(690),_templatesList2=_interopRequireDefault(_templatesList),_workflow=__webpack_require__(691),_workflow2=_interopRequireDefault(_workflow),_templateCopy=__webpack_require__(692),_templateCopy2=_interopRequireDefault(_templateCopy);exports.default=angular.module("templates",[_main2.default.name,_main4.default.name,_main6.default.name,_main8.default.name,_main14.default.name,_main10.default.name,_main12.default.name,_main16.default.name,_main18.default.name,_main20.default.name]).service("TemplatesService",_templates2.default).service("WorkflowService",_workflow2.default).service("TemplateCopyService",_templateCopy2.default).config(["$stateProvider","stateDefinitionsProvider","$stateExtenderProvider",function($stateProvider,stateDefinitionsProvider,$stateExtenderProvider){function generateStateTree(){return addJobTemplate=stateDefinitions.generateTree({name:"templates.addJobTemplate",url:"/add_job_template",modes:["add"],form:"JobTemplateForm",controllers:{add:"JobTemplateAdd"}}),editJobTemplate=stateDefinitions.generateTree({name:"templates.editJobTemplate",url:"/job_template/:job_template_id",modes:["edit"],form:"JobTemplateForm",controllers:{edit:"JobTemplateEdit",related:{completed_jobs:"JobsList"}},data:{activityStream:!0,activityStreamTarget:"job_template",activityStreamId:"job_template_id"}}),addWorkflow=stateDefinitions.generateTree({name:"templates.addWorkflowJobTemplate",url:"/add_workflow_job_template",modes:["add"],form:"WorkflowForm",controllers:{add:"WorkflowAdd"}}),editWorkflow=stateDefinitions.generateTree({name:"templates.editWorkflowJobTemplate",url:"/workflow_job_template/:workflow_job_template_id",modes:["edit"],form:"WorkflowForm",controllers:{edit:"WorkflowEdit"},data:{activityStream:!0,activityStreamTarget:"workflow_job_template",activityStreamId:"workflow_job_template_id"}}),workflowMaker={name:"templates.editWorkflowJobTemplate.workflowMaker",url:"/workflow-maker",data:{formChildState:!0},params:{job_template_search:{value:{page_size:"5",order_by:"name",inventory__isnull:!1,credential__isnull:!1},squash:!0,dynamic:!0},project_search:{value:{page_size:"5",order_by:"name"},squash:!0,dynamic:!0},inventory_source_search:{value:{page_size:"5",not__source:"",order_by:"name"},squash:!0,dynamic:!0}},views:{modal:{template:'<workflow-maker ng-if="includeWorkflowMaker" workflow-job-template-obj="workflow_job_template_obj" can-add-workflow-job-template="canAddWorkflowJobTemplate"></workflow-maker>'},"jobTemplateList@templates.editWorkflowJobTemplate.workflowMaker":{templateProvider:function(WorkflowMakerJobTemplateList,generateList){var html=generateList.build({list:WorkflowMakerJobTemplateList,input_type:"radio",mode:"lookup"});return html},controller:["$scope","WorkflowMakerJobTemplateList","JobTemplateDataset",function($scope,list,Dataset){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.$watch("job_templates",function(){$scope.selectedTemplate&&$scope.job_templates.forEach(function(row,i){row.id===$scope.selectedTemplate.id?$scope.job_templates[i].checked=1:$scope.job_templates[i].checked=0})})}init(),$scope.toggle_row=function(id){$scope.job_templates.forEach(function(row,i){row.id===id&&($scope.job_templates[i].checked=1,$scope.selection[list.iterator]={id:row.id,name:row.name},$scope.templateSelected(row))})},$scope.$on("templateSelected",function(e,options){"jobs"!==options.activeTab?$scope.job_templates.forEach(function(row,i){$scope.job_templates[i].checked=0}):$scope.selectedTemplate&&$scope.job_templates.forEach(function(row,i){row.id===$scope.selectedTemplate.id?$scope.job_templates[i].checked=1:$scope.job_templates[i].checked=0})}),$scope.$on("clearWorkflowLists",function(){$scope.job_templates.forEach(function(row,i){$scope.job_templates[i].checked=0})})}]},"inventorySyncList@templates.editWorkflowJobTemplate.workflowMaker":{templateProvider:function(WorkflowInventorySourcesList,generateList){var html=generateList.build({list:WorkflowInventorySourcesList,input_type:"radio",mode:"lookup"});return html},controller:["$scope","WorkflowInventorySourcesList","InventorySourcesDataset",function($scope,list,Dataset){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.$watch("workflow_inventory_sources",function(){$scope.selectedTemplate&&$scope.workflow_inventory_sources.forEach(function(row,i){row.id===$scope.selectedTemplate.id?$scope.workflow_inventory_sources[i].checked=1:$scope.workflow_inventory_sources[i].checked=0})})}init(),$scope.toggle_row=function(id){$scope.workflow_inventory_sources.forEach(function(row,i){row.id===id&&($scope.workflow_inventory_sources[i].checked=1,$scope.selection[list.iterator]={id:row.id,name:row.name},$scope.templateSelected(row))})},$scope.$on("templateSelected",function(e,options){"inventory_sync"!==options.activeTab?$scope.workflow_inventory_sources.forEach(function(row,i){$scope.workflow_inventory_sources[i].checked=0}):$scope.selectedTemplate&&$scope.workflow_inventory_sources.forEach(function(row,i){row.id===$scope.selectedTemplate.id?$scope.workflow_inventory_sources[i].checked=1:$scope.workflow_inventory_sources[i].checked=0})}),$scope.$on("clearWorkflowLists",function(){$scope.workflow_inventory_sources.forEach(function(row,i){$scope.workflow_inventory_sources[i].checked=0})})}]},"projectSyncList@templates.editWorkflowJobTemplate.workflowMaker":{templateProvider:function(WorkflowProjectList,generateList){var html=generateList.build({list:WorkflowProjectList,input_type:"radio",mode:"lookup"});return html},controller:["$scope","WorkflowProjectList","ProjectDataset",function($scope,list,Dataset){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.$watch("projects",function(){$scope.selectedTemplate&&$scope.projects.forEach(function(row,i){row.id===$scope.selectedTemplate.id?$scope.projects[i].checked=1:$scope.projects[i].checked=0})})}init(),$scope.toggle_row=function(id){$scope.projects.forEach(function(row,i){row.id===id&&($scope.projects[i].checked=1,$scope.selection[list.iterator]={id:row.id,name:row.name},$scope.templateSelected(row))})},$scope.$on("templateSelected",function(e,options){"project_sync"!==options.activeTab?$scope.projects.forEach(function(row,i){$scope.projects[i].checked=0}):$scope.selectedTemplate&&$scope.projects.forEach(function(row,i){row.id===$scope.selectedTemplate.id?$scope.projects[i].checked=1:$scope.projects[i].checked=0})}),$scope.$on("clearWorkflowLists",function(){$scope.projects.forEach(function(row,i){
$scope.projects[i].checked=0})})}]},"workflowForm@templates.editWorkflowJobTemplate.workflowMaker":{templateProvider:function(WorkflowMakerForm,GenerateForm){var form=WorkflowMakerForm(),html=GenerateForm.buildHTML(form,{mode:"add",related:!1,noPanel:!0});return html},controller:["$scope","$timeout","CreateSelect2",function($scope,$timeout,CreateSelect2){function resetPromptFields(){$scope.credential=null,$scope.credential_name=null,$scope.inventory=null,$scope.inventory_name=null,$scope.job_type=null,$scope.limit=null,$scope.job_tags=null,$scope.skip_tags=null}$scope.saveNodeForm=function(){$scope.confirmNodeForm({skip_tags:$scope.skip_tags,job_tags:$scope.job_tags,limit:$scope.limit,credential:$scope.credential,credential_name:$scope.credential_name,inventory:$scope.inventory,inventory_name:$scope.inventory_name,edgeType:$scope.edgeType,job_type:$scope.job_type})},$scope.$on("templateSelected",function(e,options){resetPromptFields(),_.forOwn(options.presetValues,function(value,key){$scope[key]=value}),$timeout(function(){CreateSelect2({element:"#workflow_maker_job_type",multiple:!1})})}),$scope.$on("setEdgeType",function(e,edgeType){$scope.edgeType=edgeType})}]}},resolve:{JobTemplateDataset:["WorkflowMakerJobTemplateList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath);return qs.search(path,$stateParams[list.iterator+"_search"])}],ProjectDataset:["WorkflowProjectList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath);return qs.search(path,$stateParams[list.iterator+"_search"])}],InventorySourcesDataset:["InventorySourcesList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath);return qs.search(path,$stateParams[list.iterator+"_search"])}],WorkflowMakerJobTemplateList:["TemplateList",function(TemplateList){var list=_.cloneDeep(TemplateList);return delete list.actions,delete list.fields.type,delete list.fields.description,delete list.fields.smart_status,delete list.fields.labels,delete list.fieldActions,list.fields.name.columnClass="col-md-8",list.iterator="job_template",list.name="job_templates",list.basePath="job_templates",list.fields.info={ngInclude:"'/static/partials/job-template-details.html'",type:"template",columnClass:"col-md-3",label:"",nosort:!0},list.maxVisiblePages=5,list}],WorkflowProjectList:["ProjectList",function(ProjectList){var list=_.cloneDeep(ProjectList);return delete list.fields.status,delete list.fields.scm_type,delete list.fields.last_updated,list.fields.name.columnClass="col-md-11",list.maxVisiblePages=5,list}],WorkflowInventorySourcesList:["InventorySourcesList",function(InventorySourcesList){var list=_.cloneDeep(InventorySourcesList);return list.maxVisiblePages=5,list}]}},inventoryLookup={searchPrefix:"inventory",name:"templates.editWorkflowJobTemplate.workflowMaker.inventory",url:"/inventory",data:{formChildState:!0},params:{inventory_search:{value:{page_size:"5"},squash:!0,dynamic:!0}},ncyBreadcrumb:{skip:!0},views:{related:{templateProvider:function(ListDefinition,generateList){var list_html=generateList.build({mode:"lookup",list:ListDefinition,input_type:"radio"});return"<lookup-modal>"+list_html+"</lookup-modal>"}}},resolve:{ListDefinition:["InventoryList",function(InventoryList){var list=_.cloneDeep(InventoryList);return list.lookupConfirmText="SELECT",list}],Dataset:["ListDefinition","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.name)||GetBasePath(list.basePath);return qs.search(path,$stateParams[list.iterator+"_search"])}]},onExit:function($state){$state.transition&&($("#form-modal").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"))}},credentialLookup={searchPrefix:"credential",name:"templates.editWorkflowJobTemplate.workflowMaker.credential",url:"/credential",data:{formChildState:!0},params:{credential_search:{value:{page_size:"5"},squash:!0,dynamic:!0}},ncyBreadcrumb:{skip:!0},views:{related:{templateProvider:function(ListDefinition,generateList){var list_html=generateList.build({mode:"lookup",list:ListDefinition,input_type:"radio"});return"<lookup-modal>"+list_html+"</lookup-modal>"}}},resolve:{ListDefinition:["CredentialList",function(CredentialList){var list=_.cloneDeep(CredentialList);return list.lookupConfirmText="SELECT",list}],Dataset:["ListDefinition","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.name)||GetBasePath(list.basePath);return qs.search(path,$stateParams[list.iterator+"_search"])}]},onExit:function($state){$state.transition&&($("#form-modal").modal("hide"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"))}},Promise.all([addJobTemplate,editJobTemplate,addWorkflow,editWorkflow]).then(function(generated){return{states:_.reduce(generated,function(result,definition){return result.concat(definition.states)},[stateExtender.buildDefinition(_templatesList2.default),stateExtender.buildDefinition(workflowMaker),stateExtender.buildDefinition(inventoryLookup),stateExtender.buildDefinition(credentialLookup)])}})}var stateTree=void 0,addJobTemplate=void 0,editJobTemplate=void 0,addWorkflow=void 0,editWorkflow=void 0,workflowMaker=void 0,inventoryLookup=void 0,credentialLookup=void 0,stateDefinitions=stateDefinitionsProvider.$get(),stateExtender=$stateExtenderProvider.$get();stateTree={name:"templates",url:"/templates",lazyLoad:function(){return generateStateTree()}},$stateProvider.state(stateTree)}])}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Rest","GetBasePath","$q",function(Rest,GetBasePath,$q){return{deleteJobTemplate:function(id){var url=GetBasePath("job_templates");return url+=id,Rest.setUrl(url),Rest.destroy()},deleteWorkflowJobTemplate:function(id){var url=GetBasePath("workflow_job_templates");return url+=id,Rest.setUrl(url),Rest.destroy()},createJobTemplate:function(data){var url=GetBasePath("job_templates");return Rest.setUrl(url),Rest.post(data)},createWorkflowJobTemplate:function(data){var url=GetBasePath("workflow_job_templates");return Rest.setUrl(url),Rest.post(data)},getLabelOptions:function(){var url=GetBasePath("labels"),deferred=$q.defer();return Rest.setUrl(url),Rest.get().success(function(data){var labels=data.results.map(function(i){return{label:i.name,value:i.id}});deferred.resolve(labels)}).error(function(msg,code){deferred.reject(msg,code)}),deferred.promise},getJobTemplate:function(id){var url=GetBasePath("job_templates");return url+=id,Rest.setUrl(url),Rest.get()},addWorkflowNode:function(params){return Rest.setUrl(params.url),Rest.post(params.data)},editWorkflowNode:function(params){var url=GetBasePath("workflow_job_template_nodes")+params.id;return Rest.setUrl(url),Rest.put(params.data)},getJobTemplateLaunchInfo:function(id){var url=GetBasePath("job_templates");return url=url+id+"/launch",Rest.setUrl(url),Rest.get()},getWorkflowJobTemplateNodes:function(id,page){var url=GetBasePath("workflow_job_templates");return url=url+id+"/workflow_nodes",page&&(url+="/?page="+page),Rest.setUrl(url),Rest.get()},updateWorkflowJobTemplate:function(params){var url=GetBasePath("workflow_job_templates");return url+=params.id,Rest.setUrl(url),Rest.put(params.data)},getWorkflowJobTemplate:function(id){var url=GetBasePath("workflow_job_templates");return url+=id,Rest.setUrl(url),Rest.get()},deleteWorkflowJobTemplateNode:function(id){var url=GetBasePath("workflow_job_template_nodes")+id;return Rest.setUrl(url),Rest.destroy()},disassociateWorkflowNode:function(params){var url=GetBasePath("workflow_job_template_nodes")+params.parentId;return"success"===params.edge?url+="/success_nodes":"failure"===params.edge?url+="/failure_nodes":"always"===params.edge&&(url+="/always_nodes"),Rest.setUrl(url),Rest.post({id:params.nodeId,disassociate:!0})},associateWorkflowNode:function(params){var url=GetBasePath("workflow_job_template_nodes")+params.parentId;return"success"===params.edge?url+="/success_nodes":"failure"===params.edge?url+="/failure_nodes":"always"===params.edge&&(url+="/always_nodes"),Rest.setUrl(url),Rest.post({id:params.nodeId})},getUnifiedJobTemplate:function(id){var url=GetBasePath("unified_job_templates");return url=url+"?id="+id,Rest.setUrl(url),Rest.get()},getCredential:function(id){var url=GetBasePath("credentials");return url+=id,Rest.setUrl(url),Rest.get()},getInventory:function(id){var url=GetBasePath("inventory");return url+=id,Rest.setUrl(url),Rest.get()},getWorkflowCopy:function(id){var url=GetBasePath("workflow_job_templates");return url=url+id+"/copy",Rest.setUrl(url),Rest.get()},copyWorkflow:function(id){var url=GetBasePath("workflow_job_templates");return url=url+id+"/copy",Rest.setUrl(url),Rest.post()}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(114),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(656),_main4=_interopRequireDefault(_main3),_main5=__webpack_require__(659),_main6=_interopRequireDefault(_main5),_main7=__webpack_require__(665),_main8=_interopRequireDefault(_main7),_main9=__webpack_require__(669),_main10=_interopRequireDefault(_main9);exports.default=angular.module("templates.surveyMaker",[_main2.default.name,_main4.default.name,_main6.default.name,_main8.default.name,_main10.default.name])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _questionScope=__webpack_require__(657),_questionScope2=_interopRequireDefault(_questionScope),_edit=__webpack_require__(658),_edit2=_interopRequireDefault(_edit);exports.default=angular.module("jobTemplates.surveyMaker.questions",[]).factory("questionScope",_questionScope2.default).factory("editQuestion",_edit2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";function typeSupportsIsolatedScope(type){return _.include(typesSupportingIsolatedScope,type)}function getIsolatedScope(question,oldScope){var newScope=oldScope.$new();return newScope.question=question,newScope}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return function(question,oldScope){return typeSupportsIsolatedScope(question.type)?getIsolatedScope(question,oldScope):oldScope}};var typesSupportingIsolatedScope=["multiselect","multiplechoice"]}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";function EditQuestion(GetBasePath,Rest,Wait,ProcessErrors,$compile,GenerateForm,SurveyQuestionForm,CreateSelect2){return function(params){var tmpVar,i,scope=params.scope,index=params.index,question=params.question,form=SurveyQuestionForm;scope.editQuestionIndex=index,scope.text_min=null,scope.text_max=null,scope.int_min=null,scope.int_max=null,scope.float_min=null,scope.float_max=null,scope.password_min=null,scope.password_max=null,scope.pwcheckbox=!1,scope.removeFillQuestionForm&&scope.removeFillQuestionForm(),scope.removeFillQuestionForm=scope.$on("FillQuestionForm",function(){for(var fld in form.fields)if(scope[fld]=question[fld],"select"===form.fields[fld].type)for(i=0;i<scope.answer_types.length;i++)question[fld]===scope.answer_types[i].type&&(scope[fld]=scope.answer_types[i]);"text"===question.type&&(scope.text_min=question.min,scope.text_max=question.max,scope.default_text=question.default),"textarea"===question.type&&(scope.textarea_min=question.min,scope.textarea_max=question.max,scope.default_textarea=question.default),"password"===question.type&&(scope.password_min=question.min,scope.password_max=question.max,scope.default_password=question.default),"integer"===question.type?(scope.int_min=question.min,scope.int_max=question.max,scope.default_int=question.default):"float"===question.type?(scope.float_min=question.min,scope.float_max=question.max,scope.default_float=question.default):"multiselect"===question.type&&(scope.default_multiselect=question.default),CreateSelect2({element:"#survey_question_type",multiple:!1}),scope.survey_question_form.$setDirty()}),scope.removeGenerateForm&&scope.removeGenerateForm(),scope.removeGenerateForm=scope.$on("GenerateForm",function(){tmpVar=scope.mode,GenerateForm.inject(form,{id:"survey_maker_question_form",mode:"edit",related:!1,scope:scope,noPanel:!0}),scope.mode=tmpVar,scope.$emit("FillQuestionForm")}),scope.$emit("GenerateForm")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=EditQuestion,EditQuestion.$inject=["GetBasePath","Rest","Wait","ProcessErrors","$compile","GenerateForm","questionDefinitionForm","CreateSelect2"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _add=__webpack_require__(660),_add2=_interopRequireDefault(_add),_edit=__webpack_require__(661),_edit2=_interopRequireDefault(_edit),_delete2=__webpack_require__(662),_delete3=_interopRequireDefault(_delete2),_init=__webpack_require__(663),_init2=_interopRequireDefault(_init),_show=__webpack_require__(664),_show2=_interopRequireDefault(_show);exports.default=angular.module("jobTemplates.surveyMaker.surveys",[]).factory("showSurvey",_show2.default).factory("addSurvey",_add2.default).factory("editSurvey",_edit2.default).factory("deleteSurvey",_delete3.default).factory("initSurvey",_init2.default)},function(module,exports,__webpack_require__){(function($){"use strict";function AddFactory($location,$stateParams,ShowSurveyModal,Wait){return function(params){var scope=params.scope;scope.survey_enabled=!0,scope.removeDialogReady&&scope.removeDialogReady(),scope.removeDialogReady=scope.$on("DialogReady",function(){$("#survey-modal-dialog").dialog("open"),scope.generateAddQuestionForm()}),Wait("start"),ShowSurveyModal({scope:scope,callback:"DialogReady"})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=AddFactory,AddFactory.$inject=["$location","$stateParams","showSurvey","Wait"]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";function EditFactory(ShowSurveyModal,Wait,Rest,ProcessErrors,GetBasePath,Empty,AddSurvey){return function(params){var url,scope=params.scope,id=params.id,templateType=params.templateType;"job_template"===templateType?url=GetBasePath("job_templates")+id+"/survey_spec/":"workflow_job_template"===templateType&&(url=GetBasePath("workflow_job_templates")+id+"/survey_spec/"),scope.removeDialogReady&&scope.removeDialogReady(),scope.removeDialogReady=scope.$on("DialogReady",function(){$("#survey-modal-dialog").dialog("open"),scope.generateAddQuestionForm()}),Wait("start"),"add"===scope.mode?ShowSurveyModal({title:"Edit Survey",scope:scope,callback:"DialogReady"}):(Rest.setUrl(url),Rest.get().success(function(data){Empty(data)?AddSurvey({scope:scope}):(ShowSurveyModal({title:"Edit Survey",scope:scope,callback:"DialogReady"}),scope.survey_name=data.name,scope.survey_description=data.description,scope.survey_questions=data.spec,Wait("stop"))}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve survey. GET returned status: "+status})}))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=EditFactory,EditFactory.$inject=["showSurvey","Wait","Rest","ProcessErrors","GetBasePath","Empty","addSurvey"]}).call(exports,__webpack_require__(1))},function(module,exports){"use strict";function DeleteSurvey(GetBasePath,Rest,Wait,ProcessErrors){return function(params){var url,scope=params.scope,id=params.id,templateType=params.templateType;if(scope.removeSurveyDeleted&&scope.removeSurveyDeleted(),scope.$on("SurveyDeleted",function(){scope.survey_name="",scope.survey_description="",scope.survey_questions=[],scope.closeSurvey("survey-modal-dialog"),Wait("stop"),scope.survey_exists=!1}),Wait("start"),"add"===scope.mode)scope.$emit("SurveyDeleted");else{var basePath=GetBasePath("workflow_job_template"===templateType?"workflow_job_templates":"job_templates");url=basePath+id+"/survey_spec/",Rest.setUrl(url),Rest.destroy().success(function(){scope.$emit("SurveyDeleted")}).error(function(data,status){ProcessErrors(scope,data,status,{hdr:"Error!",msg:"Failed to delete survey. DELETE returned status: "+status})})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=DeleteSurvey,DeleteSurvey.$inject=["GetBasePath","Rest","Wait","ProcessErrors"]},function(module,exports,__webpack_require__){(function($,_){"use strict";function Init(DeleteSurvey,EditSurvey,AddSurvey,GenerateForm,SurveyQuestionForm,Wait,Alert,GetBasePath,Rest,ProcessErrors,$compile,EditQuestion,CreateSelect2){return function(params){function clearTypeSpecificFields(){scope.minTextError=!1,scope.maxTextError=!1,scope.default="",scope.default_multiselect="",scope.default_float="",scope.default_int="",scope.default_textarea="",scope.default_password="",scope.choices="",scope.text_min=0,scope.text_max=1024,scope.textarea_min=0,scope.textarea_max=4096,scope.password_min=0,scope.password_max=32,scope.int_min=0,scope.int_max=100,scope.float_min=0,scope.float_max=100}var scope=params.scope,id=params.id,form=SurveyQuestionForm,sce=params.sce,templateType=params.templateType;scope.sce=sce,scope.survey_questions=[],scope.answer_types=[{name:"Text",type:"text"},{name:"Textarea",type:"textarea"},{name:"Password",type:"password"},{name:"Multiple Choice (single select)",type:"multiplechoice"},{name:"Multiple Choice (multiple select)",type:"multiselect"},{name:"Integer",type:"integer"},{name:"Float",type:"float"}],scope.addSurvey=function(){AddSurvey({scope:scope})},scope.editSurvey=function(){EditSurvey({scope:scope,id:id,templateType:templateType})},scope.deleteSurvey=function(){scope.hideDeleteOverlay(),Wait("start"),DeleteSurvey({scope:scope,id:id,templateType:templateType})},scope.closeSurvey=function(id){scope.survey_questions=[],$("#"+id).dialog("destroy")},scope.saveSurvey=function(){Wait("start"),scope.survey_name="",scope.survey_description="";var updateSurveyQuestions=function(){return"job_template"===templateType?Rest.setUrl(GetBasePath("job_templates")+id+"/survey_spec/"):"workflow_job_template"===templateType&&Rest.setUrl(GetBasePath("workflow_job_templates")+id+"/survey_spec/"),Rest.post({name:scope.survey_name,description:scope.survey_description,spec:scope.survey_questions}).success(function(){}).error(function(data,status){ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Failed to add new survey. POST returned status: "+status})})},updateSurveyEnabled=function(){return"job_template"===templateType?Rest.setUrl(GetBasePath("job_templates")+id+"/"):"workflow_job_template"===templateType&&Rest.setUrl(GetBasePath("workflow_job_templates")+id+"/"),Rest.patch({survey_enabled:scope.survey_enabled}).success(function(){}).error(function(data,status){ProcessErrors(scope,data,status,form,{hdr:"Error!",msg:"Failed to save survey_enabled: GET status: "+status})})};updateSurveyQuestions().then(function(){return updateSurveyEnabled()}).then(function(){scope.closeSurvey("survey-modal-dialog"),scope.$emit("SurveySaved")})},scope.toggleSurveyEnabled=function(){scope.survey_enabled=!scope.survey_enabled},scope.generateAddQuestionForm=function(){var tmpMode=scope.mode;GenerateForm.inject(form,{id:"survey_maker_question_form",mode:"add",scope:scope,related:!1,noPanel:!0}),scope.mode=tmpMode,scope.clearQuestion()},scope.editQuestion=function(index){scope.duplicate=!1,EditQuestion({index:index,scope:scope,question:scope.survey_questions[index]})},scope.showDeleteQuestion=function(deleteIndex){scope.questionToBeDeleted=deleteIndex,scope.showDeleteOverlay("question")},scope.deleteQuestion=function(index){"edit"!==GenerateForm.mode||isNaN(scope.editQuestionIndex)||(scope.editQuestionIndex===index?(scope.editQuestionIndex=null,scope.generateAddQuestionForm()):scope.editQuestionIndex>index&&scope.editQuestionIndex--),scope.survey_questions.splice(index,1),scope.hideDeleteOverlay()},scope.clearQuestion=function(){clearTypeSpecificFields(),scope.editQuestionIndex=null,scope.question_name=null,scope.question_description=null,scope.variable=null,scope.required=!0,scope.duplicate=!1,scope.invalidChoice=!1,scope.type="",CreateSelect2({element:"#survey_question_type",multiple:!1}),scope.survey_question_form.$setPristine()},scope.typeChange=function(){clearTypeSpecificFields(),scope.survey_question_form.default.$setPristine(),scope.survey_question_form.default_multiselect.$setPristine(),scope.survey_question_form.default_float.$setPristine(),scope.survey_question_form.default_int.$setPristine(),scope.survey_question_form.default_textarea.$setPristine(),scope.survey_question_form.default_password.$setPristine(),scope.survey_question_form.choices.$setPristine(),scope.survey_question_form.int_min.$setPristine(),scope.survey_question_form.int_max.$setPristine()},scope.submitQuestion=function(){var fld,i,choiceArray,answerArray,data={};if(scope.invalidChoice=!1,scope.duplicate=!1,scope.minTextError=!1,scope.maxTextError=!1,"text"===scope.type.type&&""!==scope.default.trim()&&(scope.default.trim().length<scope.text_min&&""!==scope.text_min&&(scope.minTextError=!0),scope.text_max<scope.default.trim().length&&""!==scope.text_max&&(scope.maxTextError=!0)),"textarea"===scope.type.type&&""!==scope.default_textarea.trim()&&(scope.default_textarea.trim().length<scope.textarea_min&&""!==scope.textarea_min&&(scope.minTextError=!0),scope.textarea_max<scope.default_textarea.trim().length&&""!==scope.textarea_max&&(scope.maxTextError=!0)),"password"===scope.type.type&&""!==scope.default_password.trim()&&(scope.default_password.trim().length<scope.password_min&&""!==scope.password_min&&(scope.minTextError=!0),scope.password_max<scope.default_password.trim().length&&""!==scope.password_max&&(scope.maxTextError=!0)),"multiselect"===scope.type.type&&""!==scope.default_multiselect.trim()&&(choiceArray=scope.choices.split(/\n/),answerArray=scope.default_multiselect.split(/\n/),answerArray.length>0))for(i=0;i<answerArray.length;i++)$.inArray(answerArray[i],choiceArray)===-1&&(scope.invalidChoice=!0);if("multiplechoice"===scope.type.type&&""!==scope.default.trim()&&(choiceArray=scope.choices.split(/\n/),$.inArray(scope.default,choiceArray)===-1&&(scope.invalidChoice=!0)),"add"===GenerateForm.mode)for(fld in scope.survey_questions)scope.survey_questions[fld].variable===scope.variable&&(scope.duplicate=!0);if("edit"===GenerateForm.mode)for(i=0;i<scope.survey_questions.length;i++)scope.survey_questions[i].variable===scope.variable&&i!==scope.editQuestionIndex&&(scope.duplicate=!0);if(scope.duplicate!==!0&&scope.invalidChoice!==!0&&scope.minTextError!==!0&&scope.maxTextError!==!0)try{data.question_name=scope.question_name,data.question_description=scope.question_description?scope.question_description:"",data.required=scope.required,data.type=scope.type.type,data.variable=scope.variable,"text"===scope.type.type?data.min=parseInt(scope.text_min):"textarea"===scope.type.type?data.min=parseInt(scope.textarea_min):"password"===scope.type.type?data.min=parseInt(scope.password_min):"float"===scope.type.type?data.min=parseFloat(scope.float_min):"integer"===scope.type.type?data.min=parseInt(scope.int_min):data.min=null,"text"===scope.type.type?data.max=parseInt(scope.text_max):"textarea"===scope.type.type?data.max=parseInt(scope.textarea_max):"password"===scope.type.type?data.max=parseInt(scope.password_max):"float"===scope.type.type?data.max=parseFloat(scope.float_max):"integer"===scope.type.type?data.max=parseInt(scope.int_max):data.max=null,"text"===scope.type.type||"multiplechoice"===scope.type.type?data.default=scope.default:"textarea"===scope.type.type?data.default=scope.default_textarea:"password"===scope.type.type?data.default=scope.default_password:"multiselect"===scope.type.type?data.default=scope.default_multiselect:"float"===scope.type.type?data.default=scope.default_float:"integer"===scope.type.type?data.default=scope.default_int:data.default="",data.choices="multiplechoice"===scope.type.type?scope.choices:"multiselect"===scope.type.type?scope.choices:"",""!==data.choices&&(data.choices=_.uniq(data.choices.split("\n")).join("\n")),Wait("stop"),"add"===GenerateForm.mode&&(data.new_question=!0,scope.survey_questions.push(data),$("#new_question .aw-form-well").remove(),$("#add_question_btn").show()),"edit"===GenerateForm.mode&&(scope.survey_questions[scope.editQuestionIndex]=data),scope.generateAddQuestionForm()}catch(err){Wait("stop"),Alert("Error","Error parsing extra variables. Parser returned: "+err)}},scope.surveyQuestionDropped=function(dropIndex,question){for(var i=0;i<scope.survey_questions.length;i++)if(angular.equals(scope.survey_questions[i],question)){i!==dropIndex&&(i<dropIndex&&dropIndex--,scope.survey_questions.splice(i,1),scope.survey_questions.splice(dropIndex,0,question),"number"==typeof scope.editQuestionIndex&&(scope.editQuestionIndex===i?scope.editQuestionIndex=dropIndex:scope.editQuestionIndex<i&&dropIndex<=scope.editQuestionIndex?scope.editQuestionIndex++:scope.editQuestionIndex>i&&dropIndex>=scope.editQuestionIndex&&scope.editQuestionIndex--));break}return!0},scope.toggleInput=function(id){var buttonId=id+"_show_input_button",inputId=id,buttonInnerHTML=$(buttonId).html();buttonInnerHTML.indexOf("SHOW")>-1?($(buttonId).html("HIDE"),$(inputId).attr("type","text")):($(buttonId).html("SHOW"),$(inputId).attr("type","password"))},scope.showDeleteOverlay=function(mode){scope.deleteMode=mode,scope.deleteOverlayVisible=!0},scope.hideDeleteOverlay=function(){scope.deleteMode=null,scope.questionToBeDeleted=null,scope.deleteOverlayVisible=!1},scope.$watch("survey_enabled",function(newVal){scope.surveyEnabledTooltip=newVal?"Disable survey":"Enable survey"})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Init,Init.$inject=["deleteSurvey","editSurvey","addSurvey","GenerateForm","questionDefinitionForm","Wait","Alert","GetBasePath","Rest","ProcessErrors","$compile","editQuestion","CreateSelect2"]}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){(function($){"use strict";function ShowFactory(Wait,CreateDialog,Empty,$compile){return function(params){var element,scope=params.scope,callback=params.callback,mode=params.mode?params.mode:"survey-maker",title=params.title,target="survey-taker"===mode?"password-modal":"survey-modal-dialog";CreateDialog({id:target,title:title,scope:scope,width:1200,minWidth:400,draggable:!1,dialogClass:"SurveyMaker-dialog",onClose:function(){$("#"+target).empty()},onOpen:function(){Wait("stop"),$("#"+target).css({height:"auto",padding:"20px"}),"survey-taker"===mode&&($("#survey-save-button").attr("ng-disabled","survey_taker_form.$invalid"),element=angular.element(document.getElementById("survey-save-button")),$compile(element)(scope))},_allowInteraction:function(e){return!!$(e.target).is(".select2-input")||this._super(e)},callback:callback})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ShowFactory,ShowFactory.$inject=["Wait","CreateDialog","Empty","$compile"]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _surveyQuestion=__webpack_require__(666),_surveyQuestion2=_interopRequireDefault(_surveyQuestion),_multipleChoice=__webpack_require__(667),_multipleChoice2=_interopRequireDefault(_multipleChoice),_multiselect=__webpack_require__(668),_multiselect2=_interopRequireDefault(_multiselect);exports.default=angular.module("jobTemplates.surveyMaker.render",[]).directive("surveyQuestion",_surveyQuestion2.default).directive("multipleChoice",_multipleChoice2.default).directive("multiSelect",_multiselect2.default)},function(module,exports,__webpack_require__){(function(_,$){"use strict";function findQuestionByIndex(questions,index){return _.find(questions,function(question){return question.index===index})}function link($sce,$filter,Empty,scope,element,attrs){function serialize(expression){return $sce.getTrustedHtml(expression)}function sanitizeDefault(){var min,max,defaultValue="";"text"!==scope.question.type&&"password"!==scope.question.type||(defaultValue=scope.question.default?scope.question.default:"",defaultValue=$filter("sanitize")(defaultValue),defaultValue=serialize(defaultValue)),"textarea"===scope.question.type&&(defaultValue=scope.question.default?scope.question.default:scope.question.default_textarea?scope.question.default_textarea:"",defaultValue=$filter("sanitize")(defaultValue),defaultValue=serialize(defaultValue)),"multiplechoice"!==scope.question.type&&"multiselect"!==scope.question.type||(scope.question.default=scope.question.default_multiselect||scope.question.default,scope.question.default?"multiselect"===scope.question.type&&"function"==typeof scope.question.default.split?defaultValue=scope.question.default.split("\n"):"multiselect"!==scope.question.type&&(defaultValue=scope.question.default):defaultValue=""),"integer"===scope.question.type&&(min=Empty(scope.question.min)?"":scope.question.min,max=Empty(scope.question.max)?"":scope.question.max,defaultValue=Empty(scope.question.default)?Empty(scope.question.default_int)?"":scope.question.default_int:scope.question.default),"float"===scope.question.type&&(min=Empty(scope.question.min)?"":scope.question.min,max=Empty(scope.question.max)?"":scope.question.max,defaultValue=Empty(scope.question.default)?Empty(scope.question.default_float)?"":scope.question.default_float:scope.question.default),scope.defaultValue=defaultValue}scope.toggleInput=function(id){var buttonId=id+"_show_input_button",inputId=id,buttonInnerHTML=$(buttonId).html();buttonInnerHTML.indexOf("SHOW")>-1?($(buttonId).html("HIDE"),$(inputId).attr("type","text")):($(buttonId).html("SHOW"),$(inputId).attr("type","password"))},scope.question||(scope.question=findQuestionByIndex(scope.surveyQuestions,Number(attrs.index))),_.isUndefined(scope.question.choices)||(scope.choices=scope.question.choices.split("\n")),sanitizeDefault()}Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default=["$sce","$filter","Empty",function($sce,$filter,Empty){var directive={restrict:"E",scope:{question:"=",surveyQuestions:"=",isRequired:"@ngRequired",isDisabled:"@ngDisabled",preview:"="},templateUrl:(0,_templateUrl.templateUrl)("templates/survey-maker/render/survey-question"),link:_.partial(link,$sce,$filter,Empty)};return directive}]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";function link($timeout,CreateSelect2,scope,element,attrs,ngModel){$timeout(function(){CreateSelect2({element:element.find("select"),multiple:scope.isMultipleSelect(),customDropdownAdapter:!scope.preview})})}Object.defineProperty(exports,"__esModule",{value:!0});var _templateUrl=__webpack_require__(116);exports.default=["$timeout","CreateSelect2",function($timeout,CreateSelect2){var directive={restrict:"E",require:"ngModel",scope:{isMultipleSelect:"&multiSelect",choices:"=",question:"=",isRequired:"=ngRequired",selectedValue:"=ngModel",isDisabled:"=ngDisabled",preview:"="},templateUrl:(0,_templateUrl.templateUrl)("templates/survey-maker/render/multiple-choice"),link:_.partial(link,$timeout,CreateSelect2)};return directive}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){
return directive};var directive={require:"ngModel",compile:function(){return{pre:function(scope,element,attrs,ngModel){_.isUndefined(scope.isMultipleSelect)||scope.isMultipleSelect()&&(element.attr("multiple",!0),attrs.multiple=!0)}}},priority:1e3}}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _questionDefinition=__webpack_require__(670),_questionDefinition2=_interopRequireDefault(_questionDefinition);exports.default=angular.module("jobTemplates.surveyMaker.shared",[]).value("questionDefinitionForm",_questionDefinition2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={addTitle:"ADD SURVEY PROMPT",editTitle:"EDIT SURVEY PROMPT",titleClass:"Form-secondaryTitle",base:"survey_question",name:"survey_question",well:!0,cancelButton:!1,fields:{question_name:{realName:"question_text",label:"Prompt",type:"text",required:!0,column:1,awSurveyQuestion:!0,class:"Form-formGroup--singleColumn"},question_description:{realName:"question_description",label:"Description",type:"text",column:1,class:"Form-formGroup--singleColumn"},variable:{realName:"variable",type:"custom",control:'<label class="prepend-asterisk" for="variable"><span class="Form-inputLabel"> ANSWER VARIABLE NAME</span><a id="awp-variable" href="" aw-pop-over="<p>The suggested format for variable names is lowercase and underscore-separated. Also note that this field cannot accept variable names with spaces.</p><p>For example: <br>foo_bar<br>user_id<br>host_name<br><div class=&quot;popover-footer&quot;><span class=&quot;key&quot;>esc</span> or click to close</div>" data-placement="right" data-container="body" popover-title="Answer Variable Name" class="help-link" data-original-title="" title="" tabindex="-1"><i class="fa fa-question-circle"></i></a> </label><div><input type="text" ng-model="variable" name="variable" id="survey_question_variable" class="form-control Form-textInput ng-pristine ng-invalid ng-invalid-required" required="" aw-survey-variable-name><div class="error ng-hide" id="survey_question-variable-required-error" ng-show="survey_question_form.variable.$dirty && survey_question_form.variable.$error.required">Please enter an answer variable name.</div><div class="error ng-hide" id="survey_question-variable-variable-error" ng-show="survey_question_form.variable.$dirty && survey_question_form.variable.$error.variable">Please remove the illegal character from the survey question variable name.</div><div class="error ng-hide" id="survey_question-variable-duplicate-error" ng-show="duplicate">This question variable is already in use.  Please enter a different variable name.</div><div class="error api-error ng-binding" id="survey_question-variable-api-error" ng-bind="variable_api_error"></div></div>',required:!0,column:1,class:"Form-formGroup--singleColumn"},type:{realName:"answer_type",label:"Answer Type",type:"select",defaultText:"Choose an answer type",ngOptions:"answer_types.name for answer_types in answer_types track by answer_types.type",required:!0,column:2,ngChange:"typeChange()",class:"Form-formGroup--singleColumn"},choices:{realName:"answer_options",label:"Multiple Choice Options",type:"textarea",rows:3,required:!0,ngRequired:"type.type=== 'multiselect' || type.type=== 'multiplechoice' ",ngShow:'type.type=== "multiselect" || type.type=== "multiplechoice" ',awPopOver:"<p>Type an option on each line.</p><p>For example the following input:<br><br>Apple<br>\n Banana<br>\n Cherry<br><br>would be displayed as:</p>\n<ol><li>Apple</li><li>Banana</li><li>Cherry</li></ol>",dataTitle:"Multiple Choice Options",dataPlacement:"right",dataContainer:"body",column:2,class:"Form-formGroup--singleColumn"},text_options:{realName:"answer_options",type:"custom",control:'<div class="row"><div class="col-xs-6"><label for="text_min"><span class="Form-inputLabel">Minimum Length</span></label><input id="text_min" name="text_min" ng-model="text_min" min=0 aw-min="0" aw-max="text_max" aw-spinner="text_min" integer><div class="error" ng-show="survey_question_form.text_min.$error.integer || survey_question_form.text_min.$error.number">The minimum length you entered is not a valid number.  Please enter a whole number.</div><div class="error" ng-show="survey_question_form.text_min.$error.awMax">The minimium length is too high.  Please enter a lower number.</div><div class="error" ng-show="survey_question_form.text_min.$error.awMin">The minimum length is too low.  Please enter a positive number.</div></div><div class="col-xs-6"><label for="text_max"><span class="Form-inputLabel">Maximum Length</span></label><input id="text_max" name="text_max" ng-model="text_max" aw-min="text_min || 0" min=0 aw-spinner="text_max" integer><div class="error" ng-show="survey_question_form.text_max.$error.integer || survey_question_form.text_max.$error.number">The maximum length you entered is not a valid number.  Please enter a whole nnumber.</div><div class="error" ng-show="survey_question_form.text_max.$error.awMin">The maximum length is too low.  Please enter a number larger than the minimum length you set.</div></div></div>',ngShow:'type.type==="text" ',required:!0,column:2,class:"Form-formGroup--singleColumn"},textarea_options:{realName:"answer_options",type:"custom",control:'<div class="row"><div class="col-xs-6"><label for="textarea_min"><span class="Form-inputLabel">Minimum Length</span></label><input id="textarea_min" type="number" name="textarea_min" ng-model="textarea_min"  min=0 aw-min="0" aw-max="textarea_max" class="form-control Form-textInput" integer /><div class="error" ng-show="survey_question_form.textarea_min.$error.integer || survey_question_form.textarea_min.$error.number">The minimum length you entered is not a valid number.  Please enter a whole number.</div><div class="error" ng-show="survey_question_form.textarea_min.$error.awMax">The minimium length is too high.  Please enter a lower number.</div><div class="error" ng-show="survey_question_form.textarea_min.$error.awMin">The minimum length is too low.  Please enter a positive number.</div></div><div class="col-xs-6"><label for="textarea_max"><span class="Form-inputLabel">Maximum Length</span></label><input id="textarea_max" type="number" name="textarea_max" ng-model="textarea_max" aw-min="textarea_min || 0" min=0 class="form-control Form-textInput" integer ><div class="error" ng-show="survey_question_form.textarea_max.$error.integer || survey_question_form.textarea_max.$error.number">The maximum length you entered is not a valid number.  Please enter a whole number.</div><div class="error" ng-show="survey_question_form.textarea_max.$error.awMin">The maximum length is too low.  Please enter a number larger than the minimum length you set.</div></div></div>',ngShow:'type.type==="textarea" ',required:!0,column:2,class:"Form-formGroup--singleColumn"},password_options:{realName:"answer_options",type:"custom",control:'<div class="row"><div class="col-xs-6"><label for="password_min"><span class="Form-inputLabel">Minimum Length</span></label><input id="password_min" type="number" name="password_min" ng-model="password_min" min=0 aw-min="0" aw-max="password_max" class="form-control Form-textInput" integer /><div class="error" ng-show="survey_question_form.password_min.$error.integer || survey_question_form.password_min.$error.number">The minimum length you entered is not a valid number.  Please enter a whole number.</div><div class="error" ng-show="survey_question_form.password_min.$error.awMax">The minimium length is too high.  Please enter a lower number.</div><div class="error" ng-show="survey_question_form.password_min.$error.awMin">The minimum length is too low.  Please enter a positive number.</div></div><div class="col-xs-6"><label for="password_max"><span class="Form-inputLabel">Maximum Length</span></label><input id="password_max" type="number" name="password_max" ng-model="password_max" aw-min="password_min || 0" min=0 class="form-control Form-textInput" integer ><div class="error" ng-show="survey_question_form.password_max.$error.integer || survey_question_form.password_max.$error.number">The maximum length you entered is not a valid number.  Please enter a whole number.</div><div class="error" ng-show="survey_question_form.password_max.$error.awMin">The maximum length is too low.  Please enter a number larger than the minimum length you set.</div></div></div>',ngShow:'type.type==="password" ',required:!0,column:2,class:"Form-formGroup--singleColumn"},int_options:{realName:"answer_options",type:"custom",control:'<div class="row"><div class="col-xs-6"><label for="minimum"><span class="Form-inputLabel">Minimum</span></label><input id="int_min" type="number" name="int_min" ng-model="int_min" aw-max="int_max" class="form-control Form-textInput" integer ><div class="error" ng-show="survey_question_form.int_min.$error.integer || survey_question_form.int_min.$error.number">Please enter a valid integer.</div><div class="error" ng-show="survey_question_form.int_min.$error.awMax">Please enter a smaller integer.</div></div><div class="col-xs-6"><label for="minimum"><span class="Form-inputLabel">Maximum</span></label><input id="int_max" type="number" name="int_max" ng-model="int_max" aw-min="int_min" class="form-control Form-textInput" integer ><div class="error" ng-show="survey_question_form.int_max.$error.integer || survey_question_form.int_max.$error.number">Please enter a valid integer.</div><div class="error" ng-show="survey_question_form.int_max.$error.awMin">Please enter a larger integer.</div></div></div>',ngShow:'type.type==="integer" ',required:!0,column:2,class:"Form-formGroup--singleColumn"},float_options:{realName:"answer_options",type:"custom",control:'<div class="row"><div class="col-xs-6"><label for="minimum"><span class="Form-inputLabel">Minimum</span></label><input id="float_min" type="number" name="float_min" ng-model="float_min" class="form-control Form-textInput" smart-float aw-max="float_max"><div class="error" ng-show="survey_question_form.float_min.$error.float || survey_question_form.float_min.$error.number">Please enter a valid float.</div><div class="error" ng-show="survey_question_form.float_min.$error.awMax">Please enter a smaller float.</div></div><div class="col-xs-6"><label for="maximum"><span class="Form-inputLabel">Maximum</span></label><input id="float_max" type="number" name="float_max" ng-model="float_max" class="form-control Form-textInput" smart-float  aw-min="float_min"><div class="error" ng-show="survey_question_form.float_max.$error.float">Please enter a valid float.</div><div class="error" ng-show="survey_question_form.float_max.$error.awMin">Please enter a larger float.</div></div></div>',ngShow:'type.type==="float" ',required:!0,column:2,class:"Form-formGroup--singleColumn"},default:{realName:"default_answer",type:"custom",control:'<div class="form-group" ><label for="default"><span class="Form-inputLabel">Default Answer</span></label><div><input type="text" ng-model="default" name="default" id="default" class="form-control Form-textInput"><div class="error ng-hide" id="survey_question-default-duplicate-error" ng-show="invalidChoice">Please enter an answer from the choices listed.</div><div class="error ng-hide" id="survey_question-default-duplicate-error" ng-show="minTextError">The answer is shorter than the minimium length. Please make the answer longer. </div><div class="error ng-hide" id="survey_question-default-duplicate-error" ng-show="maxTextError">The answer is longer than the maximum length. Please make the answer shorter.  </div><div class="error api-error ng-binding" id="survey_question-default-api-error" ng-bind="default_api_error"></div></div></div>',column:2,ngShow:'type.type === "text" || type.type === "multiplechoice" ',class:"Form-formGroup--singleColumn"},default_multiselect:{realName:"default_answer",type:"custom",control:'<div class="form-group"><label for="default_multiselect"><span class="Form-inputLabel">Default Answer</span></label><div><textarea rows="3" ng-model="default_multiselect" name="default_multiselect" class="form-control Form-textArea ng-pristine ng-valid" id="default_multiselect" aw-watch=""></textarea><div class="error ng-hide" id="survey_question-default_multiselect-duplicate-error" ng-show="invalidChoice">Please enter an answer/answers from the choices listed.</div><div class="error api-error ng-binding" id="survey_question-default_multiselect-api-error" ng-bind="default_multiselect_api_error"></div></div></div>',column:2,ngShow:'type.type==="multiselect" ',class:"Form-formGroup--singleColumn"},default_int:{realName:"default_answer",type:"custom",control:'<div><label for="default_int"><span class="Form-inputLabel">Default Answer</span></label><input type="number" ng-model="default_int" name="default_int" aw-min="int_min" aw-max="int_max"  class="form-control Form-textInput" integer /><div class="error" ng-show="survey_question_form.default_int.$error.number || survey_question_form.default_int.$error.integer">Please enter a valid integer.</div><div class="error" ng-show="survey_question_form.default_int.$error.awMin || survey_question_form.default_int.$error.awMax"> Please enter a value in the range of {{int_min}} to {{int_max}}.</div></div>',column:2,ngShow:'type.type === "integer" ',class:"Form-formGroup--singleColumn"},default_float:{realName:"default_answer",type:"custom",control:'<div><label for="default_float"><span class="Form-inputLabel">Default Answer</span></label><input type="number" ng-model="default_float" name="default_float" aw-min="float_min" aw-max="float_max"  class="form-control Form-textInput"  /><div class="error" ng-show="survey_question_form.default_float.$error.number || survey_question_form.default_float.$error.float">Please enter a valid float.</div><div class="error" ng-show="survey_question_form.default_float.$error.awMin || survey_question_form.default_float.$error.awMax"> Please enter a value in the range of {{float_min}} to {{float_max}}!</div></div>',column:2,ngShow:'type.type=== "float" ',class:"Form-formGroup--singleColumn"},default_textarea:{realName:"default_answer",type:"custom",control:'<div class="form-group Form-formGroup Form-formGroup--singleColumn"><label for="default_textarea"><span class="Form-inputLabel">Default Answer</span></label><div><textarea rows="3" ng-model="default_textarea" name="default_textarea" class="form-control Form-textArea ng-valid ng-dirty" id="default_textarea"></textarea><div class="error ng-hide" id="survey_question-default-duplicate-error" ng-show="minTextError">The answer is shorter than the minimium length. Please make the answer longer. </div><div class="error ng-hide" id="survey_question-default-duplicate-error" ng-show="maxTextError">The answer is longer than the maximum length. Please make the answer shorter.  </div><div class="error api-error ng-binding" id="survey_question-default_textarea-api-error" ng-bind="default_textarea_api_error"></div></div></div>',column:2,ngShow:'type.type === "textarea" ',class:"Form-formGroup--singleColumn"},default_password:{realName:"default_answer",type:"custom",control:'<div class="form-group"><label for="default_password"><span class="Form-inputLabel">Default Answer</span></label><div><div class="input-group"><span class="input-group-btn"><button type="button" class="btn btn-default show_input_button" id="default_password_show_input_button" aw-tool-tip="Toggle the display of plaintext." aw-tip-placement="top" ng-click="toggleInput(&quot;#default_password&quot;)" data-original-title="" title="">SHOW</button></span><input id="default_password" type="password" ng-model="default_password" name="default_password" class="form-control Form-textInput" autocomplete="false"></div><div class="error ng-hide" id="survey_question-default-duplicate-error" ng-show="minTextError">The answer is shorter than the minimium length. Please make the answer longer. </div><div class="error ng-hide" id="survey_question-default-password-duplicate-error" ng-show="maxTextError">The answer is longer than the maximum length. Please make the answer shorter.  </div><div class="error api-error ng-binding" id="survey_question-default-password-api-error" ng-bind="default_api_error"></div></div></div>',column:2,ngShow:'type.type === "password" ',class:"Form-formGroup--singleColumn"},required:{realName:"required_answer",label:"Required",type:"checkbox",column:2,class:"Form-formGroup--singleColumn"}},buttons:{question_cancel:{label:"Cancel",class:"btn btn-default Form-cancelButton",ngClick:"generateAddQuestionForm()",ngDisabled:"survey_question_form.$pristine"},submit_question:{ngClick:"submitQuestion($event)",ngDisabled:!0,class:"btn btn-sm Form-saveButton",label:'{{editQuestionIndex === null ? "+ ADD" : "UPDATE"}}'}}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _templatesList=__webpack_require__(672),_templatesList2=_interopRequireDefault(_templatesList);exports.default=angular.module("templatesList",[]).controller("TemplatesListController",_templatesList2.default)},function(module,exports,__webpack_require__){(function($,_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$rootScope","$location","$stateParams","Rest","Alert","TemplateList","Prompt","ClearScope","ProcessErrors","GetBasePath","InitiatePlaybookRun","Wait","$state","$filter","Dataset","rbacUiControlService","TemplatesService","QuerySet","GetChoices","TemplateCopyService",function($scope,$rootScope,$location,$stateParams,Rest,Alert,TemplateList,Prompt,ClearScope,ProcessErrors,GetBasePath,InitiatePlaybookRun,Wait,$state,$filter,Dataset,rbacUiControlService,TemplatesService,qs,GetChoices,TemplateCopyService){function init(){$scope.canAdd=!1,rbacUiControlService.canAdd("job_templates").then(function(canAddJobTemplate){$scope.canAddJobTemplate=canAddJobTemplate}),rbacUiControlService.canAdd("workflow_job_templates").then(function(canAddWorkflowJobTemplate){$scope.canAddWorkflowJobTemplate=canAddWorkflowJobTemplate}),$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.options={},$rootScope.flashMessage=null}function optionsRequestDataProcessing(){$scope[list.name].forEach(function(item,item_idx){var itm=$scope[list.name][item_idx];list.fields.type&&$scope.options.hasOwnProperty("type")&&$scope.options.type.choices.forEach(function(choice){choice[0]===item.type&&(itm.type_label=choice[1])})})}ClearScope();var list=TemplateList;init(),$scope.$on(list.iterator+"_options",function(event,data){$scope.options=data.data.actions.GET,optionsRequestDataProcessing()}),$scope.$watchCollection("templates",function(){optionsRequestDataProcessing()}),$scope.$on("ws-jobs",function(){var path=GetBasePath(list.basePath)||GetBasePath(list.name);qs.search(path,$state.params[list.iterator+"_search"]).then(function(searchResponse){$scope[list.iterator+"_dataset"]=searchResponse.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results})}),$scope.addJobTemplate=function(){$state.go("jobTemplates.add")},$scope.editJobTemplate=function(template){template?!template.type||"Job Template"!==template.type&&"job_template"!==template.type?!template.type||"Workflow Job Template"!==template.type&&"workflow_job_template"!==template.type?Alert("Error: Unable to determine template type","We were unable to determine this template's type while routing to edit."):$state.transitionTo("templates.editWorkflowJobTemplate",{workflow_job_template_id:template.id}):$state.transitionTo("templates.editJobTemplate",{job_template_id:template.id}):Alert("Error: Unable to edit template","Template parameter is missing")},$scope.deleteJobTemplate=function(template){template?Prompt({hdr:"Delete",body:'<div class="Prompt-bodyQuery">Are you sure you want to delete the template below?</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(template.name)+"</div>",action:function(){function handleSuccessfulDelete(isWorkflow){var stateParamId=isWorkflow?$state.params.workflow_job_template_id:$state.params.job_template_id;parseInt(stateParamId)===template.id?$state.go("templates",null,{reload:!0}):$state.go(".",null,{reload:!0}),Wait("stop")}$("#prompt-modal").modal("hide"),Wait("start"),!template.type||"Workflow Job Template"!==template.type&&"workflow_job_template"!==template.type?!template.type||"Job Template"!==template.type&&"job_template"!==template.type?(Wait("stop"),Alert("Error: Unable to determine template type","We were unable to determine this template's type while deleting.")):TemplatesService.deleteJobTemplate(template.id).then(function(){handleSuccessfulDelete()},function(data){Wait("stop"),ProcessErrors($scope,data,data.status,null,{hdr:"Error!",msg:"Call to delete job template failed. DELETE returned status: "+data.status})}):TemplatesService.deleteWorkflowJobTemplate(template.id).then(function(){handleSuccessfulDelete(!0)},function(data){Wait("stop"),ProcessErrors($scope,data,data.status,null,{hdr:"Error!",msg:"Call to delete workflow job template failed. DELETE returned status: "+status})})},actionText:"DELETE"}):Alert("Error: Unable to delete template","Template parameter is missing")},$scope.submitJob=function(template){template?!template.type||"Job Template"!==template.type&&"job_template"!==template.type?!template.type||"Workflow Job Template"!==template.type&&"workflow_job_template"!==template.type?Alert("Error: Unable to determine template type","We were unable to determine this template's type while launching."):InitiatePlaybookRun({scope:$scope,id:template.id,job_type:"workflow_job_template"}):InitiatePlaybookRun({scope:$scope,id:template.id,job_type:"job_template"}):Alert("Error: Unable to launch template","Template parameter is missing")},$scope.scheduleJob=function(template){template?!template.type||"Job Template"!==template.type&&"job_template"!==template.type?!template.type||"Workflow Job Template"!==template.type&&"workflow_job_template"!==template.type?Alert("Error: Unable to determine template type","We were unable to determine this template's type while routing to schedule."):$state.go("workflowJobTemplateSchedules",{id:template.id}):$state.go("jobTemplateSchedules",{id:template.id}):Alert("Error: Unable to schedule job","Template parameter is missing")},$scope.copyTemplate=function(template){template?template.type&&"job_template"===template.type?(Wait("start"),TemplateCopyService.get(template.id).success(function(res){TemplateCopyService.set(res).success(function(res){Wait("stop"),res.type&&"job_template"===res.type&&$state.go("templates.editJobTemplate",{job_template_id:res.id},{reload:!0})})}).error(function(res,status){ProcessErrors($rootScope,res,status,null,{hdr:"Error!",msg:"Call failed. Return status: "+status})})):template.type&&"workflow_job_template"===template.type?TemplateCopyService.getWorkflowCopy(template.id).then(function(result){if(result.data.can_copy)if(result.data.can_copy_without_user_input)TemplateCopyService.copyWorkflow(template.id).then(function(result){$state.go("templates.editWorkflowJobTemplate",{workflow_job_template_id:result.data.id},{reload:!0})},function(data){Wait("stop"),ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to copy template failed. POST returned status: "+status})});else{var bodyHtml='\n                                    <div class="Prompt-bodyQuery">\n                                        You do not have access to all resources used by this workflow.  Resources that you don\'t have access to will not be copied and will result in an incomplete workflow.\n                                    </div>\n                                    <div class="Prompt-bodyTarget">';result.data.templates_unable_to_copy.length>0&&(bodyHtml+="<div>Unified Job Templates that can not be copied<ul>",_.forOwn(result.data.templates_unable_to_copy,function(ujt){ujt&&(bodyHtml+="<li>"+ujt+"</li>")}),bodyHtml+="</ul></div>"),result.data.inventories_unable_to_copy.length>0&&(bodyHtml+="<div>Node prompted inventories that can not be copied<ul>",_.forOwn(result.data.inventories_unable_to_copy,function(inv){inv&&(bodyHtml+="<li>"+inv+"</li>")}),bodyHtml+="</ul></div>"),result.data.credentials_unable_to_copy.length>0&&(bodyHtml+="<div>Node prompted credentials that can not be copied<ul>",_.forOwn(result.data.credentials_unable_to_copy,function(cred){cred&&(bodyHtml+="<li>"+cred+"</li>")}),bodyHtml+="</ul></div>"),bodyHtml+="</div>",Prompt({hdr:"Copy Workflow",body:bodyHtml,action:function(){$("#prompt-modal").modal("hide"),Wait("start"),TemplateCopyService.copyWorkflow(template.id).then(function(result){Wait("stop"),$state.go("templates.editWorkflowJobTemplate",{workflow_job_template_id:result.data.id},{reload:!0})},function(data){Wait("stop"),ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to copy template failed. POST returned status: "+status})})},actionText:"COPY",class:"Modal-primaryButton"})}else Alert("Error: Unable to copy workflow job template","You do not have permission to perform this action.")},function(data){Wait("stop"),ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to copy template failed. GET returned status: "+status})}):Alert("Error: Unable to determine template type","We were unable to determine this template's type while copying."):Alert("Error: Unable to copy job","Template parameter is missing")}}]}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobTemplateAdd=__webpack_require__(674),_jobTemplateAdd2=_interopRequireDefault(_jobTemplateAdd);exports.default=angular.module("jobTemplateAdd",[]).controller("JobTemplateAdd",_jobTemplateAdd2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$filter","$scope","$rootScope","$compile","$location","$log","$stateParams","JobTemplateForm","GenerateForm","Rest","Alert","ProcessErrors","ClearScope","GetBasePath","md5Setup","ParseTypeChange","Wait","Empty","ToJSON","CallbackHelpInit","Prompt","GetChoices","$state","CreateSelect2","$q","i18n",function($filter,$scope,$rootScope,$compile,$location,$log,$stateParams,JobTemplateForm,GenerateForm,Rest,Alert,ProcessErrors,ClearScope,GetBasePath,md5Setup,ParseTypeChange,Wait,Empty,ToJSON,CallbackHelpInit,Prompt,GetChoices,$state,CreateSelect2,$q,i18n){function init(){GenerateForm.applyDefaults(form,$scope),$scope.can_edit=!0,$scope.allow_callbacks=!1,$scope.playbook_options=[],$scope.mode="add",$scope.parseType="yaml",md5Setup({scope:$scope,master:master,check_field:"allow_callbacks",default_val:!1}),CallbackHelpInit({scope:$scope})}function sync_playbook_select2(){CreateSelect2({element:"#playbook-select",multiple:!1})}function saveCompleted(id){$state.go("templates.editJobTemplate",{job_template_id:id},{reload:!0})}Rest.setUrl(GetBasePath("job_templates")),Rest.options().success(function(data){data.actions.POST||($state.go("^"),Alert(i18n._("Permission Error"),i18n._("You do not have permission to add a job template."),"alert-info"))}),ClearScope();var selectPlaybook,checkSCMStatus,callback,defaultUrl=GetBasePath("job_templates"),form=JobTemplateForm(),generator=GenerateForm,master={};init(),callback=function(){$scope[form.name+"_form"].$setDirty()};var selectCount=0;$scope.removeChoicesReady&&$scope.removeChoicesReady(),$scope.removeChoicesReady=$scope.$on("choicesReadyVerbosity",function(){if(ParseTypeChange({scope:$scope,field_id:"job_template_variables",onChange:callback}),selectCount++,3===selectCount){var verbosity;for(verbosity in $scope.verbosity_options)$scope.verbosity_options[verbosity].isDefault&&($scope.verbosity=$scope.verbosity_options[verbosity]);$scope.job_type=$scope.job_type_options[form.fields.job_type.default],$stateParams.inventory_id&&($scope.job_type.value="scan",$scope.jobTypeChange(),$scope.inventory=$stateParams.inventory_id,Rest.setUrl(GetBasePath("inventory")+$stateParams.inventory_id+"/"),Rest.get().success(function(data){$scope.inventory_name=data.name}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to lookup inventory: "+data.id+". GET returned status: "+status})})),CreateSelect2({element:"#job_template_job_type",multiple:!1}),CreateSelect2({element:"#job_template_labels",multiple:!0,addNew:!0}),CreateSelect2({element:"#playbook-select",multiple:!1}),CreateSelect2({element:"#job_template_verbosity",multiple:!1})}}),GetChoices({scope:$scope,url:defaultUrl,field:"verbosity",variable:"verbosity_options",callback:"choicesReadyVerbosity"}),GetChoices({scope:$scope,url:defaultUrl,field:"job_type",variable:"job_type_options",callback:"choicesReadyVerbosity"}),Rest.setUrl("api/v1/labels"),Rest.get().success(function(data){$scope.labelOptions=data.results.map(function(i){return{label:i.name,value:i.id}}),$scope.$emit("choicesReadyVerbosity")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to get labels. GET returned status: "+status})}),selectPlaybook=function(oldValue,newValue){var url;"scan"===$scope.job_type.value&&"Default"===$scope.project_name?($scope.playbook_options=["Default"],$scope.playbook="Default",sync_playbook_select2(),Wait("stop")):oldValue!==newValue&&$scope.project&&(Wait("start"),url=GetBasePath("projects")+$scope.project+"/playbooks/",Rest.setUrl(url),Rest.get().success(function(data){var i,opts=[];for(i=0;i<data.length;i++)opts.push(data[i]);$scope.playbook_options=opts,sync_playbook_select2(),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to get playbook list for "+url+". GET returned status: "+status})}))};var last_non_scan_project_name=null,last_non_scan_playbook="",last_non_scan_playbook_options=[];$scope.jobTypeChange=function(){$scope.job_type&&("scan"===$scope.job_type.value?("Default"!==$scope.project_name&&(last_non_scan_project_name=$scope.project_name,last_non_scan_playbook=$scope.playbook,last_non_scan_playbook_options=$scope.playbook_options),$scope.ask_job_type_on_launch=!1,$scope.ask_inventory_on_launch=!1,$scope.resetProjectToDefault()):"Default"===$scope.project_name&&($scope.project_name=last_non_scan_project_name,$scope.playbook_options=last_non_scan_playbook_options,$scope.playbook=last_non_scan_playbook,$scope.job_template_form.playbook.$setPristine())),sync_playbook_select2()},$scope.resetProjectToDefault=function(){$scope.project_name="Default",$scope.project=null,selectPlaybook("force_load")},checkSCMStatus=function(oldValue,newValue){oldValue===newValue||Empty($scope.project)||(Rest.setUrl(GetBasePath("projects")+$scope.project+"/"),Rest.get().success(function(data){var msg;switch(data.status){case"failed":msg='<div>The Project selected has a status of "failed". You must run a successful update before you can select a playbook. You will not be able to save this Job Template without a valid playbook.';break;case"never updated":msg='<div>The Project selected has a status of "never updated". You must run a successful update before you can select a playbook. You will not be able to save this Job Template without a valid playbook.';break;case"missing":msg='<div>The selected project has a status of "missing". Please check the server and make sure  the directory exists and file permissions are set correctly.</div>'}msg&&Alert("Warning",msg,"alert-info alert-info--noTextTransform",null,null,null,null,!0)}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to get project "+$scope.project+". GET returned status: "+status
})}))},$scope.selectPlaybookUnregister&&$scope.selectPlaybookUnregister(),$scope.selectPlaybookUnregister=$scope.$watch("project",function(newValue,oldValue){newValue!==oldValue&&(selectPlaybook(oldValue,newValue),checkSCMStatus())}),$scope.removeSurveySaved&&$scope.rmoveSurveySaved(),$scope.removeSurveySaved=$scope.$on("SurveySaved",function(){Wait("stop"),$scope.survey_exists=!0,$scope.invalid_survey=!1}),$scope.removeTemplateSaveSuccess&&$scope.removeTemplateSaveSuccess(),$scope.removeTemplateSaveSuccess=$scope.$on("templateSaveSuccess",function(e,data){Wait("stop"),data.related&&data.related.callback&&Alert("Callback URL",'Host callbacks are enabled for this template. The callback URL is:\n<p style="padding: 10px 0;">\n    <strong>\n        '+$scope.callback_server_path+"\n        "+data.related.callback+"\n    </strong>\n</p>\n<p>The host configuration key is:\n    <strong>\n        "+$filter("sanitize")(data.host_config_key)+"\n    </strong>\n</p>","alert-danger",saveCompleted,null,null,null,!0);var orgDefer=$q.defer(),associationDefer=$q.defer();Rest.setUrl(data.related.labels);var currentLabels=Rest.get().then(function(data){return data.data.results.map(function(val){return val.id})});currentLabels.then(function(current){var labelsToAdd=($scope.labels||[]).map(function(val){return val.value}),labelsToDisassociate=current.filter(function(val){return labelsToAdd.indexOf(val)===-1}).map(function(val){return{id:val,disassociate:!0}}),labelsToAssociate=labelsToAdd.filter(function(val){return current.indexOf(val)===-1}).map(function(val){return{id:val,associate:!0}}),pass=labelsToDisassociate.concat(labelsToAssociate);associationDefer.resolve(pass)}),Rest.setUrl(GetBasePath("organizations")),Rest.get().success(function(data){orgDefer.resolve(data.results[0].id)}),orgDefer.promise.then(function(orgId){var toPost=[];$scope.newLabels=$scope.newLabels.map(function(i,val){return val.organization=orgId,val}),$scope.newLabels.each(function(i,val){toPost.push(val)}),associationDefer.promise.then(function(arr){toPost=toPost.concat(arr),Rest.setUrl(data.related.labels);for(var defers=[],i=0;i<toPost.length;i++)defers.push(Rest.post(toPost[i]));$q.all(defers).then(function(){if($scope.addedItem=data.id,$scope.survey_questions&&$scope.survey_questions.length>0){var url=data.url+"survey_spec/";Rest.setUrl(url),Rest.post({name:$scope.survey_name,description:$scope.survey_description,spec:$scope.survey_questions}).success(function(){Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to add new survey. Post returned status: "+status})})}saveCompleted(data.id)})})})}),$scope.formSave=function(){var fld,data={};$scope.invalid_survey=!1,"scan"===$scope.job_type.value&&$scope.survey_enabled===!0&&($scope.survey_enabled=!1),$scope.survey_enabled===!0&&$scope.survey_exists!==!0&&($scope.survey_enabled=!1),generator.clearApiErrors($scope),Wait("start");try{for(fld in form.fields)if("select"===form.fields[fld].type&&"playbook"!==fld&&$scope[fld])data[fld]=$scope[fld].value;else if("checkbox_group"===form.fields[fld].type)for(var i=0;i<form.fields[fld].fields.length;i++)data[form.fields[fld].fields[i].name]=$scope[form.fields[fld].fields[i].name];else"variables"!==fld&&"survey"!==fld&&(data[fld]=$scope[fld]);data.ask_tags_on_launch=!!$scope.ask_tags_on_launch&&$scope.ask_tags_on_launch,data.ask_skip_tags_on_launch=!!$scope.ask_skip_tags_on_launch&&$scope.ask_skip_tags_on_launch,data.ask_limit_on_launch=!!$scope.ask_limit_on_launch&&$scope.ask_limit_on_launch,data.ask_job_type_on_launch=!!$scope.ask_job_type_on_launch&&$scope.ask_job_type_on_launch,data.ask_inventory_on_launch=!!$scope.ask_inventory_on_launch&&$scope.ask_inventory_on_launch,data.ask_variables_on_launch=!!$scope.ask_variables_on_launch&&$scope.ask_variables_on_launch,data.ask_credential_on_launch=!!$scope.ask_credential_on_launch&&$scope.ask_credential_on_launch,data.extra_vars=ToJSON($scope.parseType,$scope.variables,!0),"scan"===data.job_type&&$scope.default_scan===!0&&(data.project="",data.playbook=""),data.survey_enabled=!(!$scope.survey_enabled||!$scope.survey_exists)&&$scope.survey_enabled,$("#job_template_labels > option").filter("[data-select2-tag=true]").each(function(optionIndex,option){$("#job_template_labels").siblings(".select2").first().find(".select2-selection__choice").each(function(labelIndex,label){$(option).text()===$(label).attr("title")&&$(option).attr("data-label-is-present",!0)})}),$scope.newLabels=$("#job_template_labels > option").filter("[data-select2-tag=true]").filter("[data-label-is-present=true]").map(function(i,val){return{name:$(val).text()}}),Rest.setUrl(defaultUrl),Rest.post(data).success(function(data){$scope.$emit("templateSaveSuccess",data)}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to add new job template. POST returned status: "+status})})}catch(err){Wait("stop"),Alert("Error","Error parsing extra variables. Parser returned: "+err)}},$scope.formCancel=function(){$state.transitionTo("templates")}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jobTemplateEdit=__webpack_require__(676),_jobTemplateEdit2=_interopRequireDefault(_jobTemplateEdit);exports.default=angular.module("jobTemplateEdit",[]).controller("JobTemplateEdit",_jobTemplateEdit2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$filter","$scope","$rootScope","$compile","$location","$log","$stateParams","JobTemplateForm","GenerateForm","Rest","Alert","ProcessErrors","ReturnToCaller","ClearScope","GetBasePath","md5Setup","ParseTypeChange","JobStatusToolTip","FormatDate","Wait","Empty","Prompt","ParseVariableString","ToJSON","GetChoices","CallbackHelpInit","InitiatePlaybookRun","initSurvey","$state","CreateSelect2","ToggleNotification","$q",function($filter,$scope,$rootScope,$compile,$location,$log,$stateParams,JobTemplateForm,GenerateForm,Rest,Alert,ProcessErrors,ReturnToCaller,ClearScope,GetBasePath,md5Setup,ParseTypeChange,JobStatusToolTip,FormatDate,Wait,Empty,Prompt,ParseVariableString,ToJSON,GetChoices,CallbackHelpInit,InitiatePlaybookRun,SurveyControllerInit,$state,CreateSelect2,ToggleNotification,$q){function init(){CallbackHelpInit({scope:$scope}),$scope.playbook_options=null,$scope.playbook=null,$scope.mode="edit",$scope.parseType="yaml",$scope.showJobType=!1,SurveyControllerInit({scope:$scope,parent_scope:$scope,id:id,templateType:"job_template"})}function sync_playbook_select2(){CreateSelect2({element:"#playbook-select",multiple:!1})}function sync_verbosity_select2(){CreateSelect2({element:"#job_template_verbosity",multiple:!1})}function saveCompleted(){$state.go($state.current,{},{reload:!0})}ClearScope(),$scope.$watch("job_template_obj.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAddJobTemplate=!1)});var checkSCMStatus,getPlaybooks,callback,defaultUrl=GetBasePath("job_templates"),generator=GenerateForm,form=JobTemplateForm(),base=$location.path().replace(/^\//,"").split("/")[0],master={},id=$stateParams.job_template_id,choicesCount=0;init(),callback=function(){$scope[form.name+"_form"].$setDirty()},getPlaybooks=function(project){var url;$scope.playbook&&($scope.playbook_options=[$scope.playbook]),"scan"===$scope.job_type.value&&"Default"===$scope.project_name?($scope.playbook_options=["Default"],$scope.playbook="Default",sync_playbook_select2(),Wait("stop")):Empty(project)?Wait("stop"):(url=GetBasePath("projects")+project+"/playbooks/",Wait("start"),Rest.setUrl(url),Rest.get().success(function(data){$scope.disablePlaybookBecausePermissionDenied=!1,$scope.playbook_options=[];for(var playbookNotFound=!0,i=0;i<data.length;i++)$scope.playbook_options.push(data[i]),data[i]===$scope.playbook&&($scope.job_template_form.playbook.$setValidity("required",!0),playbookNotFound=!1);$scope.playbookNotFound=playbookNotFound,sync_playbook_select2(),$scope.playbook?$scope.$emit("jobTemplateLoadFinished"):Wait("stop")}).error(function(ret,status_code){403===status_code?$scope.disablePlaybookBecausePermissionDenied=!0:Alert("Missing Playbooks","Unable to retrieve the list of playbooks for this project. Choose a different  project or make the playbooks available on the file system.","alert-info"),Wait("stop")}))};var last_non_scan_project_name=null,last_non_scan_playbook="",last_non_scan_playbook_options=[];$scope.jobTypeChange=function(){$scope.job_type&&("scan"===$scope.job_type.value?("Default"!==$scope.project_name&&(last_non_scan_project_name=$scope.project_name,last_non_scan_playbook=$scope.playbook,last_non_scan_playbook_options=$scope.playbook_options),$scope.ask_job_type_on_launch=!1,$scope.ask_inventory_on_launch=!1,$scope.resetProjectToDefault()):"Default"===$scope.project_name&&($scope.project_name=last_non_scan_project_name,$scope.playbook_options=last_non_scan_playbook_options,$scope.playbook=last_non_scan_playbook,$scope.job_template_form.playbook.$setPristine())),sync_playbook_select2()},$scope.toggleNotification=function(event,notifier_id,column){var notifier=this.notification;try{$(event.target).tooltip("hide")}catch(e){}ToggleNotification({scope:$scope,url:defaultUrl+id,notifier:notifier,column:column,callback:"NotificationRefresh"})},$scope.resetProjectToDefault=function(){$scope.project_name="Default",$scope.project=null,getPlaybooks()},checkSCMStatus=function(){Empty($scope.project)||(Wait("start"),Rest.setUrl(GetBasePath("projects")+$scope.project+"/"),Rest.get().success(function(data){var msg;switch(data.status){case"failed":msg='<div>The Project selected has a status of "failed". You must run a successful update before you can select a playbook. You will not be able to save this Job Template without a valid playbook.';break;case"never updated":msg='<div>The Project selected has a status of "never updated". You must run a successful update before you can select a playbook. You will not be able to save this Job Template without a valid playbook.';break;case"missing":msg='<div>The selected project has a status of "missing". Please check the server and make sure  the directory exists and file permissions are set correctly.</div>'}Wait("stop"),msg&&Alert("Warning",msg,"alert-info alert-info--noTextTransform",null,null,null,null,!0)}).error(function(data,status){403===status||ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to get project "+$scope.project+". GET returned status: "+status})}))},$scope.watchProjectUnregister&&$scope.watchProjectUnregister(),$scope.watchProjectUnregister=$scope.$watch("project",function(newValue,oldValue){newValue!==oldValue&&(getPlaybooks($scope.project),checkSCMStatus())}),$scope.$watch("verbosity",sync_verbosity_select2),$scope.removeJobTemplateLoadFinished&&$scope.removeJobTemplateLoadFinished(),$scope.removeJobTemplateLoadFinished=$scope.$on("jobTemplateLoadFinished",function(){CreateSelect2({element:"#job_template_job_type",multiple:!1}),CreateSelect2({element:"#playbook-select",multiple:!1})}),$scope.cloudCredentialReadyRemove&&$scope.cloudCredentialReadyRemove(),$scope.cloudCredentialReadyRemove=$scope.$on("cloudCredentialReady",function(){$scope.$emit("jobTemplateLoadFinished")}),$scope.jobTemplateLoadedRemove&&$scope.jobTemplateLoadedRemove(),$scope.jobTemplateLoadedRemove=$scope.$on("jobTemplateLoaded",function(e,related_cloud_credential,masterObject){var dft;master=masterObject,getPlaybooks($scope.project),dft=""!==$scope.host_config_key&&null!==$scope.host_config_key,md5Setup({scope:$scope,master:master,check_field:"allow_callbacks",default_val:dft}),ParseTypeChange({scope:$scope,field_id:"job_template_variables",onChange:callback}),$scope.job_template_obj.summary_fields.cloud_credential&&related_cloud_credential?$scope.$emit("cloudCredentialReady",$scope.job_template_obj.summary_fields.cloud_credential.name):$scope.$emit("cloudCredentialReady",null)}),Wait("start"),$scope.removeSurveySaved&&$scope.removeSurveySaved(),$scope.removeSurveySaved=$scope.$on("SurveySaved",function(){Wait("stop"),$scope.survey_exists=!0,$scope.invalid_survey=!1}),$scope.removeLoadJobs&&$scope.rmoveLoadJobs(),$scope.removeLoadJobs=$scope.$on("LoadJobs",function(){$scope.fillJobTemplate()}),$scope.removeChoicesReady&&$scope.removeChoicesReady(),$scope.removeChoicesReady=$scope.$on("choicesReady",function(){choicesCount++,5===choicesCount&&$scope.$emit("LoadJobs")}),GetChoices({scope:$scope,url:GetBasePath("unified_jobs"),field:"status",variable:"status_choices",callback:"choicesReady"}),GetChoices({scope:$scope,url:GetBasePath("unified_jobs"),field:"type",variable:"type_choices",callback:"choicesReady"}),GetChoices({scope:$scope,url:defaultUrl,field:"verbosity",variable:"verbosity_options",callback:"choicesReady"}),sync_verbosity_select2(),GetChoices({scope:$scope,url:defaultUrl,field:"job_type",variable:"job_type_options",callback:"choicesReady"}),Rest.setUrl("api/v1/labels"),Wait("start"),Rest.get().success(function(data){$scope.labelOptions=data.results.map(function(i){return{label:i.name,value:i.id}});var seeMoreResolve=$q.defer(),getNext=function getNext(data,arr,resolve){Rest.setUrl(data.next),Rest.get().success(function(data){data.next?getNext(data,arr.concat(data.results),resolve):resolve.resolve(arr.concat(data.results))})};"null"!==$state.params.job_template_id?(Rest.setUrl(defaultUrl+$state.params.job_template_id+"/labels"),Rest.get().success(function(data){data.next?getNext(data,data.results,seeMoreResolve):seeMoreResolve.resolve(data.results),seeMoreResolve.promise.then(function(labels){$scope.$emit("choicesReady");var opts=labels.map(function(i){return{id:i.id+"",test:i.name}});CreateSelect2({element:"#job_template_labels",multiple:!0,addNew:!0,opts:opts}),Wait("stop")})}).error(function(){$scope.$emit("choicesReady")})):$scope.$emit("choicesReady")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to get labels. GET returned status: "+status})}),$scope.removeTemplateSaveSuccess&&$scope.removeTemplateSaveSuccess(),$scope.removeTemplateSaveSuccess=$scope.$on("templateSaveSuccess",function(e,data){Wait("stop"),data.related&&data.related.callback&&Alert("Callback URL",'Host callbacks are enabled for this template. The callback URL is:\n<p style="padding: 10px 0;">\n    <strong>\n        '+$scope.callback_server_path+"\n        "+data.related.callback+"\n    </strong>\n</p>\n<p>The host configuration key is:\n    <strong>\n        "+$filter("sanitize")(data.host_config_key)+"\n    </strong>\n</p>\n","alert-danger",saveCompleted,null,null,null,!0);var orgDefer=$q.defer(),associationDefer=$q.defer(),associatedLabelsDefer=$q.defer(),getNext=function getNext(data,arr,resolve){Rest.setUrl(data.next),Rest.get().success(function(data){data.next?getNext(data,arr.concat(data.results),resolve):resolve.resolve(arr.concat(data.results))})};Rest.setUrl(data.related.labels),Rest.get().success(function(data){data.next?getNext(data,data.results,associatedLabelsDefer):associatedLabelsDefer.resolve(data.results)}),associatedLabelsDefer.promise.then(function(current){current=current.map(function(data){return data.id});var labelsToAdd=$scope.labels.map(function(val){return val.value}),labelsToDisassociate=current.filter(function(val){return labelsToAdd.indexOf(val)===-1}).map(function(val){return{id:val,disassociate:!0}}),labelsToAssociate=labelsToAdd.filter(function(val){return current.indexOf(val)===-1}).map(function(val){return{id:val,associate:!0}}),pass=labelsToDisassociate.concat(labelsToAssociate);associationDefer.resolve(pass)}),Rest.setUrl(GetBasePath("organizations")),Rest.get().success(function(data){orgDefer.resolve(data.results[0].id)}),orgDefer.promise.then(function(orgId){var toPost=[];$scope.newLabels=$scope.newLabels.map(function(i,val){return val.organization=orgId,val}),$scope.newLabels.each(function(i,val){toPost.push(val)}),associationDefer.promise.then(function(arr){toPost=toPost.concat(arr),Rest.setUrl(data.related.labels);for(var defers=[],i=0;i<toPost.length;i++)defers.push(Rest.post(toPost[i]));$q.all(defers).then(function(){saveCompleted()})})})}),$scope.formSave=function(){var fld,data={};$scope.invalid_survey=!1,"scan"===$scope.job_type.value&&$scope.survey_enabled===!0&&($scope.survey_enabled=!1),$scope.survey_enabled===!0&&$scope.survey_exists!==!0&&($scope.survey_enabled=!1),generator.clearApiErrors($scope),Wait("start");try{for(fld in form.fields)if("select"===form.fields[fld].type&&"playbook"!==fld)data[fld]=$scope[fld].value;else if("checkbox_group"===form.fields[fld].type)for(var i=0;i<form.fields[fld].fields.length;i++)data[form.fields[fld].fields[i].name]=$scope[form.fields[fld].fields[i].name];else"variables"!==fld&&"survey"!==fld&&(data[fld]=$scope[fld]);data.ask_tags_on_launch=!!$scope.ask_tags_on_launch&&$scope.ask_tags_on_launch,data.ask_skip_tags_on_launch=!!$scope.ask_skip_tags_on_launch&&$scope.ask_skip_tags_on_launch,data.ask_limit_on_launch=!!$scope.ask_limit_on_launch&&$scope.ask_limit_on_launch,data.ask_job_type_on_launch=!!$scope.ask_job_type_on_launch&&$scope.ask_job_type_on_launch,data.ask_inventory_on_launch=!!$scope.ask_inventory_on_launch&&$scope.ask_inventory_on_launch,data.ask_variables_on_launch=!!$scope.ask_variables_on_launch&&$scope.ask_variables_on_launch,data.ask_credential_on_launch=!!$scope.ask_credential_on_launch&&$scope.ask_credential_on_launch,data.extra_vars=ToJSON($scope.parseType,$scope.variables,!0),"scan"===data.job_type&&$scope.default_scan===!0&&(data.project="",data.playbook=""),data.survey_enabled=!(!$scope.survey_enabled||!$scope.survey_exists)&&$scope.survey_enabled,$("#job_template_labels > option").filter("[data-select2-tag=true]").each(function(optionIndex,option){$("#job_template_labels").siblings(".select2").first().find(".select2-selection__choice").each(function(labelIndex,label){$(option).text()===$(label).attr("title")&&$(option).attr("data-label-is-present",!0)})}),$scope.newLabels=$("#job_template_labels > option").filter("[data-select2-tag=true]").filter("[data-label-is-present=true]").map(function(i,val){return{name:$(val).text()}}),Rest.setUrl(defaultUrl+$state.params.job_template_id),Rest.put(data).success(function(data){$scope.$emit("templateSaveSuccess",data)}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to update job template. PUT returned status: "+status})})}catch(err){Wait("stop"),Alert("Error","Error parsing extra variables. Parser returned: "+err)}},$scope.formCancel=function(){$state.go("templates")},$scope.add=function(set){$rootScope.flashMessage=null,$location.path("/"+base+"/"+$stateParams.job_template_id+"/"+set)},$scope.edit=function(set,id){$rootScope.flashMessage=null,$location.path("/"+set+"/"+id)},$scope.launch=function(){$scope.removePromptForSurvey&&$scope.removePromptForSurvey(),$scope.removePromptForSurvey=$scope.$on("PromptForSurvey",function(){var action=function(){Wait("start"),$("#prompt-modal").modal("hide"),$scope.addSurvey()};Prompt({hdr:"Incomplete Survey",body:'<div class="Prompt-bodyQuery">Do you want to create a survey before proceeding?</div>',action:action})}),$scope.survey_enabled===!0&&$scope.survey_exists!==!0?$scope.$emit("PromptForSurvey"):InitiatePlaybookRun({scope:$scope,id:id,job_type:"job_template"})}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _workflowAdd=__webpack_require__(678),_workflowAdd2=_interopRequireDefault(_workflowAdd);exports.default=angular.module("workflowAdd",[]).controller("WorkflowAdd",_workflowAdd2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","WorkflowForm","GenerateForm","Alert","ProcessErrors","ClearScope","Wait","$state","CreateSelect2","TemplatesService","ToJSON","ParseTypeChange","OrganizationList","$q","Rest","GetBasePath",function($scope,WorkflowForm,GenerateForm,Alert,ProcessErrors,ClearScope,Wait,$state,CreateSelect2,TemplatesService,ToJSON,ParseTypeChange,OrganizationList,$q,Rest,GetBasePath){function init(){$scope.canEditOrg=!0,$scope.parseType="yaml",$scope.can_edit=!0,GenerateForm.applyDefaults(form,$scope),ParseTypeChange({scope:$scope,field_id:"workflow_job_template_variables",onChange:function(){$scope[form.name+"_form"].$setDirty()}}),TemplatesService.getLabelOptions().then(function(data){$scope.labelOptions=data,CreateSelect2({element:"#workflow_job_template_labels",multiple:!0,addNew:!0})},function(error){ProcessErrors($scope,error.data,error.status,form,{hdr:"Error!",msg:"Failed to get labels. GET returned status: "+error.status})})}Rest.setUrl(GetBasePath("workflow_job_templates")),Rest.options().success(function(data){data.actions.POST||($state.go("^"),Alert("Permission Error","You do not have permission to add a workflow job template.","alert-info"))}),ClearScope();var form=WorkflowForm(),generator=GenerateForm;$scope.formSave=function(){var fld=void 0,data={};generator.clearApiErrors($scope),Wait("start");try{for(fld in form.fields)data[fld]=$scope[fld];data.extra_vars=ToJSON($scope.parseType,$scope.variables,!0),$("#workflow_job_template_labels > option").filter("[data-select2-tag=true]").each(function(optionIndex,option){$("#workflow_job_template_labels").siblings(".select2").first().find(".select2-selection__choice").each(function(labelIndex,label){$(option).text()===$(label).attr("title")&&$(option).attr("data-label-is-present",!0)})}),$scope.newLabels=$("#workflow_job_template_labels > option").filter("[data-select2-tag=true]").filter("[data-label-is-present=true]").map(function(i,val){return{name:$(val).text()}}),TemplatesService.createWorkflowJobTemplate(data).then(function(data){var orgDefer=$q.defer(),associationDefer=$q.defer();Rest.setUrl(data.data.related.labels);var currentLabels=Rest.get().then(function(data){return data.data.results.map(function(val){return val.id})});currentLabels.then(function(current){var labelsToAdd=($scope.labels||[]).map(function(val){return val.value}),labelsToDisassociate=current.filter(function(val){return labelsToAdd.indexOf(val)===-1}).map(function(val){return{id:val,disassociate:!0}}),labelsToAssociate=labelsToAdd.filter(function(val){return current.indexOf(val)===-1}).map(function(val){return{id:val,associate:!0}}),pass=labelsToDisassociate.concat(labelsToAssociate);associationDefer.resolve(pass)}),Rest.setUrl(GetBasePath("organizations")),Rest.get().success(function(data){orgDefer.resolve(data.results[0].id)}),orgDefer.promise.then(function(orgId){var toPost=[];$scope.newLabels=$scope.newLabels.map(function(i,val){return val.organization=orgId,val}),$scope.newLabels.each(function(i,val){toPost.push(val)}),associationDefer.promise.then(function(arr){toPost=toPost.concat(arr),Rest.setUrl(data.data.related.labels);for(var defers=[],i=0;i<toPost.length;i++)defers.push(Rest.post(toPost[i]));$q.all(defers).then(function(){$state.go("templates.editWorkflowJobTemplate",{workflow_job_template_id:data.data.id},{reload:!0})})})})},function(error){ProcessErrors($scope,error.data,error.status,form,{hdr:"Error!",msg:"Failed to add new workflow. POST returned status: "+error.status})})}catch(err){Wait("stop"),Alert("Error","Error parsing extra variables. Parser returned: "+err)}},$scope.formCancel=function(){$state.transitionTo("templates")},init()}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _workflowEdit=__webpack_require__(680),_workflowEdit2=_interopRequireDefault(_workflowEdit);exports.default=angular.module("workflowEdit",[]).controller("WorkflowEdit",_workflowEdit2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","$stateParams","WorkflowForm","GenerateForm","Alert","ProcessErrors","ClearScope","GetBasePath","$q","ParseTypeChange","Wait","Empty","ToJSON","initSurvey","$state","CreateSelect2","ParseVariableString","TemplatesService","OrganizationList","Rest","WorkflowService","ToggleNotification","OrgAdminLookup",function($scope,$stateParams,WorkflowForm,GenerateForm,Alert,ProcessErrors,ClearScope,GetBasePath,$q,ParseTypeChange,Wait,Empty,ToJSON,SurveyControllerInit,$state,CreateSelect2,ParseVariableString,TemplatesService,OrganizationList,Rest,WorkflowService,ToggleNotification,OrgAdminLookup){function init(){CreateSelect2({element:"#workflow_job_template_labels",multiple:!0,addNew:!0}),SurveyControllerInit({scope:$scope,parent_scope:$scope,id:id,templateType:"workflow_job_template"}),Rest.setUrl("api/v1/labels"),Wait("start"),Rest.get().success(function(data){$scope.labelOptions=data.results.map(function(i){return{label:i.name,value:i.id}});var seeMoreResolve=$q.defer(),getNext=function getNext(data,arr,resolve){Rest.setUrl(data.next),Rest.get().success(function(data){data.next?getNext(data,arr.concat(data.results),resolve):resolve.resolve(arr.concat(data.results))})};Rest.setUrl(GetBasePath("workflow_job_templates")+id+"/labels"),Rest.get().success(function(data){data.next?getNext(data,data.results,seeMoreResolve):seeMoreResolve.resolve(data.results),seeMoreResolve.promise.then(function(labels){$scope.$emit("choicesReady");var opts=labels.map(function(i){return{id:i.id+"",test:i.name}});CreateSelect2({element:"#workflow_job_template_labels",multiple:!0,addNew:!0,opts:opts}),Wait("stop")})}).error(function(){$scope.$emit("choicesReady")})}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to get labels. GET returned status: "+status})}),TemplatesService.getWorkflowJobTemplate(id).then(function(data){var workflowJobTemplateData=data.data;$scope.workflow_job_template_obj=workflowJobTemplateData,$scope.name=workflowJobTemplateData.name,$scope.can_edit=workflowJobTemplateData.summary_fields.user_capabilities.edit;var fld=void 0,i=void 0;for(fld in form.fields){if("variables"!==fld&&"survey"!==fld&&null!==workflowJobTemplateData[fld]&&void 0!==workflowJobTemplateData[fld])if("select"===form.fields[fld].type)if($scope[fld+"_options"]&&$scope[fld+"_options"].length>0)for(i=0;i<$scope[fld+"_options"].length;i++)workflowJobTemplateData[fld]===$scope[fld+"_options"][i].value&&($scope[fld]=$scope[fld+"_options"][i]);else $scope[fld]=workflowJobTemplateData[fld];else $scope[fld]=workflowJobTemplateData[fld],Empty(workflowJobTemplateData.summary_fields.survey)||($scope.survey_exists=!0);"variables"===fld&&($scope.variables=ParseVariableString(workflowJobTemplateData.extra_vars),ParseTypeChange({scope:$scope,field_id:"workflow_job_template_variables"})),"lookup"===form.fields[fld].type&&workflowJobTemplateData.summary_fields[form.fields[fld].sourceModel]&&($scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=workflowJobTemplateData.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField])}workflowJobTemplateData.organization?OrgAdminLookup.checkForAdminAccess({organization:workflowJobTemplateData.organization}).then(function(canEditOrg){$scope.canEditOrg=canEditOrg}):$scope.canEditOrg=!0,Wait("stop"),$scope.url=workflowJobTemplateData.url,$scope.survey_enabled=workflowJobTemplateData.survey_enabled,$scope.includeWorkflowMaker=!0},function(error){ProcessErrors($scope,error.data,error.status,form,{hdr:"Error!",msg:"Failed to get workflow job template. GET returned status: "+error.status})})}ClearScope(),$scope.$watch("workflow_job_template_obj.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAddWorkflowJobTemplate=!1)});var form=WorkflowForm(),generator=GenerateForm,id=$stateParams.workflow_job_template_id;$scope.mode="edit",$scope.parseType="yaml",$scope.includeWorkflowMaker=!1,$scope.openWorkflowMaker=function(){$state.go(".workflowMaker")},$scope.formSave=function(){var fld=void 0,data={};$scope.invalid_survey=!1,$scope.survey_enabled===!0&&$scope.survey_exists!==!0&&($scope.survey_enabled=!1),generator.clearApiErrors($scope),Wait("start");try{for(fld in form.fields)data[fld]=$scope[fld];data.extra_vars=ToJSON($scope.parseType,$scope.variables,!0),data.survey_enabled=!(!$scope.survey_enabled||!$scope.survey_exists)&&$scope.survey_enabled,$("#workflow_job_template_labels > option").filter("[data-select2-tag=true]").each(function(optionIndex,option){$("#workflow_job_template_labels").siblings(".select2").first().find(".select2-selection__choice").each(function(labelIndex,label){$(option).text()===$(label).attr("title")&&$(option).attr("data-label-is-present",!0)})}),$scope.newLabels=$("#workflow_job_template_labels > option").filter("[data-select2-tag=true]").filter("[data-label-is-present=true]").map(function(i,val){return{name:$(val).text()}}),TemplatesService.updateWorkflowJobTemplate({id:id,data:data}).then(function(){var orgDefer=$q.defer(),associationDefer=$q.defer(),associatedLabelsDefer=$q.defer(),getNext=function getNext(data,arr,resolve){Rest.setUrl(data.next),Rest.get().success(function(data){data.next?getNext(data,arr.concat(data.results),resolve):resolve.resolve(arr.concat(data.results))})};Rest.setUrl($scope.workflow_job_template_obj.related.labels),Rest.get().success(function(data){data.next?getNext(data,data.results,associatedLabelsDefer):associatedLabelsDefer.resolve(data.results)}),associatedLabelsDefer.promise.then(function(current){current=current.map(function(data){return data.id});var labelsToAdd=$scope.labels.map(function(val){return val.value}),labelsToDisassociate=current.filter(function(val){return labelsToAdd.indexOf(val)===-1}).map(function(val){return{id:val,disassociate:!0}}),labelsToAssociate=labelsToAdd.filter(function(val){return current.indexOf(val)===-1}).map(function(val){return{id:val,associate:!0}}),pass=labelsToDisassociate.concat(labelsToAssociate);associationDefer.resolve(pass)}),Rest.setUrl(GetBasePath("organizations")),Rest.get().success(function(data){orgDefer.resolve(data.results[0].id)}),orgDefer.promise.then(function(orgId){var toPost=[];$scope.newLabels=$scope.newLabels.map(function(i,val){return val.organization=orgId,val}),$scope.newLabels.each(function(i,val){toPost.push(val)}),associationDefer.promise.then(function(arr){toPost=toPost.concat(arr),Rest.setUrl($scope.workflow_job_template_obj.related.labels);for(var defers=[],i=0;i<toPost.length;i++)defers.push(Rest.post(toPost[i]));$q.all(defers).then(function(){$state.go("templates.editWorkflowJobTemplate",{id:id},{reload:!0})})})})},function(error){ProcessErrors($scope,error.data,error.status,form,{hdr:"Error!",msg:"Failed to update workflow job template. PUT returned status: "+error.status})})}catch(err){Wait("stop"),Alert("Error","Error saving workflow job template. Parser returned: "+err)}},$scope.formCancel=function(){$state.transitionTo("templates")},$scope.toggleNotification=function(event,notifier_id,column){var notifier=this.notification;try{$(event.target).tooltip("hide")}catch(e){}ToggleNotification({scope:$scope,url:GetBasePath("workflow_job_templates")+id,notifier:notifier,column:column,callback:"NotificationRefresh"})},$scope.removeSurveySaved&&$scope.removeSurveySaved(),$scope.removeSurveySaved=$scope.$on("SurveySaved",function(){Wait("stop"),$scope.survey_exists=!0,$scope.invalid_survey=!1}),init()}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _labelsList=__webpack_require__(682),_labelsList2=_interopRequireDefault(_labelsList);
exports.default=angular.module("labels",[]).directive("labelsList",_labelsList2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl","Wait","Rest","GetBasePath","ProcessErrors","Prompt","$q","$filter","$state",function(templateUrl,Wait,Rest,GetBasePath,ProcessErrors,Prompt,$q,$filter,$state){return{restrict:"E",scope:!1,templateUrl:templateUrl("templates/labels/labelsList"),link:function(scope,element,attrs){scope.showDelete="true"===attrs.showDelete,scope.seeMoreInactive=!0;var getNext=function getNext(data,arr,resolve){Rest.setUrl(data.next),Rest.get().success(function(data){data.next?getNext(data,arr.concat(data.results),resolve):resolve.resolve(arr.concat(data.results))})};scope.seeMore=function(){var seeMoreResolve=$q.defer();Rest.setUrl(scope[scope.$parent.list.iterator].related.labels),Rest.get().success(function(data){data.next?getNext(data,data.results,seeMoreResolve):seeMoreResolve.resolve(data.results)}),seeMoreResolve.promise.then(function(labels){scope.labels=labels,scope.seeMoreInactive=!1})},scope.seeLess=function(){scope.labels=scope.labels.slice(0,10),scope.seeMoreInactive=!0},scope.deleteLabel=function(template,label){var action=function(){$("#prompt-modal").modal("hide"),scope.seeMoreInactive=!0,Wait("start");var url=void 0;"job_template"===template.type?url=GetBasePath("job_templates")+template.id+"/labels/":"workflow_job_template"===template.type&&(url=GetBasePath("workflow_job_templates")+template.id+"/labels/"),url&&(Rest.setUrl(url),Rest.post({disassociate:!0,id:label.id}).success(function(){Wait("stop"),$state.go(".",null,{reload:!0})}).error(function(data,status){Wait("stop"),ProcessErrors(scope,data,status,null,{hdr:"Error!",msg:"Could not disassociate label from JT.  Call to "+url+" failed. DELETE returned status: "+status})}))};Prompt({hdr:"Remove Label from "+template.name,body:'<div class="Prompt-bodyQuery">Confirm  the removal of the <span class="Prompt-emphasis">'+$filter("sanitize")(label.name)+"</span> label.</div>",action:action,actionText:"REMOVE"})},scope.$watchCollection(scope.$parent.list.iterator,function(){scope[scope.$parent.list.iterator].summary_fields.labels?(scope.labels=scope[scope.$parent.list.iterator].summary_fields.labels.results,scope.count=scope[scope.$parent.list.iterator].summary_fields.labels.count):(scope.labels=null,scope.count=null)})}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _workflowChart=__webpack_require__(684),_workflowChart2=_interopRequireDefault(_workflowChart);exports.default=angular.module("workflowChart",[]).directive("workflowChart",_workflowChart2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$state","moment","$timeout","$window",function($state,moment,$timeout,$window){return{scope:{treeData:"=",canAddWorkflowJobTemplate:"=",workflowJobTemplateObj:"=",addNode:"&",editNode:"&",deleteNode:"&",workflowZoomed:"&",mode:"@"},restrict:"E",link:function(scope,element){function init(){tree=d3.layout.tree().nodeSize([nodeH+verticalSpaceBetweenNodes,nodeW]).separation(function(a,b){return a.parent===b.parent?1:1.25}),line=d3.svg.line().x(function(d){return d.x}).y(function(d){return d.y}),zoomObj=d3.behavior.zoom().scaleExtent([.5,2]),baseSvg=d3.select(element[0]).append("svg").attr("class","WorkflowChart-svg").call(zoomObj.on("zoom",naturalZoom)),svgGroup=baseSvg.append("g").attr("transform","translate("+margin.left+","+(windowHeight/2-rootH/2-startNodeOffsetY)+")")}function calcAvailableScreenSpace(){var dimensions={};if("details"!==scope.mode)dimensions.height=$(".WorkflowMaker-contentLeft").outerHeight()-$(".WorkflowLegend-maker").outerHeight(),dimensions.width=$("#workflow-modal-dialog").width()-$(".WorkflowMaker-contentRight").outerWidth();else{var panel=$(".WorkflowResults-rightSide").children(".Panel")[0],panelWidth=$(panel).width(),panelHeight=$(panel).height(),headerHeight=$(".StandardOut-panelHeader").outerHeight(),legendHeight=$(".WorkflowLegend-details").outerHeight(),proposedHeight=panelHeight-headerHeight-legendHeight-40;dimensions.height=proposedHeight>200?proposedHeight:200,dimensions.width=panelWidth}return dimensions}function lineData(d){var sourceX=d.source.isStartNode?d.source.y+rootW:d.source.y+nodeW,sourceY=d.source.isStartNode?d.source.x+startNodeOffsetY+rootH/2:d.source.x+nodeH/2,targetX=d.target.y,targetY=d.target.x+nodeH/2,points=[{x:sourceX,y:sourceY},{x:targetX,y:targetY}];return line(points)}function wrap(text){return text&&text.length>maxNodeTextLength?text.substring(0,maxNodeTextLength)+"...":text}function rounded_rect(x,y,w,h,r,tl,tr,bl,br){var retval;return retval="M"+(x+r)+","+y,retval+="h"+(w-2*r),tr?retval+="a"+r+","+r+" 0 0 1 "+r+","+r:(retval+="h"+r,retval+="v"+r),retval+="v"+(h-2*r),br?retval+="a"+r+","+r+" 0 0 1 "+-r+","+r:(retval+="v"+r,retval+="h"+-r),retval+="h"+(2*r-w),bl?retval+="a"+r+","+r+" 0 0 1 "+-r+","+-r:(retval+="h"+-r,retval+="v"+-r),retval+="v"+(2*r-h),tl?retval+="a"+r+","+r+" 0 0 1 "+r+","+-r:(retval+="v"+-r,retval+="h"+r),retval+="z"}function naturalZoom(){var scale=d3.event.scale,translation=d3.event.translate;translation=[translation[0]+margin.left*scale,translation[1]+(windowHeight/2-rootH/2-startNodeOffsetY)*scale],svgGroup.attr("transform","translate("+translation+")scale("+scale+")"),scope.workflowZoomed({zoom:scale})}function manualZoom(zoom){var scale=zoom/100,translation=zoomObj.translate(),origZoom=zoomObj.scale(),unscaledOffsetX=(translation[0]+(windowWidth*origZoom-windowWidth)/2)/origZoom,unscaledOffsetY=(translation[1]+(windowHeight*origZoom-windowHeight)/2)/origZoom,translateX=unscaledOffsetX*scale-(scale*windowWidth-windowWidth)/2,translateY=unscaledOffsetY*scale-(scale*windowHeight-windowHeight)/2;svgGroup.attr("transform","translate("+[translateX+margin.left*scale,translateY+(windowHeight/2-rootH/2-startNodeOffsetY)*scale]+")scale("+scale+")"),zoomObj.scale(scale),zoomObj.translate([translateX,translateY])}function manualPan(direction){var scale=zoomObj.scale(),distance=150*scale,translateX=void 0,translateY=void 0,translateCoords=zoomObj.translate();"left"===direction||"right"===direction?(translateX="left"===direction?translateCoords[0]-distance:translateCoords[0]+distance,translateY=translateCoords[1]):"up"!==direction&&"down"!==direction||(translateX=translateCoords[0],translateY="up"===direction?translateCoords[1]-distance:translateCoords[1]+distance),svgGroup.attr("transform","translate("+translateX+","+(translateY+(windowHeight/2-rootH/2-startNodeOffsetY)*scale)+")scale("+scale+")"),zoomObj.translate([translateX,translateY])}function resetZoomAndPan(){svgGroup.attr("transform","translate("+margin.left+","+(windowHeight/2-rootH/2-startNodeOffsetY)+")scale(1)"),zoomObj.scale(1),zoomObj.translate([0,0])}function update(){var userCanAddEdit=scope.workflowJobTemplateObj&&scope.workflowJobTemplateObj.summary_fields&&scope.workflowJobTemplateObj.summary_fields.user_capabilities&&scope.workflowJobTemplateObj.summary_fields.user_capabilities.edit||scope.canAddWorkflowJobTemplate;if(scope.dimensionsSet){var nodes=tree.nodes(scope.treeData),links=tree.links(nodes),node=svgGroup.selectAll("g.node").data(nodes,function(d){return d.y=240*d.depth,d.id||(d.id=++i)}),nodeEnter=node.enter().append("g").attr("class","node").attr("id",function(d){return"node-"+d.id}).attr("parent",function(d){return d.parent?d.parent.id:null}).attr("transform",function(d){return"translate("+d.y+","+d.x+")"});nodeEnter.each(function(d){var thisNode=d3.select(this);d.isStartNode&&"details"===scope.mode?(rootW=25,rootH=25,thisNode.append("rect").attr("width",rootW).attr("height",rootH).attr("y",startNodeOffsetY).attr("rx",5).attr("ry",5).attr("fill","#337ab7").attr("class","WorkflowChart-rootNode")):d.isStartNode&&"details"!==scope.mode?(thisNode.append("rect").attr("width",rootW).attr("height",rootH).attr("y",10).attr("rx",5).attr("ry",5).attr("fill","#5cb85c").attr("class","WorkflowChart-rootNode").call(add_node),thisNode.append("text").attr("x",13).attr("y",30).attr("dy",".35em").attr("class","WorkflowChart-startText").text(function(){return"START"}).call(add_node)):(thisNode.append("rect").attr("width",nodeW).attr("height",nodeH).attr("rx",5).attr("ry",5).attr("stroke",function(d){return d.job&&d.job.status?"successful"===d.job.status?"#5cb85c":"failed"===d.job.status||"error"===d.job.status||"cancelled"===d.job.status?"#d9534f":"#D7D7D7":"#D7D7D7"}).attr("stroke-width","2px").attr("class",function(d){return d.placeholder?"rect placeholder":"rect"}),thisNode.append("path").attr("d",rounded_rect(1,0,5,nodeH,5,1,0,1,0)).attr("class","WorkflowChart-activeNode").style("display",function(d){return d.isActiveEdit?null:"none"}),thisNode.append("text").attr("x",function(d){return"details"===scope.mode&&d.job&&d.job.status?20:nodeW/2}).attr("y",function(d){return"details"===scope.mode&&d.job&&d.job.status?10:nodeH/2}).attr("dy",".35em").attr("text-anchor",function(d){return"details"===scope.mode&&d.job&&d.job.status?"inherit":"middle"}).attr("class","WorkflowChart-defaultText WorkflowChart-nameText").text(function(d){return d.unifiedJobTemplate&&d.unifiedJobTemplate.name?d.unifiedJobTemplate.name:""}).each(wrap),thisNode.append("foreignObject").attr("x",43).attr("y",45).style("font-size","0.7em").attr("class","WorkflowChart-conflictText").html(function(){return'<span class="WorkflowChart-conflictIcon"></span><span> EDGE CONFLICT</span>'}).style("display",function(d){return d.edgeConflict&&!d.placeholder?null:"none"}),thisNode.append("foreignObject").attr("x",17).attr("y",22).attr("dy",".35em").attr("text-anchor","middle").attr("class","WorkflowChart-defaultText WorkflowChart-incompleteText").html(function(){return'<span class="WorkflowChart-incompleteIcon"></span><span> INCOMPLETE</span>'}).style("display",function(d){return d.unifiedJobTemplate||d.placeholder?"none":null}),thisNode.append("circle").attr("cy",nodeH).attr("r",10).attr("class","WorkflowChart-nodeTypeCircle").style("display",function(d){return!d.unifiedJobTemplate||"project"!==d.unifiedJobTemplate.type&&"project_update"!==d.unifiedJobTemplate.unified_job_type&&"inventory_source"!==d.unifiedJobTemplate.type&&"inventory_update"!==d.unifiedJobTemplate.unified_job_type?"none":null}),thisNode.append("text").attr("y",nodeH).attr("dy",".35em").attr("text-anchor","middle").attr("class","WorkflowChart-nodeTypeLetter").text(function(d){return!d.unifiedJobTemplate||"project"!==d.unifiedJobTemplate.type&&"project_update"!==d.unifiedJobTemplate.unified_job_type?!d.unifiedJobTemplate||"inventory_source"!==d.unifiedJobTemplate.type&&"inventory_update"!==d.unifiedJobTemplate.unified_job_type?"":"I":"P"}).style("display",function(d){return!d.unifiedJobTemplate||"project"!==d.unifiedJobTemplate.type&&"project_update"!==d.unifiedJobTemplate.unified_job_type&&"inventory_source"!==d.unifiedJobTemplate.type&&"inventory_update"!==d.unifiedJobTemplate.unified_job_type?"none":null}),thisNode.append("rect").attr("width",nodeW).attr("height",nodeH).attr("class","transparentRect").call(edit_node).on("mouseover",function(d){d.isStartNode||!function(){var resourceName=d.unifiedJobTemplate&&d.unifiedJobTemplate.name?d.unifiedJobTemplate.name:"";if(resourceName&&resourceName.length>maxNodeTextLength){svgGroup.selectAll("g.node").each(function(){this.parentNode.appendChild(this)}),svgGroup.selectAll("g.node").sort(function(a){return a.id!==d.id?-1:1});var tooltipDimensionChecker=$("<div style='visibility:hidden;font-size:12px;position:absolute;' class='WorkflowChart-tooltipContents'><span>"+resourceName+"</span></div>");$("body").append(tooltipDimensionChecker);var tipWidth=$(tooltipDimensionChecker).outerWidth(),tipHeight=$(tooltipDimensionChecker).outerHeight();$(tooltipDimensionChecker).remove(),thisNode.append("foreignObject").attr("x",nodeW/2-tipWidth/2).attr("y",(tipHeight+15)*-1).attr("width",tipWidth).attr("height",tipHeight+20).attr("class","WorkflowChart-tooltip").html(function(){return"<div class='WorkflowChart-tooltipContents'><span>"+resourceName+"</span></div><div class='WorkflowChart-tooltipArrow'></div>"})}d3.select("#node-"+d.id).classed("hovering",!0)}()}).on("mouseout",function(d){$(".WorkflowChart-tooltip").remove(),d.isStartNode||d3.select("#node-"+d.id).classed("hovering",!1)}),thisNode.append("text").attr("x",nodeW-45).attr("y",nodeH-10).attr("dy",".35em").attr("class","WorkflowChart-detailsLink").style("display",function(d){return d.job&&d.job.status&&d.job.id?null:"none"}).text(function(){return"DETAILS"}).call(details),thisNode.append("circle").attr("id",function(d){return"node-"+d.id+"-add"}).attr("cx",nodeW).attr("r",10).attr("class","addCircle nodeCircle").style("display",function(d){return d.placeholder||!userCanAddEdit?"none":null}).call(add_node).on("mouseover",function(d){d3.select("#node-"+d.id).classed("hovering",!0),d3.select("#node-"+d.id+"-add").classed("addHovering",!0)}).on("mouseout",function(d){d3.select("#node-"+d.id).classed("hovering",!1),d3.select("#node-"+d.id+"-add").classed("addHovering",!1)}),thisNode.append("path").attr("class","nodeAddCross WorkflowChart-hoverPath").style("fill","white").attr("transform",function(){return"translate("+nodeW+",0)"}).attr("d",d3.svg.symbol().size(60).type("cross")).style("display",function(d){return d.placeholder||!userCanAddEdit?"none":null}).call(add_node).on("mouseover",function(d){d3.select("#node-"+d.id).classed("hovering",!0),d3.select("#node-"+d.id+"-add").classed("addHovering",!0)}).on("mouseout",function(d){d3.select("#node-"+d.id).classed("hovering",!1),d3.select("#node-"+d.id+"-add").classed("addHovering",!1)}),thisNode.append("circle").attr("id",function(d){return"node-"+d.id+"-remove"}).attr("cx",nodeW).attr("cy",nodeH).attr("r",10).attr("class","removeCircle").style("display",function(d){return d.canDelete===!1||d.placeholder||!userCanAddEdit?"none":null}).call(remove_node).on("mouseover",function(d){d3.select("#node-"+d.id).classed("hovering",!0),d3.select("#node-"+d.id+"-remove").classed("removeHovering",!0)}).on("mouseout",function(d){d3.select("#node-"+d.id).classed("hovering",!1),d3.select("#node-"+d.id+"-remove").classed("removeHovering",!1)}),thisNode.append("path").attr("class","nodeRemoveCross WorkflowChart-hoverPath").style("fill","white").attr("transform",function(){return"translate("+nodeW+","+nodeH+") rotate(-45)"}).attr("d",d3.svg.symbol().size(60).type("cross")).style("display",function(d){return d.canDelete===!1||d.placeholder||!userCanAddEdit?"none":null}).call(remove_node).on("mouseover",function(d){d3.select("#node-"+d.id).classed("hovering",!0),d3.select("#node-"+d.id+"-remove").classed("removeHovering",!0)}).on("mouseout",function(d){d3.select("#node-"+d.id).classed("hovering",!1),d3.select("#node-"+d.id+"-remove").classed("removeHovering",!1)}),thisNode.append("circle").attr("class",function(d){var statusClass="WorkflowChart-nodeStatus ";if(d.job)switch(d.job.status){case"pending":statusClass+="workflowChart-nodeStatus--running";break;case"waiting":statusClass+="workflowChart-nodeStatus--running";break;case"running":statusClass+="workflowChart-nodeStatus--running";break;case"successful":statusClass+="workflowChart-nodeStatus--success";break;case"failed":statusClass+="workflowChart-nodeStatus--failed";break;case"error":statusClass+="workflowChart-nodeStatus--failed"}return statusClass}).style("display",function(d){return d.job&&d.job.status?null:"none"}).attr("cy",10).attr("cx",10).attr("r",6),thisNode.append("foreignObject").attr("x",5).attr("y",43).style("font-size","0.7em").attr("class","WorkflowChart-elapsed").html(function(d){if(d.job&&d.job.elapsed){var elapsedMs=1e3*d.job.elapsed,elapsedMoment=moment.duration(elapsedMs),paddedElapsedMoment=Math.floor(elapsedMoment.asHours())<10?"0"+Math.floor(elapsedMoment.asHours()):Math.floor(elapsedMoment.asHours()),elapsedString=paddedElapsedMoment+moment.utc(elapsedMs).format(":mm:ss");return'<div class="WorkflowChart-elapsedHolder"><span>'+elapsedString+"</span></div>"}return""}).style("display",function(d){return d.job&&d.job.elapsed?null:"none"}))}),node.exit().remove();var link=svgGroup.selectAll("g.link").data(links,function(d){return d.source.id+"-"+d.target.id}),linkEnter=link.enter().append("g").attr("class","link").attr("id",function(d){return"link-"+d.source.id+"-"+d.target.id});linkEnter.insert("path","g").attr("class",function(d){return d.source.placeholder||d.target.placeholder?"linkPath placeholder":"linkPath"}).attr("d",lineData).attr("stroke",function(d){return d.target.edgeType?"failure"===d.target.edgeType?"#d9534f":"success"===d.target.edgeType?"#5cb85c":"always"===d.target.edgeType?"#337ab7":void 0:"#D7D7D7"}),linkEnter.append("circle").attr("id",function(d){return"link-"+d.source.id+"-"+d.target.id+"-add"}).attr("cx",function(d){return d.source.isStartNode?(d.target.y+d.source.y+rootW)/2:(d.target.y+d.source.y+nodeW)/2}).attr("cy",function(d){return d.source.isStartNode?(d.target.x+startNodeOffsetY+rootH/2+(d.source.x+nodeH/2))/2:(d.target.x+d.source.x+nodeH)/2}).attr("r",10).attr("class","addCircle linkCircle").style("display",function(d){return d.source.placeholder||d.target.placeholder||!userCanAddEdit?"none":null}).call(add_node_between).on("mouseover",function(d){d3.select("#link-"+d.source.id+"-"+d.target.id).classed("hovering",!0),d3.select("#link-"+d.source.id+"-"+d.target.id+"-add").classed("addHovering",!0)}).on("mouseout",function(d){d3.select("#link-"+d.source.id+"-"+d.target.id).classed("hovering",!1),d3.select("#link-"+d.source.id+"-"+d.target.id+"-add").classed("addHovering",!1)}),linkEnter.append("path").attr("class","linkCross").style("fill","white").attr("transform",function(d){var translate=void 0;return translate=d.source.isStartNode?"translate("+(d.target.y+d.source.y+rootW)/2+","+(d.target.x+startNodeOffsetY+rootH/2+(d.source.x+nodeH/2))/2+")":"translate("+(d.target.y+d.source.y+nodeW)/2+","+(d.target.x+d.source.x+nodeH)/2+")"}).attr("d",d3.svg.symbol().size(60).type("cross")).style("display",function(d){return d.source.placeholder||d.target.placeholder||!userCanAddEdit?"none":null}).call(add_node_between).on("mouseover",function(d){d3.select("#link-"+d.source.id+"-"+d.target.id).classed("hovering",!0),d3.select("#link-"+d.source.id+"-"+d.target.id+"-add").classed("addHovering",!0)}).on("mouseout",function(d){d3.select("#link-"+d.source.id+"-"+d.target.id).classed("hovering",!1),d3.select("#link-"+d.source.id+"-"+d.target.id+"-add").classed("addHovering",!1)}),link.exit().remove();var t=baseSvg.transition();t.selectAll(".nodeCircle").style("display",function(d){return d.placeholder||!userCanAddEdit?"none":null}),t.selectAll(".nodeAddCross").style("display",function(d){return d.placeholder||!userCanAddEdit?"none":null}),t.selectAll(".removeCircle").style("display",function(d){return d.canDelete===!1||d.placeholder||!userCanAddEdit?"none":null}),t.selectAll(".nodeRemoveCross").style("display",function(d){return d.canDelete===!1||d.placeholder||!userCanAddEdit?"none":null}),t.selectAll(".linkPath").attr("class",function(d){return d.source.placeholder||d.target.placeholder?"linkPath placeholder":"linkPath"}).attr("d",lineData).attr("stroke",function(d){return d.target.edgeType?"failure"===d.target.edgeType?"#d9534f":"success"===d.target.edgeType?"#5cb85c":"always"===d.target.edgeType?"#337ab7":void 0:"#D7D7D7"}),t.selectAll(".linkCircle").style("display",function(d){return d.source.placeholder||d.target.placeholder||!userCanAddEdit?"none":null}).attr("cx",function(d){return d.source.isStartNode?(d.target.y+d.source.y+rootW)/2:(d.target.y+d.source.y+nodeW)/2}).attr("cy",function(d){return d.source.isStartNode?(d.target.x+startNodeOffsetY+rootH/2+(d.source.x+nodeH/2))/2:(d.target.x+d.source.x+nodeH)/2}),t.selectAll(".linkCross").style("display",function(d){return d.source.placeholder||d.target.placeholder||!userCanAddEdit?"none":null}).attr("transform",function(d){var translate=void 0;return translate=d.source.isStartNode?"translate("+(d.target.y+d.source.y+rootW)/2+","+(d.target.x+startNodeOffsetY+rootH/2+(d.source.x+nodeH/2))/2+")":"translate("+(d.target.y+d.source.y+nodeW)/2+","+(d.target.x+d.source.x+nodeH)/2+")"}),t.selectAll(".rect").attr("stroke",function(d){return d.job&&d.job.status?"successful"===d.job.status?"#5cb85c":"failed"===d.job.status||"error"===d.job.status||"cancelled"===d.job.status?"#d9534f":"#D7D7D7":"#D7D7D7"}).attr("class",function(d){return d.placeholder?"rect placeholder":"rect"}),t.selectAll(".node").attr("parent",function(d){return d.parent?d.parent.id:null}).attr("transform",function(d){return d.px=d.x,d.py=d.y,"translate("+d.y+","+d.x+")"}),t.selectAll(".WorkflowChart-nodeTypeCircle").style("display",function(d){return!d.unifiedJobTemplate||"project"!==d.unifiedJobTemplate.type&&"project_update"!==d.unifiedJobTemplate.unified_job_type&&"inventory_source"!==d.unifiedJobTemplate.type&&"inventory_update"!==d.unifiedJobTemplate.unified_job_type?"none":null}),t.selectAll(".WorkflowChart-nodeTypeLetter").text(function(d){return!d.unifiedJobTemplate||"project"!==d.unifiedJobTemplate.type&&"project_update"!==d.unifiedJobTemplate.unified_job_type?!d.unifiedJobTemplate||"inventory_source"!==d.unifiedJobTemplate.type&&"inventory_update"!==d.unifiedJobTemplate.unified_job_type?"":"I":"P"}).style("display",function(d){return!d.unifiedJobTemplate||"project"!==d.unifiedJobTemplate.type&&"project_update"!==d.unifiedJobTemplate.unified_job_type&&"inventory_source"!==d.unifiedJobTemplate.type&&"inventory_update"!==d.unifiedJobTemplate.unified_job_type?"none":null}),t.selectAll(".WorkflowChart-nodeStatus").attr("class",function(d){var statusClass="WorkflowChart-nodeStatus ";if(d.job)switch(d.job.status){case"pending":statusClass+="workflowChart-nodeStatus--running";break;case"waiting":statusClass+="workflowChart-nodeStatus--running";break;case"running":statusClass+="workflowChart-nodeStatus--running";break;case"successful":statusClass+="workflowChart-nodeStatus--success";break;case"failed":statusClass+="workflowChart-nodeStatus--failed";break;case"error":statusClass+="workflowChart-nodeStatus--failed"}return statusClass}).style("display",function(d){return d.job&&d.job.status?null:"none"}).transition().duration(0).attr("r",6).each(function(d){if(d.job&&d.job.status&&("pending"===d.job.status||"waiting"===d.job.status||"running"===d.job.status)){var circle=d3.select(this);!function repeat(){circle=circle.transition().duration(2e3).attr("r",6).transition().duration(2e3).attr("r",0).ease("sine").each("end",repeat)}()}}),t.selectAll(".WorkflowChart-nameText").attr("x",function(d){return"details"===scope.mode&&d.job&&d.job.status?20:nodeW/2}).attr("y",function(d){return"details"===scope.mode&&d.job&&d.job.status?10:nodeH/2}).attr("text-anchor",function(d){return"details"===scope.mode&&d.job&&d.job.status?"inherit":"middle"}).text(function(d){return d.unifiedJobTemplate&&d.unifiedJobTemplate.name?wrap(d.unifiedJobTemplate.name):""}),t.selectAll(".WorkflowChart-detailsLink").style("display",function(d){return d.job&&d.job.status&&d.job.id?null:"none"}),t.selectAll(".WorkflowChart-incompleteText").style("display",function(d){return d.unifiedJobTemplate||d.placeholder?"none":null}),t.selectAll(".WorkflowChart-conflictText").style("display",function(d){return d.edgeConflict&&!d.placeholder?null:"none"}),t.selectAll(".WorkflowChart-activeNode").style("display",function(d){return d.isActiveEdit?null:"none"}),t.selectAll(".WorkflowChart-elapsed").style("display",function(d){return d.job&&d.job.elapsed?null:"none"})}else scope.watchDimensionsSet||(scope.watchDimensionsSet=scope.$watch("dimensionsSet",function(){scope.dimensionsSet&&(scope.watchDimensionsSet(),scope.watchDimensionsSet=null,update())}))}function add_node(){this.on("click",function(d){(scope.workflowJobTemplateObj&&scope.workflowJobTemplateObj.summary_fields&&scope.workflowJobTemplateObj.summary_fields.user_capabilities&&scope.workflowJobTemplateObj.summary_fields.user_capabilities.edit||scope.canAddWorkflowJobTemplate)&&scope.addNode({parent:d,betweenTwoNodes:!1})})}function add_node_between(){this.on("click",function(d){(scope.workflowJobTemplateObj&&scope.workflowJobTemplateObj.summary_fields&&scope.workflowJobTemplateObj.summary_fields.user_capabilities&&scope.workflowJobTemplateObj.summary_fields.user_capabilities.edit||scope.canAddWorkflowJobTemplate)&&scope.addNode({parent:d,betweenTwoNodes:!0})})}function remove_node(){this.on("click",function(d){(scope.workflowJobTemplateObj&&scope.workflowJobTemplateObj.summary_fields&&scope.workflowJobTemplateObj.summary_fields.user_capabilities&&scope.workflowJobTemplateObj.summary_fields.user_capabilities.edit||scope.canAddWorkflowJobTemplate)&&scope.deleteNode({nodeToDelete:d})})}function edit_node(){this.on("click",function(d){d.canEdit&&scope.editNode({nodeToEdit:d})})}function details(){this.on("mouseover",function(){d3.select(this).style("text-decoration","underline")}),this.on("mouseout",function(){d3.select(this).style("text-decoration",null)}),this.on("click",function(d){d.job.id&&d.unifiedJobTemplate&&("job"===d.unifiedJobTemplate.unified_job_type?$state.go("jobDetail",{id:d.job.id}):"inventory_update"===d.unifiedJobTemplate.unified_job_type?$state.go("inventorySyncStdout",{id:d.job.id}):"project_update"===d.unifiedJobTemplate.unified_job_type&&$state.go("scmUpdateStdout",{id:d.job.id}))})}function onResize(){var dimensions=calcAvailableScreenSpace();$(".WorkflowMaker-chart").css("width",dimensions.width),$(".WorkflowMaker-chart").css("height",dimensions.height)}function cleanUpResize(){angular.element($window).off("resize",onResize)}var margin={top:20,right:20,bottom:20,left:20},i=0,nodeW=180,nodeH=60,rootW=60,rootH=40,startNodeOffsetY="details"===scope.mode?17:10,verticalSpaceBetweenNodes=20,maxNodeTextLength=27,windowHeight=void 0,windowWidth=void 0,tree=void 0,line=void 0,zoomObj=void 0,baseSvg=void 0,svgGroup=void 0;scope.dimensionsSet=!1,$timeout(function(){var dimensions=calcAvailableScreenSpace();windowHeight=dimensions.height,windowWidth=dimensions.width,$(".WorkflowMaker-chart").css("height",windowHeight),$(".WorkflowMaker-chart").css("width",windowWidth),scope.dimensionsSet=!0,init()}),scope.$watch("canAddWorkflowJobTemplate",function(){scope.treeData&&update()}),scope.$on("refreshWorkflowChart",function(){scope.treeData&&update()}),scope.$on("panWorkflowChart",function(evt,params){manualPan(params.direction)}),scope.$on("resetWorkflowChart",function(){resetZoomAndPan()}),scope.$on("zoomWorkflowChart",function(evt,params){manualZoom(params.zoom)});var clearWatchTreeData=scope.$watch("treeData",function(newVal){newVal&&(update(),clearWatchTreeData())});"details"===scope.mode?(angular.element($window).on("resize",onResize),scope.$on("$destroy",cleanUpResize),scope.$on("workflowDetailsResized",function(){$(".WorkflowMaker-chart").hide(),$timeout(function(){onResize(),$(".WorkflowMaker-chart").show()})})):scope.$on("workflowMakerModalResized",function(){var dimensions=calcAvailableScreenSpace();$(".WorkflowMaker-chart").css("width",dimensions.width),$(".WorkflowMaker-chart").css("height",dimensions.height)})}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _workflowMaker=__webpack_require__(686),_workflowMaker2=_interopRequireDefault(_workflowMaker),_workflowMaker3=__webpack_require__(687),_workflowMaker4=_interopRequireDefault(_workflowMaker3);exports.default=angular.module("templates.workflowMaker",[]).controller("WorkflowMakerController",_workflowMaker4.default).directive("workflowMaker",_workflowMaker2.default)},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _workflowMaker=__webpack_require__(687),_workflowMaker2=_interopRequireDefault(_workflowMaker);exports.default=["templateUrl","CreateDialog","Wait","$state","$window",function(templateUrl,CreateDialog,Wait,$state,$window){return{scope:{workflowJobTemplateObj:"=",canAddWorkflowJobTemplate:"="},restrict:"E",templateUrl:templateUrl("templates/workflows/workflow-maker/workflow-maker"),controller:_workflowMaker2.default,link:function(scope){function onResize(){availableHeight=$(window).height(),availableWidth=$(window).width(),$("#workflow-modal-dialog").parent(".ui-dialog").height(availableHeight>minimumHeight?availableHeight:minimumHeight),$("#workflow-modal-dialog").parent(".ui-dialog").width(availableWidth>minimumWidth?availableWidth:minimumWidth),$("#workflow-modal-dialog").outerHeight(availableHeight>minimumHeight?availableHeight:minimumHeight),$("#workflow-modal-dialog").outerWidth(availableWidth>minimumWidth?availableWidth:minimumWidth),scope.$broadcast("workflowMakerModalResized")}function cleanUpResize(){angular.element($window).off("resize",onResize)}var availableHeight=$(window).height(),availableWidth=$(window).width(),minimumWidth=1300,minimumHeight=550;CreateDialog({id:"workflow-modal-dialog",scope:scope,width:availableWidth>minimumWidth?availableWidth:minimumWidth,height:availableHeight>minimumHeight?availableHeight:minimumHeight,draggable:!1,dialogClass:"SurveyMaker-dialog",position:["center",20],onClose:function(){$("#workflow-modal-dialog").empty()},onOpen:function(){Wait("stop"),$("#workflow-modal-dialog").css({padding:"20px"}),$("#workflow-modal-dialog").parent(".ui-dialog").height(availableHeight>minimumHeight?availableHeight:minimumHeight),$("#workflow-modal-dialog").parent(".ui-dialog").width(availableWidth>minimumWidth?availableWidth:minimumWidth),$("#workflow-modal-dialog").outerHeight(availableHeight>minimumHeight?availableHeight:minimumHeight),$("#workflow-modal-dialog").outerWidth(availableWidth>minimumWidth?availableWidth:minimumWidth)},_allowInteraction:function(e){return!!$(e.target).is(".select2-input")||this._super(e)},callback:"WorkflowDialogReady"}),scope.removeWorkflowDialogReady&&scope.removeWorkflowDialogReady(),scope.removeWorkflowDialogReady=scope.$on("WorkflowDialogReady",function(){$("#workflow-modal-dialog").dialog("open"),scope.$broadcast("refreshWorkflowChart")}),scope.closeDialog=function(){$("#workflow-modal-dialog").dialog("destroy"),$state.go("^")},angular.element($window).on("resize",onResize),scope.$on("$destroy",cleanUpResize)}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","WorkflowService","generateList","TemplateList","ProjectList","GetBasePath","Wait","TemplatesService","$state","ProcessErrors","InventorySourcesList","CreateSelect2","WorkflowMakerForm","GenerateForm","InventoryList","CredentialList","$q",function($scope,WorkflowService,GenerateList,TemplateList,ProjectList,GetBasePath,Wait,TemplatesService,$state,ProcessErrors,InventorySourcesList,CreateSelect2,WorkflowMakerForm,GenerateForm,InventoryList,CredentialList,$q){function init(){var allNodes=[],page=1,buildTreeFromNodes=function(){WorkflowService.buildTree({workflowNodes:allNodes}).then(function(data){$scope.treeData=data,$scope.treeData.data.children||($scope.treeData.data.children=[]),$scope.treeData.workflow_job_template_obj=$scope.workflowJobTemplateObj,$scope.treeDataMaster=angular.copy($scope.treeData.data),$scope.showManualControls=!1})},getNodes=function getNodes(){TemplatesService.getWorkflowJobTemplateNodes($scope.workflowJobTemplateObj.id,page).then(function(data){for(var i=0;i<data.data.results.length;i++)allNodes.push(data.data.results[i]);
data.data.next?(page++,getNodes()):buildTreeFromNodes()},function(error){ProcessErrors($scope,error.data,error.status,form,{hdr:"Error!",msg:"Failed to get workflow job template nodes. GET returned status: "+error.status})})};getNodes()}function resetNodeForm(){$scope.workflowMakerFormConfig.nodeMode="idle",$scope.edgeFlags.showTypeOptions=!1,delete $scope.selectedTemplate,delete $scope.placeholderNode,delete $scope.betweenTwoNodes,$scope.nodeBeingEdited=null,$scope.edgeFlags.typeRestriction=null,$scope.workflowMakerFormConfig.activeTab="jobs",$scope.$broadcast("clearWorkflowLists")}function recursiveNodeUpdates(params,completionCallback){var generatePostUrl=function(){var base=params.parentId?GetBasePath("workflow_job_template_nodes")+params.parentId:$scope.treeData.workflow_job_template_obj.related.workflow_nodes;return params.parentId&&("success"===params.node.edgeType?base+="/success_nodes":"failure"===params.node.edgeType?base+="/failure_nodes":"always"===params.node.edgeType&&(base+="/always_nodes")),base},buildSendableNodeData=function(){var sendableNodeData={unified_job_template:params.node.unifiedJobTemplate.id};return"job_template"===params.node.unifiedJobTemplate.type&&params.node.promptValues&&(params.node.unifiedJobTemplate.ask_credential_on_launch&&(sendableNodeData.credential=params.node.promptValues.credential&&params.node.unifiedJobTemplate.summary_fields.credential.id===params.node.promptValues.credential.id?null:params.node.promptValues.credential.id),params.node.unifiedJobTemplate.ask_inventory_on_launch&&(sendableNodeData.inventory=params.node.promptValues.inventory&&params.node.unifiedJobTemplate.summary_fields.inventory.id===params.node.promptValues.inventory.id?null:params.node.promptValues.inventory.id),params.node.unifiedJobTemplate.ask_limit_on_launch&&(sendableNodeData.limit=params.node.promptValues.limit&&params.node.unifiedJobTemplate.limit===params.node.promptValues.limit?null:params.node.promptValues.limit),params.node.unifiedJobTemplate.ask_job_type_on_launch&&(sendableNodeData.job_type=params.node.promptValues.job_type&&params.node.unifiedJobTemplate.job_type===params.node.promptValues.job_type?null:params.node.promptValues.job_type),params.node.unifiedJobTemplate.ask_tags_on_launch&&(sendableNodeData.job_tags=params.node.promptValues.job_tags&&params.node.unifiedJobTemplate.job_tags===params.node.promptValues.job_tags?null:params.node.promptValues.job_tags),params.node.unifiedJobTemplate.ask_skip_tags_on_launch&&(sendableNodeData.skip_tags=params.node.promptValues.skip_tags&&params.node.unifiedJobTemplate.skip_tags===params.node.promptValues.skip_tags?null:params.node.promptValues.skip_tags)),sendableNodeData},continueRecursing=function(parentId){$scope.totalIteratedNodes++,$scope.totalIteratedNodes===$scope.treeData.data.totalNodes?completionCallback():params.node.children&&params.node.children.length>0&&_.forEach(params.node.children,function(child){"success"===child.edgeType?recursiveNodeUpdates({parentId:parentId,node:child},completionCallback):"failure"===child.edgeType?recursiveNodeUpdates({parentId:parentId,node:child},completionCallback):"always"===child.edgeType&&recursiveNodeUpdates({parentId:parentId,node:child},completionCallback)})};params.node.isNew?TemplatesService.addWorkflowNode({url:generatePostUrl(),data:buildSendableNodeData()}).then(function(data){params.node.isNew=!1,continueRecursing(data.data.id)},function(error){ProcessErrors($scope,error.data,error.status,form,{hdr:"Error!",msg:"Failed to add workflow node. POST returned status: "+error.status})}):((params.node.edited||!params.node.originalParentId||params.node.originalParentId&&params.parentId!==params.node.originalParentId)&&(params.node.edited&&$scope.editRequests.push({id:params.node.nodeId,data:buildSendableNodeData()}),params.node.originalParentId&&params.parentId!==params.node.originalParentId||params.node.originalEdge!==params.node.edgeType?($scope.disassociateRequests.push({parentId:params.node.originalParentId,nodeId:params.node.nodeId,edge:params.node.originalEdge}),params.parentId&&$scope.associateRequests.push({parentId:params.parentId,nodeId:params.node.nodeId,edge:params.node.edgeType})):!params.node.originalParentId&&params.parentId&&$scope.associateRequests.push({parentId:params.parentId,nodeId:params.node.nodeId,edge:params.node.edgeType})),continueRecursing(params.node.nodeId))}function resetDeleteNode(){$scope.nodeToBeDeleted=null,$scope.deleteOverlayVisible=!1}function resetEdgeConflict(){$scope.edgeFlags.conflict=!1,WorkflowService.checkForEdgeConflicts({treeData:$scope.treeData.data,edgeFlags:$scope.edgeFlags})}var form=WorkflowMakerForm();$scope.workflowMakerFormConfig={nodeMode:"idle",activeTab:"jobs",formIsValid:!1},$scope.job_type_options=[{label:"Run",value:"run"},{label:"Check",value:"check"}],$scope.edgeFlags={conflict:!1,typeRestriction:null,showTypeOptions:!1},$scope.editRequests=[],$scope.associateRequests=[],$scope.disassociateRequests=[],$scope.lookUpInventory=function(){$state.go(".inventory")},$scope.lookUpCredential=function(){$state.go(".credential")},$scope.closeWorkflowMaker=function(){$scope.treeData.data=angular.copy($scope.treeDataMaster),$scope.closeDialog()},$scope.saveWorkflowMaker=function(){if($scope.totalIteratedNodes=0,$scope.treeData&&$scope.treeData.data&&$scope.treeData.data.children&&$scope.treeData.data.children.length>0)!function(){var completionCallback=function(){var disassociatePromises=$scope.disassociateRequests.map(function(request){return TemplatesService.disassociateWorkflowNode({parentId:request.parentId,nodeId:request.nodeId,edge:request.edge})}),editNodePromises=$scope.editRequests.map(function(request){return TemplatesService.editWorkflowNode({id:request.id,data:request.data})}),deletePromises=$scope.treeData.data.deletedNodes.map(function(nodeId){return TemplatesService.deleteWorkflowJobTemplateNode(nodeId)});$q.all(disassociatePromises.concat(editNodePromises,deletePromises)).then(function(){var associatePromises=$scope.associateRequests.map(function(request){return TemplatesService.associateWorkflowNode({parentId:request.parentId,nodeId:request.nodeId,edge:request.edge})});$q.all(associatePromises).then(function(){$scope.closeDialog()})})};_.forEach($scope.treeData.data.children,function(child){recursiveNodeUpdates({node:child},completionCallback)})}();else{var deletePromises=$scope.treeData.data.deletedNodes.map(function(nodeId){return TemplatesService.deleteWorkflowJobTemplateNode(nodeId)});$q.all(deletePromises).then(function(){$scope.closeDialog()})}},$scope.startAddNode=function(parent,betweenTwoNodes){($scope.placeholderNode||$scope.nodeBeingEdited)&&$scope.cancelNodeForm(),$scope.workflowMakerFormConfig.nodeMode="add",$scope.addParent=parent,$scope.betweenTwoNodes=betweenTwoNodes,$scope.placeholderNode=WorkflowService.addPlaceholderNode({parent:parent,betweenTwoNodes:betweenTwoNodes,tree:$scope.treeData.data,id:$scope.treeData.nextIndex}),$scope.treeData.nextIndex++;var siblingConnectionTypes=WorkflowService.getSiblingConnectionTypes({tree:$scope.treeData.data,parentId:betweenTwoNodes?parent.source.id:parent.id,childId:$scope.placeholderNode.id}),edgeType="success";parent&&(betweenTwoNodes&&parent.source.isStartNode||!betweenTwoNodes&&parent.isStartNode)?(edgeType="always",$scope.edgeFlags.showTypeOptions=!1):((_.includes(siblingConnectionTypes,"success")||_.includes(siblingConnectionTypes,"failure"))&&_.includes(siblingConnectionTypes,"always")?$scope.edgeFlags.typeRestriction=null:_.includes(siblingConnectionTypes,"success")||_.includes(siblingConnectionTypes,"failure")?($scope.edgeFlags.typeRestriction="successFailure",edgeType="success"):_.includes(siblingConnectionTypes,"always")?($scope.edgeFlags.typeRestriction="always",edgeType="always"):$scope.edgeFlags.typeRestriction=null,$scope.edgeFlags.showTypeOptions=!0),resetEdgeConflict(),$scope.$broadcast("setEdgeType",edgeType),$scope.$broadcast("refreshWorkflowChart")},$scope.confirmNodeForm=function(formValues){"add"===$scope.workflowMakerFormConfig.nodeMode?$scope.selectedTemplate&&formValues.edgeType&&($scope.placeholderNode.unifiedJobTemplate=$scope.selectedTemplate,$scope.placeholderNode.edgeType=formValues.edgeType,"job_template"===$scope.placeholderNode.unifiedJobTemplate.type&&($scope.placeholderNode.promptValues={credential:{id:formValues.credential,name:formValues.credential_name},inventory:{id:formValues.inventory,name:formValues.inventory_name},limit:formValues.limit,job_type:formValues.job_type&&formValues.job_type.value?formValues.job_type.value:null,job_tags:formValues.job_tags,skip_tags:formValues.skip_tags}),$scope.placeholderNode.canEdit=!0,delete $scope.placeholderNode.placeholder,resetNodeForm(),$scope.treeData.data.totalNodes++):"edit"===$scope.workflowMakerFormConfig.nodeMode&&$scope.selectedTemplate&&formValues.edgeType&&($scope.nodeBeingEdited.unifiedJobTemplate=$scope.selectedTemplate,$scope.nodeBeingEdited.edgeType=formValues.edgeType,"job_template"===$scope.nodeBeingEdited.unifiedJobTemplate.type&&($scope.nodeBeingEdited.promptValues={credential:{id:formValues.credential,name:formValues.credential_name},inventory:{id:formValues.inventory,name:formValues.inventory_name},limit:formValues.limit,job_type:formValues.job_type&&formValues.job_type.value?formValues.job_type.value:null,job_tags:formValues.job_tags,skip_tags:formValues.skip_tags}),$scope.nodeBeingEdited.isActiveEdit=!1,$scope.nodeBeingEdited.edited=!0,resetNodeForm()),resetEdgeConflict(),$scope.$broadcast("refreshWorkflowChart")},$scope.cancelNodeForm=function(){"add"===$scope.workflowMakerFormConfig.nodeMode?WorkflowService.removeNodeFromTree({tree:$scope.treeData.data,nodeToBeDeleted:$scope.placeholderNode}):"edit"===$scope.workflowMakerFormConfig.nodeMode&&($scope.nodeBeingEdited.isActiveEdit=!1),resetEdgeConflict(),resetNodeForm(),$scope.$broadcast("refreshWorkflowChart")},$scope.startEditNode=function(nodeToEdit){(!$scope.nodeBeingEdited||$scope.nodeBeingEdited&&$scope.nodeBeingEdited.id!==nodeToEdit.id)&&!function(){($scope.placeholderNode||$scope.nodeBeingEdited)&&($scope.cancelNodeForm(),nodeToEdit=WorkflowService.searchTree({element:$scope.treeData.data,matchingId:nodeToEdit.id})),$scope.workflowMakerFormConfig.nodeMode="edit";var parent=WorkflowService.searchTree({element:$scope.treeData.data,matchingId:nodeToEdit.parent.id});$scope.nodeBeingEdited=WorkflowService.searchTree({element:parent,matchingId:nodeToEdit.id}),$scope.nodeBeingEdited.isActiveEdit=!0;var finishConfiguringEdit=function(){var formValues={};if($scope.nodeBeingEdited.unifiedJobTemplate)if($scope.nodeBeingEdited.unifiedJobTemplate.ask_credential_on_launch&&($scope.nodeBeingEdited.promptValues&&$scope.nodeBeingEdited.promptValues.credential?(formValues.credential_name=$scope.nodeBeingEdited.promptValues.credential.name,formValues.credential=$scope.nodeBeingEdited.promptValues.credential.id):$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.credential?(formValues.credential_name=$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.credential.name?$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.credential.name:null,formValues.credential=$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.credential.id?$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.credential.id:null):(formValues.credential_name=null,formValues.credential=null)),$scope.nodeBeingEdited.unifiedJobTemplate.ask_inventory_on_launch&&($scope.nodeBeingEdited.promptValues&&$scope.nodeBeingEdited.promptValues.inventory?(formValues.inventory_name=$scope.nodeBeingEdited.promptValues.inventory.name,formValues.inventory=$scope.nodeBeingEdited.promptValues.inventory.id):$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.inventory?(formValues.inventory_name=$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.inventory.name?$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.inventory.name:null,formValues.inventory=$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.inventory.id?$scope.nodeBeingEdited.unifiedJobTemplate.summary_fields.inventory.id:null):(formValues.inventory_name=null,formValues.inventory=null)),$scope.nodeBeingEdited.unifiedJobTemplate.ask_job_type_on_launch&&($scope.nodeBeingEdited.promptValues&&$scope.nodeBeingEdited.promptValues.job_type?formValues.job_type={value:$scope.nodeBeingEdited.promptValues.job_type}:$scope.nodeBeingEdited.originalNodeObj.job_type?formValues.job_type={value:$scope.nodeBeingEdited.originalNodeObj.job_type}:$scope.nodeBeingEdited.unifiedJobTemplate.job_type?formValues.job_type={value:$scope.nodeBeingEdited.unifiedJobTemplate.job_type}:formValues.job_type={value:null}),$scope.nodeBeingEdited.unifiedJobTemplate.ask_limit_on_launch&&($scope.nodeBeingEdited.promptValues&&"string"==typeof $scope.nodeBeingEdited.promptValues.limit?formValues.limit=$scope.nodeBeingEdited.promptValues.limit:"string"==typeof $scope.nodeBeingEdited.originalNodeObj.limit?formValues.limit=$scope.nodeBeingEdited.originalNodeObj.limit:"string"==typeof $scope.nodeBeingEdited.unifiedJobTemplate.limit?formValues.limit=$scope.nodeBeingEdited.unifiedJobTemplate.limit:formValues.limit=null),$scope.nodeBeingEdited.unifiedJobTemplate.ask_skip_tags_on_launch&&($scope.nodeBeingEdited.promptValues&&"string"==typeof $scope.nodeBeingEdited.promptValues.skip_tags?formValues.skip_tags=$scope.nodeBeingEdited.promptValues.skip_tags:"string"==typeof $scope.nodeBeingEdited.originalNodeObj.skip_tags?formValues.skip_tags=$scope.nodeBeingEdited.originalNodeObj.skip_tags:"string"==typeof $scope.nodeBeingEdited.unifiedJobTemplate.skip_tags?formValues.skip_tags=$scope.nodeBeingEdited.unifiedJobTemplate.skip_tags:formValues.skip_tags=null),$scope.nodeBeingEdited.unifiedJobTemplate.ask_tags_on_launch&&($scope.nodeBeingEdited.promptValues&&"string"==typeof $scope.nodeBeingEdited.promptValues.job_tags?formValues.job_tags=$scope.nodeBeingEdited.promptValues.job_tags:"string"==typeof $scope.nodeBeingEdited.originalNodeObj.job_tags?formValues.job_tags=$scope.nodeBeingEdited.originalNodeObj.job_tags:"string"==typeof $scope.nodeBeingEdited.unifiedJobTemplate.job_tags?formValues.job_tags=$scope.nodeBeingEdited.unifiedJobTemplate.job_tags:formValues.job_tags=null),"job_template"===$scope.nodeBeingEdited.unifiedJobTemplate.type&&($scope.workflowMakerFormConfig.activeTab="jobs"),$scope.selectedTemplate=$scope.nodeBeingEdited.unifiedJobTemplate,$scope.selectedTemplate.unified_job_type)switch($scope.selectedTemplate.unified_job_type){case"job":$scope.workflowMakerFormConfig.activeTab="jobs";break;case"project_update":$scope.workflowMakerFormConfig.activeTab="project_sync";break;case"inventory_update":$scope.workflowMakerFormConfig.activeTab="inventory_sync"}else if($scope.selectedTemplate.type)switch($scope.selectedTemplate.type){case"job_template":$scope.workflowMakerFormConfig.activeTab="jobs";break;case"project":$scope.workflowMakerFormConfig.activeTab="project_sync";break;case"inventory_source":$scope.workflowMakerFormConfig.activeTab="inventory_sync"}var siblingConnectionTypes=WorkflowService.getSiblingConnectionTypes({tree:$scope.treeData.data,parentId:parent.id,childId:nodeToEdit.id});parent&&parent.isStartNode?$scope.edgeFlags.showTypeOptions=!1:((_.includes(siblingConnectionTypes,"success")||_.includes(siblingConnectionTypes,"failure"))&&_.includes(siblingConnectionTypes,"always")?$scope.edgeFlags.typeRestriction=null:_.includes(siblingConnectionTypes,"success")||_.includes(siblingConnectionTypes,"failure")&&("success"===nodeToEdit.edgeType||"failure"===nodeToEdit.edgeType)?$scope.edgeFlags.typeRestriction="successFailure":_.includes(siblingConnectionTypes,"always")&&"always"===nodeToEdit.edgeType?$scope.edgeFlags.typeRestriction="always":$scope.edgeFlags.typeRestriction=null,$scope.edgeFlags.showTypeOptions=!0),$scope.$broadcast("setEdgeType",$scope.nodeBeingEdited.edgeType),$scope.$broadcast("templateSelected",{presetValues:formValues,activeTab:$scope.workflowMakerFormConfig.activeTab}),$scope.$broadcast("refreshWorkflowChart")};!$scope.nodeBeingEdited.isNew&&!$scope.nodeBeingEdited.edited&&$scope.nodeBeingEdited.unifiedJobTemplate&&$scope.nodeBeingEdited.unifiedJobTemplate.unified_job_type&&"job"===$scope.nodeBeingEdited.unifiedJobTemplate.unified_job_type?TemplatesService.getUnifiedJobTemplate($scope.nodeBeingEdited.unifiedJobTemplate.id).then(function(data){$scope.nodeBeingEdited.unifiedJobTemplate=_.clone(data.data.results[0]);var defers=[],retrievingCredential=!1,retrievingInventory=!1;$scope.nodeBeingEdited.unifiedJobTemplate.ask_credential_on_launch&&$scope.nodeBeingEdited.originalNodeObj.credential&&(defers.push(TemplatesService.getCredential($scope.nodeBeingEdited.originalNodeObj.credential)),retrievingCredential=!0),$scope.nodeBeingEdited.unifiedJobTemplate.ask_inventory_on_launch&&$scope.nodeBeingEdited.originalNodeObj.inventory&&(defers.push(TemplatesService.getInventory($scope.nodeBeingEdited.originalNodeObj.inventory)),retrievingInventory=!0),$q.all(defers).then(function(responses){retrievingCredential?($scope.nodeBeingEdited.promptValues.credential={name:responses[0].data.name,id:responses[0].data.id},retrievingInventory&&($scope.nodeBeingEdited.promptValues.inventory={name:responses[1].data.name,id:responses[1].data.id})):retrievingInventory&&($scope.nodeBeingEdited.promptValues.inventory={name:responses[0].data.name,id:responses[0].data.id}),finishConfiguringEdit()})},function(error){ProcessErrors($scope,error.data,error.status,form,{hdr:"Error!",msg:"Failed to get unified job template. GET returned status: "+error.status})}):finishConfiguringEdit()}()},$scope.startDeleteNode=function(nodeToDelete){$scope.nodeToBeDeleted=nodeToDelete,$scope.deleteOverlayVisible=!0},$scope.cancelDeleteNode=function(){resetDeleteNode()},$scope.confirmDeleteNode=function(){$scope.nodeToBeDeleted&&(WorkflowService.removeNodeFromTree({tree:$scope.treeData.data,nodeToBeDeleted:$scope.nodeToBeDeleted}),"add"===$scope.workflowMakerFormConfig.nodeMode&&$scope.placeholderNode.isRoot&&($scope.edgeFlags.showTypeOptions=!1),$scope.nodeToBeDeleted.isNew!==!0&&$scope.treeData.data.deletedNodes.push($scope.nodeToBeDeleted.nodeId),$scope.nodeToBeDeleted.isActiveEdit&&resetNodeForm(),resetEdgeConflict(),resetDeleteNode(),$scope.$broadcast("refreshWorkflowChart"),$scope.treeData.data.totalNodes--)},$scope.toggleFormTab=function(tab){$scope.workflowMakerFormConfig.activeTab!==tab&&($scope.workflowMakerFormConfig.activeTab=tab)},$scope.templateSelected=function(selectedTemplate){$scope.selectedTemplate=angular.copy(selectedTemplate);var formValues={};$scope.selectedTemplate.ask_credential_on_launch&&($scope.selectedTemplate.summary_fields.credential?(formValues.credential_name=$scope.selectedTemplate.summary_fields.credential.name?$scope.selectedTemplate.summary_fields.credential.name:null,formValues.credential=$scope.selectedTemplate.summary_fields.credential.id?$scope.selectedTemplate.summary_fields.credential.id:null):(formValues.credential_name=null,formValues.credential=null)),$scope.selectedTemplate.ask_inventory_on_launch&&($scope.selectedTemplate.summary_fields.inventory?(formValues.inventory_name=$scope.selectedTemplate.summary_fields.inventory.name?$scope.selectedTemplate.summary_fields.inventory.name:null,formValues.inventory=$scope.selectedTemplate.summary_fields.inventory.id?$scope.selectedTemplate.summary_fields.inventory.id:null):(formValues.inventory_name=null,formValues.inventory=null)),$scope.selectedTemplate.ask_job_type_on_launch&&(formValues.job_type={value:$scope.selectedTemplate.job_type?$scope.selectedTemplate.job_type:null},CreateSelect2({element:"#workflow_maker_job_type",multiple:!1})),$scope.selectedTemplate.ask_limit_on_launch&&(formValues.limit=$scope.selectedTemplate.limit?$scope.selectedTemplate.limit:null),$scope.selectedTemplate.ask_skip_tags_on_launch&&(formValues.skip_tags=$scope.selectedTemplate.skip_tags?$scope.selectedTemplate.skip_tags:null),$scope.selectedTemplate.ask_tags_on_launch&&(formValues.job_tags=$scope.selectedTemplate.job_tags?$scope.selectedTemplate.job_tags:null),$scope.$broadcast("templateSelected",{presetValues:formValues,activeTab:$scope.workflowMakerFormConfig.activeTab})},$scope.toggleManualControls=function(){$scope.showManualControls=!$scope.showManualControls},$scope.panChart=function(direction){$scope.$broadcast("panWorkflowChart",{direction:direction})},$scope.zoomChart=function(zoom){$scope.$broadcast("zoomWorkflowChart",{zoom:zoom})},$scope.resetChart=function(){$scope.$broadcast("resetWorkflowChart")},$scope.workflowZoomed=function(zoom){$scope.$broadcast("workflowZoomed",{zoom:zoom})},$scope.$on("WorkflowDialogReady",function(){$scope.modalOpen=!0}),init()}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _workflowControls=__webpack_require__(689),_workflowControls2=_interopRequireDefault(_workflowControls);exports.default=angular.module("workflowControls",[]).directive("workflowControls",_workflowControls2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{scope:{panChart:"&",resetChart:"&",zoomChart:"&"},templateUrl:templateUrl("templates/workflows/workflow-controls/workflow-controls"),restrict:"E",link:function(scope){function init(){scope.zoom=100,$("#slider").slider({value:100,min:50,max:200,step:10,slide:function(event,ui){scope.zoom=ui.value,scope.zoomChart({zoom:scope.zoom})}})}scope.pan=function(direction){scope.panChart({direction:direction})},scope.reset=function(){scope.zoom=100,$("#slider").slider("value",scope.zoom),scope.resetChart()},scope.zoomIn=function(){scope.zoom=10*Math.ceil((scope.zoom+10)/10)<200?10*Math.ceil((scope.zoom+10)/10):200,$("#slider").slider("value",scope.zoom),scope.zoomChart({zoom:scope.zoom})},scope.zoomOut=function(){scope.zoom=10*Math.floor((scope.zoom-10)/10)>50?10*Math.floor((scope.zoom-10)/10):50,$("#slider").slider("value",scope.zoom),scope.zoomChart({zoom:scope.zoom})},scope.$on("workflowZoomed",function(evt,params){scope.zoom=10*Math.round(10*params.zoom),$("#slider").slider("value",scope.zoom)}),init()}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _i18n=__webpack_require__(172);exports.default={name:"templates",route:"/templates",ncyBreadcrumb:{label:(0,_i18n.N_)("TEMPLATES")},data:{activityStream:!0,activityStreamTarget:"template",socket:{groups:{jobs:["status_changed"]}}},params:{template_search:{value:{type:"workflow_job_template,job_template"}}},searchPrefix:"template",views:{"@":{controller:"TemplatesListController",templateProvider:function(TemplateList,generateList){var html=generateList.build({list:TemplateList,mode:"edit"});return html=generateList.wrapPanel(html),generateList.insertFormView()+html}}},resolve:{Dataset:["TemplateList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams[list.iterator+"_search"])}]}}},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=["$q",function($q){return{searchTree:function(params){var _this2=this,prospectiveId=params.byNodeId?params.element.nodeId:params.element.id;if(prospectiveId===params.matchingId)return params.element;if(params.element.children&&params.element.children.length>0){var _ret=function(){var result=null,thisService=_this2;return _.forEach(params.element.children,function(child){if(result=thisService.searchTree({element:child,matchingId:params.matchingId,byNodeId:!!params.byNodeId&&params.byNodeId}))return!1}),{v:result}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}return null},removeNodeFromTree:function(params){var parentNode=this.searchTree({element:params.tree,matchingId:params.nodeToBeDeleted.parent.id}),nodeToBeDeleted=this.searchTree({element:parentNode,matchingId:params.nodeToBeDeleted.id});nodeToBeDeleted.children&&_.forEach(nodeToBeDeleted.children,function(child){nodeToBeDeleted.isRoot&&(child.isRoot=!0,child.edgeType="always"),child.parent=parentNode,parentNode.children.push(child)}),_.forEach(parentNode.children,function(child,index){if(child.id===params.nodeToBeDeleted.id)return parentNode.children.splice(index,1),!1})},addPlaceholderNode:function(params){var placeholder={children:[],c:"#D7D7D7",id:params.id,canDelete:!0,canEdit:!1,canAddTo:!0,placeholder:!0,isNew:!0,edited:!1},parentNode=params.betweenTwoNodes?this.searchTree({element:params.tree,matchingId:params.parent.source.id}):this.searchTree({element:params.tree,matchingId:params.parent.id}),placeholderRef=void 0;return params.betweenTwoNodes?_.forEach(parentNode.children,function(child,index){if(child.id===params.parent.target.id)return placeholder.children.push(child),parentNode.children[index]=placeholder,placeholderRef=parentNode.children[index],child.parent=parentNode.children[index],!1}):parentNode.children?(parentNode.children.push(placeholder),placeholderRef=parentNode.children[parentNode.children.length-1]):(parentNode.children=[placeholder],placeholderRef=parentNode.children[0]),placeholderRef},getSiblingConnectionTypes:function(params){var siblingConnectionTypes={},parentNode=this.searchTree({element:params.tree,matchingId:params.parentId});return parentNode.children&&parentNode.children.length>0&&_.forEach(parentNode.children,function(child){child.id!==params.childId&&!child.placeholder&&child.edgeType&&(siblingConnectionTypes[child.edgeType]=!0)}),Object.keys(siblingConnectionTypes)},buildTree:function(params){var deferred=$q.defer(),_this=this,treeData={data:{id:1,canDelete:!1,canEdit:!1,canAddTo:!0,isStartNode:!0,unifiedJobTemplate:{name:"Workflow Launch"},children:[],deletedNodes:[],totalNodes:0},nextIndex:2},nodesArray=params.workflowNodes,nodesObj={},nonRootNodeIds=[],allNodeIds=[];_.forEach(nodesArray,function(node){nodesObj[node.id]=_.clone(node),allNodeIds.push(node.id),_.forEach(node.success_nodes,function(nodeId){nonRootNodeIds.push(nodeId)}),_.forEach(node.failure_nodes,function(nodeId){nonRootNodeIds.push(nodeId)}),_.forEach(node.always_nodes,function(nodeId){nonRootNodeIds.push(nodeId)})});var rootNodes=_.difference(allNodeIds,nonRootNodeIds);return _.forEach(rootNodes,function(rootNodeId){var branch=_this.buildBranch({nodeId:rootNodeId,edgeType:"always",nodesObj:nodesObj,isRoot:!0,treeData:treeData});treeData.data.children.push(branch)}),deferred.resolve(treeData),deferred.promise},buildBranch:function(params){var _this=this,treeNode={children:[],c:"#D7D7D7",id:params.treeData.nextIndex,nodeId:params.nodeId,canDelete:!0,canEdit:!0,canAddTo:!0,placeholder:!1,edgeType:params.edgeType,isNew:!1,edited:!1,originalEdge:params.edgeType,originalNodeObj:_.clone(params.nodesObj[params.nodeId]),promptValues:{},isRoot:!!params.isRoot&&params.isRoot};return params.treeData.data.totalNodes++,params.treeData.nextIndex++,params.parentId&&(treeNode.originalParentId=params.parentId),params.nodesObj[params.nodeId].summary_fields&&(params.nodesObj[params.nodeId].summary_fields.job&&(treeNode.job=_.clone(params.nodesObj[params.nodeId].summary_fields.job)),params.nodesObj[params.nodeId].summary_fields.unified_job_template&&(treeNode.unifiedJobTemplate=_.clone(params.nodesObj[params.nodeId].summary_fields.unified_job_template))),_.forEach(params.nodesObj[params.nodeId].success_nodes,function(successNodeId){treeNode.children.push(_this.buildBranch({nodeId:successNodeId,parentId:params.nodeId,edgeType:"success",nodesObj:params.nodesObj,treeData:params.treeData}))}),_.forEach(params.nodesObj[params.nodeId].failure_nodes,function(failureNodesId){treeNode.children.push(_this.buildBranch({nodeId:failureNodesId,parentId:params.nodeId,edgeType:"failure",nodesObj:params.nodesObj,treeData:params.treeData}))}),_.forEach(params.nodesObj[params.nodeId].always_nodes,function(alwaysNodesId){treeNode.children.push(_this.buildBranch({nodeId:alwaysNodesId,parentId:params.nodeId,edgeType:"always",nodesObj:params.nodesObj,treeData:params.treeData}))}),treeNode},updateStatusOfNode:function(params){var matchingNode=this.searchTree({element:params.treeData.data,matchingId:params.nodeId,byNodeId:!0});matchingNode&&(matchingNode.job={status:params.status,id:params.unified_job_id})},checkForEdgeConflicts:function(params){var hasAlways=!1,hasSuccessFailure=!1,_this=this;_.forEach(params.treeData.children,function(child){child.edgeConflict=!1,"always"===child.edgeType?hasAlways=!0:"success"!==child.edgeType&&"failure"!==child.edgeType||(hasSuccessFailure=!0),_this.checkForEdgeConflicts({treeData:child,edgeFlags:params.edgeFlags})}),hasAlways&&hasSuccessFailure&&(_.forEach(params.treeData.children,function(child){child.edgeConflict=!0}),params.edgeFlags.conflict=!0)}}}]}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","Rest","ProcessErrors","GetBasePath","moment",function($rootScope,Rest,ProcessErrors,GetBasePath,moment){return{get:function(id){var defaultUrl=GetBasePath("job_templates")+"?id="+id;return Rest.setUrl(defaultUrl),Rest.get().success(function(res){return res}).error(function(res,status){ProcessErrors($rootScope,res,status,null,{hdr:"Error!",msg:"Call to "+defaultUrl+" failed. Return status: "+status})})},getSurvey:function(endpoint){return Rest.setUrl(endpoint),Rest.get()},copySurvey:function(source,target){return this.getSurvey(source.related.survey_spec).success(function(data){return Rest.setUrl(target.related.survey_spec),Rest.post(data)})},set:function(data){var defaultUrl=GetBasePath("job_templates"),self=this;Rest.setUrl(defaultUrl);var name=this.buildName(data.results[0].name);return data.results[0].name=name+" @ "+moment().format("h:mm:ss a"),Rest.post(data.results[0]).success(function(job_template_res){return data.results[0].summary_fields.survey?self.copySurvey(data.results[0],job_template_res).success(function(){return job_template_res}):job_template_res}).error(function(res,status){ProcessErrors($rootScope,res,status,null,{hdr:"Error!",msg:"Call to "+defaultUrl+" failed. Return status: "+status})})},buildName:function(name){var result=name.split("@")[0];return result},getWorkflowCopy:function(id){var url=GetBasePath("workflow_job_templates");return url=url+id+"/copy",Rest.setUrl(url),Rest.get()},copyWorkflow:function(id){var url=GetBasePath("workflow_job_templates");return url=url+id+"/copy",Rest.setUrl(url),Rest.post()}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _ownerList=__webpack_require__(694),_ownerList2=_interopRequireDefault(_ownerList);exports.default=angular.module("credentials",[]).directive("ownerList",_ownerList2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"E",scope:!1,templateUrl:templateUrl("credentials/ownerList"),link:function(scope){scope.owners_list=scope.credential.summary_fields.owners&&scope.credential.summary_fields.owners.length>0?scope.credential.summary_fields.owners:[]}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{
value:!0});var _jobsList=__webpack_require__(696),_jobsList2=_interopRequireDefault(_jobsList),_jobs=__webpack_require__(697),_jobs2=_interopRequireDefault(_jobs);exports.default=angular.module("JobsModule",[]).run(["$stateExtender",function($stateExtender){$stateExtender.addState(_jobs2.default)}]).controller("JobsList",_jobsList2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$state","$rootScope","$log","$scope","$compile","$stateParams","ClearScope","Find","DeleteJob","RelaunchJob","AllJobsList","ScheduledJobsList","GetBasePath","Dataset","QuerySet","ListDefinition","$interpolate",function($state,$rootScope,$log,$scope,$compile,$stateParams,ClearScope,Find,DeleteJob,RelaunchJob,AllJobsList,ScheduledJobsList,GetBasePath,Dataset,qs,ListDefinition,$interpolate){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$scope.showJobType=!0}function optionsRequestDataProcessing(){$scope[list.name]&&$scope[list.name].length>0&&$scope[list.name].forEach(function(item,item_idx){var itm=$scope[list.name][item_idx];item.summary_fields&&item.summary_fields.source_workflow_job&&item.summary_fields.source_workflow_job.id&&(item.workflow_result_link="/#/workflows/"+item.summary_fields.source_workflow_job.id),list.fields.type&&$scope.options&&$scope.options.hasOwnProperty("type")&&$scope.options.type.choices.forEach(function(choice){choice[0]===item.type&&(itm.type_label=choice[1])}),buildTooltips(itm)})}function buildTooltips(job){job.status_tip="Job "+job.status+". Click for details."}ClearScope();var list=ListDefinition;init(),$scope.$on(list.iterator+"_options",function(event,data){$scope.options=data.data.actions.GET,optionsRequestDataProcessing()}),$scope.$watchCollection(""+$scope.list.name,function(){optionsRequestDataProcessing()}),$scope.deleteJob=function(id){DeleteJob({scope:$scope,id:id})},$scope.relaunchJob=function(event,id){var job=void 0,typeId=void 0,jobs=void 0;try{$(event.target).tooltip("hide")}catch(e){}$scope.completed_jobs?jobs=$scope.completed_jobs:$scope.running_jobs?jobs=$scope.running_jobs:$scope.queued_jobs?jobs=$scope.queued_jobs:$scope.all_jobs?jobs=$scope.all_jobs:$scope.jobs&&(jobs=$scope.jobs),job=Find({list:jobs,key:"id",val:id}),"inventory_update"===job.type?typeId=job.inventory_source:"project_update"===job.type?typeId=job.project:"job"!==job.type&&"system_job"!==job.type&&"ad_hoc_command"!==job.type&&"workflow_job"!==job.type||(typeId=job.id),RelaunchJob({scope:$scope,id:typeId,type:job.type,name:job.name})},$scope.viewJobDetails=function(job){var goToJobDetails=function(state){$state.go(state,{id:job.id},{reload:!0})};switch(job.type){case"job":goToJobDetails("jobDetail");break;case"ad_hoc_command":goToJobDetails("adHocJobStdout");break;case"system_job":goToJobDetails("managementJobStdout");break;case"project_update":goToJobDetails("scmUpdateStdout");break;case"inventory_update":goToJobDetails("inventorySyncStdout");break;case"workflow_job":goToJobDetails("workflowResults")}},$scope.$on("ws-jobs",function(){var path=void 0;if(GetBasePath(list.basePath)||GetBasePath(list.name))path=GetBasePath(list.basePath)||GetBasePath(list.name);else{var interpolator=$interpolate(list.basePath);path=interpolator({$rootScope:$rootScope,$stateParams:$stateParams})}qs.search(path,$state.params[list.iterator+"_search"]).then(function(searchResponse){$scope[list.iterator+"_dataset"]=searchResponse.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results})}),$scope.$on("ws-schedules",function(){$state.reload()})}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _i18n=__webpack_require__(172),_templateUrl=__webpack_require__(116);exports.default={searchPrefix:"job",name:"jobs",url:"/jobs",ncyBreadcrumb:{label:(0,_i18n.N_)("JOBS")},params:{job_search:{value:{not__launch_type:"sync",order_by:"-finished"},squash:""}},data:{socket:{groups:{jobs:["status_changed"],schedules:["changed"]}}},resolve:{Dataset:["AllJobsList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath(list.basePath)||GetBasePath(list.name);return qs.search(path,$stateParams[list.iterator+"_search"])}],ListDefinition:["AllJobsList",function(list){return list}]},views:{"@":{templateUrl:(0,_templateUrl.templateUrl)("jobs/jobs")},"list@jobs":{templateProvider:function(AllJobsList,generateList){var html=generateList.build({list:AllJobsList,mode:"edit"});return html},controller:"JobsList"}}}},function(module,exports,__webpack_require__){(function(_,$){"use strict";function ProjectsList($scope,$rootScope,$location,$log,$stateParams,Rest,Alert,ProjectList,Prompt,ReturnToCaller,ClearScope,ProcessErrors,GetBasePath,ProjectUpdate,Wait,GetChoices,Empty,Find,GetProjectIcon,GetProjectToolTip,$filter,$state,rbacUiControlService,Dataset,i18n,qs){function init(){$scope.canAdd=!1,rbacUiControlService.canAdd("projects").then(function(canAdd){$scope.canAdd=canAdd}),$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,_.forEach($scope[list.name],buildTooltips),$rootScope.flashMessage=null}function optionsRequestDataProcessing(){void 0!==$scope[list.name]&&$scope[list.name].forEach(function(item,item_idx){var itm=$scope[list.name][item_idx];list.fields.scm_type&&$scope.options&&$scope.options.hasOwnProperty("scm_type")&&$scope.options.scm_type.choices.forEach(function(choice){choice[0]===item.scm_type&&(itm.type_label=choice[1])}),buildTooltips(itm)})}function buildTooltips(project){project.statusIcon=GetProjectIcon(project.status),project.statusTip=GetProjectToolTip(project.status),project.scm_update_tooltip=i18n._("Start an SCM update"),project.scm_schedule_tooltip=i18n._("Schedule future SCM updates"),project.scm_type_class="","failed"===project.status&&project.summary_fields.last_update&&"canceled"===project.summary_fields.last_update.status&&(project.statusTip=i18n._("Canceled. Click for details")),"running"!==project.status&&"updating"!==project.status||(project.scm_update_tooltip=i18n._("SCM update currently running"),project.scm_type_class="btn-disabled"),"manual"===project.scm_type&&(project.scm_update_tooltip=i18n._("Manual projects do not require an SCM update"),project.scm_schedule_tooltip=i18n._("Manual projects do not require a schedule"),project.scm_type_class="btn-disabled",project.statusTip=i18n._("Not configured for SCM"),project.statusIcon="none")}var list=ProjectList,defaultUrl=GetBasePath("projects");init(),$scope.$on(list.iterator+"_options",function(event,data){$scope.options=data.data.actions.GET,optionsRequestDataProcessing()}),$scope.$watchCollection(""+$scope.list.name,function(){optionsRequestDataProcessing()}),$scope.reloadList=function(){var path=GetBasePath(list.basePath)||GetBasePath(list.name);qs.search(path,$state.params[list.iterator+"_search"]).then(function(searchResponse){$scope[list.iterator+"_dataset"]=searchResponse.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results})},$scope.$on("ws-jobs",function(e,data){var project;$log.debug(data),$scope.projects&&(project=Find({list:$scope.projects,key:"id",val:data.project_id}),project&&($log.debug("Received event for project: "+project.name),$log.debug("Status changed to: "+data.status),"successful"===data.status||"failed"===data.status?$scope.reloadList():(project.scm_update_tooltip="SCM update currently running",project.scm_type_class="btn-disabled"),project.status=data.status,project.statusIcon=GetProjectIcon(data.status),project.statusTip=GetProjectToolTip(data.status)))}),$scope.addProject=function(){$state.go("projects.add")},$scope.editProject=function(id){$state.go("projects.edit",{project_id:id})},$scope.removeGoToJobDetails&&$scope.removeGoToJobDetails(),$scope.removeGoToJobDetails=$scope.$on("GoToJobDetails",function(e,data){if(data.summary_fields.current_update||data.summary_fields.last_update){Wait("start");var id=data.summary_fields.current_update?data.summary_fields.current_update.id:data.summary_fields.last_update.id;$state.go("scmUpdateStdout",{id:id})}else Alert(i18n._("No Updates Available"),i18n._("There is no SCM update information available for this project. An update has not yet been  completed.  If you have not already done so, start an update for this project."),"alert-info")}),$scope.showSCMStatus=function(id){var project=Find({list:$scope.projects,key:"id",val:id});Empty(project.scm_type)||"Manual"===project.scm_type?Alert(i18n._("No SCM Configuration"),i18n._("The selected project is not configured for SCM. To configure for SCM, edit the project and provide SCM settings, and then run an update."),"alert-info"):(Rest.setUrl(project.url),Rest.get().success(function(data){$scope.$emit("GoToJobDetails",data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n._("Project lookup failed. GET returned: ")+status})}))},$scope.deleteProject=function(id,name){var action=function(){$("#prompt-modal").modal("hide"),Wait("start");var url=defaultUrl+id+"/";Rest.setUrl(url),Rest.destroy().success(function(){parseInt($state.params.project_id)===id?$state.go("^",null,{reload:!0}):$state.go(".",null,{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Call to %s failed. DELETE returned status: "),url)+status})}).finally(function(){Wait("stop")})};Prompt({hdr:i18n._("Delete"),body:'<div class="Prompt-bodyQuery">'+i18n._("Are you sure you want to delete the project below?")+'</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>",action:action,actionText:"DELETE"})},$scope.removeCancelUpdate&&$scope.removeCancelUpdate(),$scope.removeCancelUpdate=$scope.$on("Cancel_Update",function(e,url){Rest.setUrl(url),Rest.post().success(function(){Alert(i18n._("SCM Update Cancel"),i18n._("Your request to cancel the update was submitted to the task manager."),"alert-info"),$scope.refresh()}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Call to %s failed. POST status: "),url)+status})})}),$scope.removeCheckCancel&&$scope.removeCheckCancel(),$scope.removeCheckCancel=$scope.$on("Check_Cancel",function(e,data){var url=data.related.cancel;Rest.setUrl(url),Rest.get().success(function(data){data.can_cancel?$scope.$emit("Cancel_Update",url):Alert(i18n._("Cancel Not Allowed"),"<div>"+i18n.sprintf(i18n._("Either you do not have access or the SCM update process completed. Click the %sRefresh%s button to view the latest status."),"<em>","</em>")+"</div>","alert-info",null,null,null,null,!0)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Call to %s failed. GET status: "),url)+status})})}),$scope.cancelUpdate=function(id,name){Rest.setUrl(GetBasePath("projects")+id),Rest.get().success(function(data){data.related.current_update?(Rest.setUrl(data.related.current_update),Rest.get().success(function(data){$scope.$emit("Check_Cancel",data)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Call to %s failed. GET status: "),data.related.current_update)+status})})):Alert(i18n._("Update Not Found"),"<div>"+i18n.sprintf(i18n._("An SCM update does not appear to be running for project: %s. Click the %sRefresh%s button to view the latest status."),$filter("sanitize")(name),"<em>","</em>")+"</div>","alert-info",void 0,void 0,void 0,void 0,!0)}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n._("Call to get project failed. GET status: ")+status})})},$scope.SCMUpdate=function(project_id,event){try{$(event.target).tooltip("hide")}catch(e){}$scope.projects.forEach(function(project){project.id===project_id&&("Manual"===project.scm_type||Empty(project.scm_type)||"updating"===project.status||"running"===project.status||"pending"===project.status||ProjectUpdate({scope:$scope,project_id:project.id}))})},$scope.editSchedules=function(id){var project=Find({list:$scope.projects,key:"id",val:id});"Manual"===project.scm_type||Empty(project.scm_type)||"updating"===project.status||"running"===project.status||"pending"===project.status||$state.go("projectSchedules",{id:id})}}function ProjectsAdd($scope,$rootScope,$compile,$location,$log,$stateParams,GenerateForm,ProjectsForm,Rest,Alert,ProcessErrors,GetBasePath,GetProjectPath,GetChoices,Wait,$state,CreateSelect2,i18n){function init(){$scope.canEditOrg=!0,Rest.setUrl(GetBasePath("projects")),Rest.options().success(function(data){data.actions.POST||($state.go("^"),Alert(i18n._("Permission Error"),i18n._("You do not have permission to add a project."),"alert-info"))}),GenerateForm.applyDefaults(form,$scope)}var form=ProjectsForm(),base=$location.path().replace(/^\//,"").split("/")[0],defaultUrl=GetBasePath("projects"),master={};init(),GetProjectPath({scope:$scope,master:master}),$scope.removeChoicesReady&&$scope.removeChoicesReady(),$scope.removeChoicesReady=$scope.$on("choicesReady",function(){var i;for(i=0;i<$scope.scm_type_options.length;i++)if(""===$scope.scm_type_options[i].value){$scope.scm_type_options[i].value="manual";break}CreateSelect2({element:"#project_scm_type",multiple:!1}),$scope.scmRequired=!1,$scope.credRequired=!1,master.scm_type=$scope.scm_type}),GetChoices({scope:$scope,url:defaultUrl,field:"scm_type",variable:"scm_type_options",callback:"choicesReady"}),CreateSelect2({element:"#local-path-select",multiple:!1}),$scope.formSave=function(){var i,fld,url,data={};data={};for(fld in form.fields)if("checkbox_group"===form.fields[fld].type)for(i=0;i<form.fields[fld].fields.length;i++)data[form.fields[fld].fields[i].name]=$scope[form.fields[fld].fields[i].name];else"alertblock"!==form.fields[fld].type&&(data[fld]=$scope[fld]);"manual"===$scope.scm_type.value?(data.scm_type="",data.local_path=$scope.local_path.value):(data.scm_type=$scope.scm_type.value,delete data.local_path),url="teams"===base?GetBasePath("teams")+$stateParams.team_id+"/projects/":defaultUrl,Wait("start"),Rest.setUrl(url),Rest.post(data).success(function(data){$scope.addedItem=data.id,$state.go("projects.edit",{project_id:data.id},{reload:!0})}).error(function(data,status){Wait("stop"),ProcessErrors($scope,data,status,form,{hdr:i18n._("Error!"),msg:i18n._("Failed to create new project. POST returned status: ")+status})})},$scope.scmChange=function(){if($scope.scm_type&&($scope.pathRequired="manual"===$scope.scm_type.value,$scope.scmRequired="manual"!==$scope.scm_type.value,$scope.credRequired="insights"===$scope.scm_type.value,$scope.scmBranchLabel="svn"===$scope.scm_type.value?"Revision #":"SCM Branch"),$scope.scm_type.value)switch($scope.scm_type.value){case"git":$scope.credentialLabel="SCM Credential",$scope.urlPopover="<p>"+i18n._("Example URLs for GIT SCM include:")+'</p><ul class="no-bullets"><li>https://github.com/ansible/ansible.git</li><li>git@github.com:ansible/ansible.git</li><li>git://servername.example.com/ansible.git</li></ul><p>'+i18n.sprintf(i18n._("%sNote:%s When using SSH protocol for GitHub or Bitbucket, enter an SSH key only, do not enter a username (other than git). Additionally, GitHub and Bitbucket do not support password authentication when using SSH. GIT read only protocol (git://) does not use username or password information."),"<strong>","</strong>");break;case"svn":$scope.credentialLabel="SCM Credential",$scope.urlPopover="<p>"+i18n._("Example URLs for Subversion SCM include:")+'</p><ul class="no-bullets"><li>https://github.com/ansible/ansible</li><li>svn://servername.example.com/path</li><li>svn+ssh://servername.example.com/path</li></ul>';break;case"hg":$scope.credentialLabel="SCM Credential",$scope.urlPopover="<p>"+i18n._("Example URLs for Mercurial SCM include:")+'</p><ul class="no-bullets"><li>https://bitbucket.org/username/project</li><li>ssh://hg@bitbucket.org/username/project</li><li>ssh://server.example.com/path</li></ul><p>'+i18n.sprintf(i18n._("%sNote:%s Mercurial does not support password authentication for SSH. Do not put the username and key in the URL. If using Bitbucket and SSH, do not supply your Bitbucket username."),"<strong>","</strong>");break;case"insights":$scope.pathRequired=!1,$scope.scmRequired=!1,$scope.credRequired=!0,$scope.credentialLabel="Credential";break;default:$scope.credentialLabel="SCM Credential",$scope.urlPopover="<p> "+i18n._("URL popover text")}},$scope.formCancel=function(){$state.go("projects")}}function ProjectsEdit($scope,$rootScope,$compile,$location,$log,$stateParams,ProjectsForm,Rest,Alert,ProcessErrors,GenerateForm,Prompt,ClearScope,GetBasePath,GetProjectPath,Authorization,GetChoices,Empty,DebugForm,Wait,ProjectUpdate,$state,CreateSelect2,ToggleNotification,i18n,OrgAdminLookup){function init(){$scope.project_local_paths=[],$scope.base_dir=""}ClearScope("htmlTemplate");var form=ProjectsForm(),defaultUrl=GetBasePath("projects")+$stateParams.project_id+"/",master={},id=$stateParams.project_id;init(),$scope.$watch("project_obj.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAdd=!1)}),$scope.pathsReadyRemove&&$scope.pathsReadyRemove(),$scope.pathsReadyRemove=$scope.$on("pathsReady",function(){CreateSelect2({element:"#local-path-select",multiple:!1})}),$scope.projectLoadedRemove&&$scope.projectLoadedRemove(),$scope.projectLoadedRemove=$scope.$on("projectLoaded",function(){var opts=[];Authorization.getUserInfo("is_superuser")===!0?GetProjectPath({scope:$scope,master:master}):(opts.push({label:$scope.local_path,value:$scope.local_path}),$scope.project_local_paths=opts,$scope.local_path=$scope.project_local_paths[0],$scope.base_dir=i18n._("You do not have access to view this property"),$scope.$emit("pathsReady")),$scope.pathRequired="manual"===$scope.scm_type.value,$scope.scmRequired="manual"!==$scope.scm_type.value,$scope.credRequired="insights"===$scope.scm_type.value,$scope.scmBranchLabel="svn"===$scope.scm_type.value?"Revision #":"SCM Branch",Wait("stop"),$scope.scmChange()}),$scope.removeChoicesReady&&$scope.removeChoicesReady(),$scope.removeChoicesReady=$scope.$on("choicesReady",function(){var i=void 0;for(i=0;i<$scope.scm_type_options.length;i++)if(""===$scope.scm_type_options[i].value){$scope.scm_type_options[i].value="manual";break}Rest.setUrl(defaultUrl),Rest.get({params:{id:id}}).success(function(data){var fld,i;for(fld in form.fields){if("checkbox_group"===form.fields[fld].type)for(i=0;i<form.fields[fld].fields.length;i++)$scope[form.fields[fld].fields[i].name]=data[form.fields[fld].fields[i].name],master[form.fields[fld].fields[i].name]=data[form.fields[fld].fields[i].name];else void 0!==data[fld]&&($scope[fld]=data[fld],master[fld]=data[fld]);form.fields[fld].sourceModel&&data.summary_fields&&data.summary_fields[form.fields[fld].sourceModel]&&($scope[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField],master[form.fields[fld].sourceModel+"_"+form.fields[fld].sourceField]=data.summary_fields[form.fields[fld].sourceModel][form.fields[fld].sourceField])}for(data.scm_type=Empty(data.scm_type)?"manual":data.scm_type,i=0;i<$scope.scm_type_options.length;i++)if($scope.scm_type_options[i].value===data.scm_type){$scope.scm_type=$scope.scm_type_options[i];break}"manual"!==$scope.scm_type.value?($scope.pathRequired=!1,$scope.scmRequired=!0):($scope.pathRequired=!0,$scope.scmRequired=!1),master.scm_type=$scope.scm_type,CreateSelect2({element:"#project_scm_type",multiple:!1}),$scope.scmBranchLabel="svn"===$scope.scm_type.value?"Revision #":"SCM Branch",$scope.scm_update_tooltip=i18n._("Start an SCM update"),$scope.scm_type_class="","running"!==data.status&&"updating"!==data.status||($scope.scm_update_tooltip=i18n._("SCM update currently running"),$scope.scm_type_class="btn-disabled"),Empty(data.scm_type)&&($scope.scm_update_tooltip=i18n._("Manual projects do not require an SCM update"),$scope.scm_type_class="btn-disabled"),OrgAdminLookup.checkForAdminAccess({organization:data.organization}).then(function(canEditOrg){$scope.canEditOrg=canEditOrg}),$scope.project_obj=data,$scope.name=data.name,$scope.$emit("projectLoaded"),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Failed to retrieve project: %s. GET status: "),id)+status})})}),Wait("start"),GetChoices({url:GetBasePath("projects"),scope:$scope,field:"scm_type",variable:"scm_type_options",callback:"choicesReady"}),$scope.toggleNotification=function(event,id,column){var notifier=this.notification;try{$(event.target).tooltip("hide")}catch(e){}ToggleNotification({scope:$scope,url:$scope.project_obj.url,notifier:notifier,column:column,callback:"NotificationRefresh"})},$scope.formSave=function(){var fld,i,params;GenerateForm.clearApiErrors($scope),Wait("start"),$rootScope.flashMessage=null,params={};for(fld in form.fields)if("checkbox_group"===form.fields[fld].type)for(i=0;i<form.fields[fld].fields.length;i++)params[form.fields[fld].fields[i].name]=$scope[form.fields[fld].fields[i].name];else"alertblock"!==form.fields[fld].type&&(params[fld]=$scope[fld]);"manual"===$scope.scm_type.value?(params.scm_type="",params.local_path=$scope.local_path.value):(params.scm_type=$scope.scm_type.value,delete params.local_path),Rest.setUrl(defaultUrl),Rest.put(params).success(function(){Wait("stop"),$state.go($state.current,{},{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Failed to update project: %s. PUT status: "),id)+status})})},$scope.delete=function(set,itm_id,name,title){var action=function(){var url=GetBasePath("projects")+id+"/"+set+"/";$rootScope.flashMessage=null,Rest.setUrl(url),Rest.post({id:itm_id,disassociate:1}).success(function(){$("#prompt-modal").modal("hide")}).error(function(data,status){$("#prompt-modal").modal("hide"),ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Call to %s failed. POST returned status: "),url)+status})})};Prompt({hdr:i18n._("Delete"),body:'<div class="Prompt-bodyQuery">'+i18n.sprintf(i18n._("Are you sure you want to remove the %s below from %s?"),title,$scope.name)+'</div><div class="Prompt-bodyTarget">'+name+"</div>",action:action,actionText:i18n._("DELETE")})},$scope.scmChange=function(){if($scope.scm_type&&($scope.pathRequired="manual"===$scope.scm_type.value,$scope.scmRequired="manual"!==$scope.scm_type.value,$scope.credRequired="insights"===$scope.scm_type.value,$scope.scmBranchLabel="svn"===$scope.scm_type.value?i18n._("Revision #"):i18n._("SCM Branch")),$scope.scm_type.value)switch($scope.scm_type.value){case"git":$scope.credentialLabel="SCM Credential",$scope.urlPopover="<p>"+i18n._("Example URLs for GIT SCM include:")+'</p><ul class="no-bullets"><li>https://github.com/ansible/ansible.git</li><li>git@github.com:ansible/ansible.git</li><li>git://servername.example.com/ansible.git</li></ul><p>'+i18n.sprintf(i18n._("%sNote:%s When using SSH protocol for GitHub or Bitbucket, enter an SSH key only, do not enter a username (other than git). Additionally, GitHub and Bitbucket do not support password authentication when using SSH. GIT read only protocol (git://) does not use username or password information."),"<strong>","</strong>");break;case"svn":$scope.credentialLabel="SCM Credential",$scope.urlPopover="<p>"+i18n._("Example URLs for Subversion SCM include:")+'</p><ul class="no-bullets"><li>https://github.com/ansible/ansible</li><li>svn://servername.example.com/path</li><li>svn+ssh://servername.example.com/path</li></ul>';break;case"hg":$scope.credentialLabel="SCM Credential",$scope.urlPopover="<p>"+i18n._("Example URLs for Mercurial SCM include:")+'</p><ul class="no-bullets"><li>https://bitbucket.org/username/project</li><li>ssh://hg@bitbucket.org/username/project</li><li>ssh://server.example.com/path</li></ul><p>'+i18n.sprintf(i18n._("%sNote:%s Mercurial does not support password authentication for SSH. Do not put the username and key in the URL. If using Bitbucket and SSH, do not supply your Bitbucket username."),"<strong>","</strong>");break;case"insights":$scope.pathRequired=!1,$scope.scmRequired=!1,$scope.credRequired=!0,$scope.credentialLabel="Credential";break;default:$scope.credentialLabel="SCM Credential",$scope.urlPopover="<p> "+i18n._("URL popover text")}},$scope.SCMUpdate=function(){"Manual"===$scope.project_obj.scm_type||Empty($scope.project_obj.scm_type)||("updating"===$scope.project_obj.status||"running"===$scope.project_obj.status||"pending"===$scope.project_obj.status?Alert(i18n._("Update in Progress"),i18n._("The SCM update process is running."),"alert-info"):ProjectUpdate({scope:$scope,project_id:$scope.project_obj.id}))},$scope.formCancel=function(){$state.transitionTo("projects")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProjectsList=ProjectsList,exports.ProjectsAdd=ProjectsAdd,exports.ProjectsEdit=ProjectsEdit,ProjectsList.$inject=["$scope","$rootScope","$location","$log","$stateParams","Rest","Alert","ProjectList","Prompt","ReturnToCaller","ClearScope","ProcessErrors","GetBasePath","ProjectUpdate","Wait","GetChoices","Empty","Find","GetProjectIcon","GetProjectToolTip","$filter","$state","rbacUiControlService","Dataset","i18n","QuerySet"],ProjectsAdd.$inject=["$scope","$rootScope","$compile","$location","$log","$stateParams","GenerateForm","ProjectsForm","Rest","Alert","ProcessErrors","GetBasePath","GetProjectPath","GetChoices","Wait","$state","CreateSelect2","i18n"],ProjectsEdit.$inject=["$scope","$rootScope","$compile","$location","$log","$stateParams","ProjectsForm","Rest","Alert","ProcessErrors","GenerateForm","Prompt","ClearScope","GetBasePath","GetProjectPath","Authorization","GetChoices","Empty","DebugForm","Wait","ProjectUpdate","$state","CreateSelect2","ToggleNotification","i18n","OrgAdminLookup"]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){(function($,_){"use strict";function user_type_sync($scope){return function(type_option){switch($scope.is_superuser=!1,$scope.is_system_auditor=!1,type_option.type){case"system_administrator":$scope.is_superuser=!0;break;case"system_auditor":$scope.is_system_auditor=!0}}}function UsersList($scope,$rootScope,$stateParams,Rest,Alert,UserList,Prompt,ClearScope,ProcessErrors,GetBasePath,Wait,$state,$filter,rbacUiControlService,Dataset,i18n){function init(){$scope.canAdd=!1,rbacUiControlService.canAdd("users").then(function(canAdd){$scope.canAdd=canAdd}),$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,$rootScope.flashMessage=null,$scope.selected=[]}for(var i=0;i<user_type_options.length;i++)user_type_options[i].label=i18n._(user_type_options[i].label);ClearScope();var list=UserList,defaultUrl=GetBasePath("users");init(),$scope.addUser=function(){$state.go("users.add")},$scope.editUser=function(id){$state.go("users.edit",{user_id:id})},$scope.deleteUser=function(id,name){var action=function(){$("#prompt-modal").modal("hide"),Wait("start");var url=defaultUrl+id+"/";Rest.setUrl(url),Rest.destroy().success(function(){parseInt($state.params.user_id)===id?$state.go("^",null,{reload:!0}):$state.go(".",null,{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Call to %s failed. DELETE returned status: "),url)+status})})};Prompt({hdr:i18n._("Delete"),body:'<div class="Prompt-bodyQuery">'+i18n._("Are you sure you want to delete the user below?")+'</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>",action:action,actionText:i18n._("DELETE")})}}function UsersAdd($scope,$rootScope,$stateParams,UserForm,GenerateForm,Rest,Alert,ProcessErrors,ReturnToCaller,ClearScope,GetBasePath,ResetForm,Wait,CreateSelect2,$state,$location,i18n){function init(){GenerateForm.applyDefaults(form,$scope),$scope.ldap_user=!1,$scope.not_ldap_user=!$scope.ldap_user,$scope.ldap_dn=null,$scope.socialAuthUser=!1,$scope.external_account=null,Rest.setUrl(GetBasePath("users")),Rest.options().success(function(data){data.actions.POST||($state.go("^"),Alert(i18n._("Permission Error"),i18n._("You do not have permission to add a user."),"alert-info"))}),$scope.user_type_options=user_type_options,$scope.user_type=user_type_options[0],$scope.$watch("user_type",user_type_sync($scope)),CreateSelect2({element:"#user_user_type",multiple:!1})}ClearScope();var defaultUrl=GetBasePath("organizations"),form=UserForm;init(),$scope.formSave=function(){var fld,data={};if($scope[form.name+"_form"].$valid)if(void 0!==$scope.organization&&null!==$scope.organization&&""!==$scope.organization){Rest.setUrl(defaultUrl+$scope.organization+"/users/");for(fld in form.fields)form.fields[fld].realName?data[form.fields[fld].realName]=$scope[fld]:data[fld]=$scope[fld];data.is_superuser=$scope.is_superuser,data.is_system_auditor=$scope.is_system_auditor,Wait("start"),Rest.post(data).success(function(data){var base=$location.path().replace(/^\//,"").split("/")[0];"users"===base?($rootScope.flashMessage=i18n._("New user successfully created!"),$rootScope.$broadcast("EditIndicatorChange","users",data.id),$state.go("users.edit",{user_id:data.id},{reload:!0})):ReturnToCaller(1)}).error(function(data,status){ProcessErrors($scope,data,status,form,{hdr:i18n._("Error!"),msg:i18n._("Failed to add new user. POST returned status: ")+status})})}else $scope.organization_name_api_error=i18n._("A value is required")},$scope.formCancel=function(){$state.go("users")},$scope.clearPWConfirm=function(fld){$scope[fld]="",$scope[form.name+"_form"][fld].$setValidity("awpassmatch",!1)}}function UsersEdit($scope,$rootScope,$location,$stateParams,UserForm,Rest,ProcessErrors,ClearScope,GetBasePath,ResetForm,Wait,CreateSelect2,$state,i18n){function init(){$scope.hidePagination=!1,$scope.hideSmartSearch=!1,$scope.user_type_options=user_type_options,$scope.user_type=user_type_options[0],$scope.$watch("user_type",user_type_sync($scope)),$scope.$watch("is_superuser",hidePermissionsTabSmartSearchAndPaginationIfSuperUser($scope)),Rest.setUrl(defaultUrl),Wait("start"),Rest.get(defaultUrl).success(function(data){$scope.user_id=id,$scope.ldap_user=null!==data.ldap_dn&&void 0!==data.ldap_dn&&""!==data.ldap_dn,$scope.not_ldap_user=!$scope.ldap_user,master.ldap_user=$scope.ldap_user,$scope.socialAuthUser=data.auth.length>0,$scope.external_account=data.external_account,$scope.user_type=$scope.user_type_options[0],$scope.is_system_auditor=!1,$scope.is_superuser=!1,data.is_system_auditor&&($scope.user_type=$scope.user_type_options[1],$scope.is_system_auditor=!0),data.is_superuser&&($scope.user_type=$scope.user_type_options[2],$scope.is_superuser=!0),$scope.user_obj=data,$scope.name=data.username,CreateSelect2({element:"#user_user_type",multiple:!1}),$scope.$watch("user_obj.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAdd=!1)}),setScopeFields(data),Wait("stop")}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Failed to retrieve user: %s. GET status: "),$stateParams.id)+status})})}function hidePermissionsTabSmartSearchAndPaginationIfSuperUser(scope){return function(isSuperuserNewValue){var shouldHide=isSuperuserNewValue;shouldHide===!0?(scope.hidePagination=!0,scope.hideSmartSearch=!0):shouldHide===!1&&(scope.hidePagination=!1,scope.hideSmartSearch=!1)}}function setScopeFields(data){_(data).pick(function(value,key){return form.fields.hasOwnProperty(key)===!0}).forEach(function(value,key){$scope[key]=value}).value()}for(var i=0;i<user_type_options.length;i++)user_type_options[i].label=i18n._(user_type_options[i].label);ClearScope();
var form=UserForm,master={},id=$stateParams.user_id,defaultUrl=GetBasePath("users")+id;init(),$scope.convertApiUrl=function(str){return str?str.replace("api/v1","#"):null};var processNewData=function(fields){var data={};return _.forEach(fields,function(value,key){""!==$scope[key]&&null!==$scope[key]&&void 0!==$scope[key]&&(data[key]=$scope[key])}),data.is_superuser=$scope.is_superuser,data.is_system_auditor=$scope.is_system_auditor,data};$scope.formCancel=function(){$state.go("users",null,{reload:!0})},$scope.formSave=function(){if($rootScope.flashMessage=null,$scope[form.name+"_form"].$valid){Rest.setUrl(defaultUrl+"/");var data=processNewData(form.fields);Rest.put(data).success(function(){$state.go($state.current,null,{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:i18n._("Error!"),msg:i18n.sprintf(i18n._("Failed to retrieve user: %s. GET status: "),$stateParams.id)+status})})}},$scope.clearPWConfirm=function(fld){$scope[fld]="",$scope[form.name+"_form"][fld].$setValidity("awpassmatch",!1),$rootScope.flashMessage=null}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UsersList=UsersList,exports.UsersAdd=UsersAdd,exports.UsersEdit=UsersEdit;var _i18n=__webpack_require__(172),user_type_options=[{type:"normal",label:(0,_i18n.N_)("Normal User")},{type:"system_auditor",label:(0,_i18n.N_)("System Auditor")},{type:"system_administrator",label:(0,_i18n.N_)("System Administrator")}];UsersList.$inject=["$scope","$rootScope","$stateParams","Rest","Alert","UserList","Prompt","ClearScope","ProcessErrors","GetBasePath","Wait","$state","$filter","rbacUiControlService","Dataset","i18n"],UsersAdd.$inject=["$scope","$rootScope","$stateParams","UserForm","GenerateForm","Rest","Alert","ProcessErrors","ReturnToCaller","ClearScope","GetBasePath","ResetForm","Wait","CreateSelect2","$state","$location","i18n"],UsersEdit.$inject=["$scope","$rootScope","$location","$stateParams","UserForm","Rest","ProcessErrors","ClearScope","GetBasePath","ResetForm","Wait","CreateSelect2","$state","i18n"]}).call(exports,__webpack_require__(1),__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_,$){"use strict";function TeamsList($scope,$rootScope,$log,$stateParams,Rest,Alert,TeamList,Prompt,ClearScope,ProcessErrors,GetBasePath,Wait,$state,$filter,rbacUiControlService,Dataset){function init(){$scope.canAdd=!1,rbacUiControlService.canAdd("teams").then(function(canAdd){$scope.canAdd=canAdd}),$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.name]=$scope[list.iterator+"_dataset"].results,_.forEach($scope[list.name],function(team){team.organization_name=team.summary_fields.organization.name}),$scope.selected=[]}ClearScope();var list=TeamList,defaultUrl=GetBasePath("teams");init(),$scope.addTeam=function(){$state.go("teams.add")},$scope.editTeam=function(id){$state.go("teams.edit",{team_id:id})},$scope.deleteTeam=function(id,name){var action=function(){Wait("start");var url=defaultUrl+id+"/";Rest.setUrl(url),Rest.destroy().success(function(){Wait("stop"),$("#prompt-modal").modal("hide"),parseInt($state.params.team_id)===id?$state.go("^",null,{reload:!0}):$state.go(".",null,{reload:!0})}).error(function(data,status){Wait("stop"),$("#prompt-modal").modal("hide"),ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Call to "+url+" failed. DELETE returned status: "+status})})};Prompt({hdr:"Delete",body:'<div class="Prompt-bodyQuery">Are you sure you want to delete the team below?</div><div class="Prompt-bodyTarget">'+$filter("sanitize")(name)+"</div>",action:action,actionText:"DELETE"})}}function TeamsAdd($scope,$rootScope,$stateParams,TeamForm,GenerateForm,Rest,Alert,ProcessErrors,ClearScope,GetBasePath,Wait,$state){function init(){$scope.canEditOrg=!0,GenerateForm.applyDefaults(form,$scope),$rootScope.flashMessage=null}ClearScope("htmlTemplate"),Rest.setUrl(GetBasePath("teams")),Rest.options().success(function(data){data.actions.POST||($state.go("^"),Alert("Permission Error","You do not have permission to add a team.","alert-info"))});var defaultUrl=GetBasePath("teams"),form=TeamForm;init(),$scope.formSave=function(){var fld,data;GenerateForm.clearApiErrors($scope),Wait("start"),Rest.setUrl(defaultUrl),data={};for(fld in form.fields)data[fld]=$scope[fld];Rest.post(data).success(function(data){Wait("stop"),$rootScope.flashMessage="New team successfully created!",$rootScope.$broadcast("EditIndicatorChange","users",data.id),$state.go("teams.edit",{team_id:data.id},{reload:!0})}).error(function(data,status){Wait("stop"),ProcessErrors($scope,data,status,form,{hdr:"Error!",msg:"Failed to add new team. Post returned status: "+status})})},$scope.formCancel=function(){$state.go("teams")}}function TeamsEdit($scope,$rootScope,$stateParams,TeamForm,Rest,ProcessErrors,ClearScope,GetBasePath,Wait,$state,OrgAdminLookup){function init(){$scope.team_id=id,Rest.setUrl(defaultUrl),Wait("start"),Rest.get(defaultUrl).success(function(data){setScopeFields(data),$scope.organization_name=data.summary_fields.organization.name,OrgAdminLookup.checkForAdminAccess({organization:data.organization}).then(function(canEditOrg){$scope.canEditOrg=canEditOrg}),$scope.team_obj=data,Wait("stop")}),$scope.$watch("team_obj.summary_fields.user_capabilities.edit",function(val){val===!1&&($scope.canAdd=!1)})}function setScopeFields(data){_(data).pick(function(value,key){return form.fields.hasOwnProperty(key)===!0}).forEach(function(value,key){$scope[key]=value}).value()}function processNewData(fields){var data={};return _.forEach(fields,function(value,key){""!==$scope[key]&&null!==$scope[key]&&void 0!==$scope[key]&&(data[key]=$scope[key])}),data}ClearScope();var form=TeamForm,id=$stateParams.team_id,defaultUrl=GetBasePath("teams")+id;init(),$scope.formCancel=function(){$state.go("teams",null,{reload:!0})},$scope.formSave=function(){if($rootScope.flashMessage=null,$scope[form.name+"_form"].$valid){var data=processNewData(form.fields);Rest.setUrl(defaultUrl),Rest.put(data).success(function(){$state.go($state.current,null,{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Failed to retrieve user: "+$stateParams.id+". GET status: "+status})})}},init(),$scope.convertApiUrl=function(str){return str?str.replace("api/v1","#"):null}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TeamsList=TeamsList,exports.TeamsAdd=TeamsAdd,exports.TeamsEdit=TeamsEdit,TeamsList.$inject=["$scope","$rootScope","$log","$stateParams","Rest","Alert","TeamList","Prompt","ClearScope","ProcessErrors","GetBasePath","Wait","$state","$filter","rbacUiControlService","Dataset"],TeamsAdd.$inject=["$scope","$rootScope","$stateParams","TeamForm","GenerateForm","Rest","Alert","ProcessErrors","ClearScope","GetBasePath","Wait","$state"],TeamsEdit.$inject=["$scope","$rootScope","$stateParams","TeamForm","Rest","ProcessErrors","ClearScope","GetBasePath","Wait","$state","OrgAdminLookup"]}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _roleList=__webpack_require__(702),_roleList2=_interopRequireDefault(_roleList),_main=__webpack_require__(703),_main2=_interopRequireDefault(_main),_main3=__webpack_require__(711),_main4=_interopRequireDefault(_main3),_permissionsList=__webpack_require__(715),_permissionsList2=_interopRequireDefault(_permissionsList);exports.default=angular.module("RbacModule",[_main2.default.name,_main4.default.name]).controller("PermissionsList",_permissionsList2.default).directive("roleList",_roleList2.default)},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl","Wait","GetBasePath","Rest","$state","ProcessErrors","Prompt","$filter","$rootScope",function(templateUrl,Wait,GetBasePath,Rest,$state,ProcessErrors,Prompt,$filter,$rootScope){return{restrict:"E",scope:{deleteTarget:"="},templateUrl:templateUrl("access/rbac-role-column/roleList"),link:function(scope,element,attrs){scope.access_list=[].concat(scope.deleteTarget.summary_fields.direct_access.map(function(i){return i.role.explicit=!0,i.role})).concat(scope.deleteTarget.summary_fields.indirect_access.map(function(i){return i.role.explicit=!1,i.role})).filter(function(role){return Boolean(attrs.teamRoleList)===Boolean(role.team_id)}).sort(function(a,b){return a.name.toLowerCase()>b.name.toLowerCase()?1:-1}),scope.deletePermission=function(user,accessListEntry){var entry=accessListEntry,action=function(){$("#prompt-modal").modal("hide"),Wait("start");var url=void 0;url=entry.team_id?GetBasePath("teams")+entry.team_id+"/roles/":GetBasePath("users")+user.id+"/roles/",Rest.setUrl(url),Rest.post({disassociate:!0,id:entry.id}).success(function(){Wait("stop"),$state.go(".",null,{reload:!0})}).error(function(data,status){ProcessErrors($rootScope,data,status,null,{hdr:"Error!",msg:"Failed to remove access.  Call to "+url+" failed. DELETE returned status: "+status})})};Prompt(accessListEntry.team_id?{hdr:"Team access removal",body:'<div class="Prompt-bodyQuery">Please confirm that you would like to remove <span class="Prompt-emphasis">'+entry.name+'</span> access from the team <span class="Prompt-emphasis">'+$filter("sanitize")(entry.team_name)+"</span>. This will affect all members of the team. If you would like to only remove access for this particular user, please remove them from the team.</div>",action:action,actionText:"REMOVE TEAM ACCESS"}:{hdr:"User access removal",body:'<div class="Prompt-bodyQuery">Please confirm that you would like to remove <span class="Prompt-emphasis">'+entry.name+'</span> access from <span class="Prompt-emphasis">'+user.username+"</span>.</div>",action:action,actionText:"REMOVE"})}}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _rbacResource=__webpack_require__(704),_rbacResource2=_interopRequireDefault(_rbacResource),_main=__webpack_require__(706),_main2=_interopRequireDefault(_main);exports.default=angular.module("AddRbacResourceModule",[_main2.default.name]).directive("addRbacResource",_rbacResource2.default)},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _rbacResource=__webpack_require__(705),_rbacResource2=_interopRequireDefault(_rbacResource);exports.default=["templateUrl","$state","Wait","addPermissionsUsersList","addPermissionsTeamsList",function(templateUrl,$state,Wait,usersList,teamsList){return{restrict:"E",scope:{usersDataset:"=",teamsDataset:"=",resourceData:"=",withoutTeamPermissions:"@",title:"@"},controller:_rbacResource2.default,templateUrl:templateUrl("access/add-rbac-resource/rbac-resource"),link:function(scope,element,attrs){scope.toggleFormTabs("users"),$("#add-permissions-modal").modal("show"),scope.closeModal=function(){$state.go("^",null,{reload:!0})},window.scrollTo(0,0)}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","$scope","GetBasePath","Rest","$q","Wait","ProcessErrors",function(rootScope,scope,GetBasePath,Rest,$q,Wait,ProcessErrors){scope.allSelected=[],scope.object=scope.resourceData.data,scope.roles=_.omit(scope.object.summary_fields.object_roles,function(key){return"Read"===key.name}),scope.roleKey=Object.keys(scope.object.summary_fields.object_roles).map(function(key){return{name:scope.object.summary_fields.object_roles[key].name,description:scope.object.summary_fields.object_roles[key].description}}),scope.showKeyPane=!1,scope.removeObject=function(obj){_.remove(scope.allSelected,{id:obj.id}),obj.isSelected=!1},scope.toggleKeyPane=function(){scope.showKeyPane=!scope.showKeyPane},scope.toggleFormTabs=function(list){scope.usersSelected="users"===list,scope.teamsSelected=!scope.usersSelected},scope.$on("selectedOrDeselected",function(e,value){function buildName(user){return user.first_name&&user.last_name?user.first_name+" "+user.last_name:user.username}var item=value.value;value.isSelected?("user"===item.type&&(item.name=buildName(item)),scope.allSelected.push(item)):_.remove(scope.allSelected,{id:item.id})}),scope.$watch("allSelected",function(val){scope.posts=_.flatten((val||[]).map(function(owner){var url=GetBasePath(owner.type+"s")+owner.id+"/roles/";return(owner.roles||[]).map(function(role){return{url:url,id:role.value||role.id}})}))},!0),scope.updatePermissions=function(){Wait("start");var requests=scope.posts.map(function(post){return Rest.setUrl(post.url),Rest.post({id:post.id})});$q.all(requests).then(function(){Wait("stop"),rootScope.$broadcast("refreshList","permission"),scope.closeModal()},function(error){Wait("stop"),rootScope.$broadcast("refreshList","permission"),scope.closeModal(),ProcessErrors(null,error.data,error.status,null,{hdr:"Error!",msg:"Failed to post role(s): POST returned status"+error.status})})}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _rbacMultiselectList=__webpack_require__(707),_rbacMultiselectList2=_interopRequireDefault(_rbacMultiselectList),_rbacMultiselectRole=__webpack_require__(708),_rbacMultiselectRole2=_interopRequireDefault(_rbacMultiselectRole),_permissionsTeams=__webpack_require__(709),_permissionsTeams2=_interopRequireDefault(_permissionsTeams),_permissionsUsers=__webpack_require__(710),_permissionsUsers2=_interopRequireDefault(_permissionsUsers);exports.default=angular.module("rbacMultiselectModule",[]).directive("rbacMultiselectList",_rbacMultiselectList2.default).directive("rbacMultiselectRole",_rbacMultiselectRole2.default).factory("addPermissionsTeamsList",_permissionsTeams2.default).factory("addPermissionsUsersList",_permissionsUsers2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["addPermissionsTeamsList","addPermissionsUsersList","TemplateList","ProjectList","InventoryList","CredentialList","$compile","generateList","GetBasePath","SelectionInit",function(addPermissionsTeamsList,addPermissionsUsersList,TemplateList,ProjectList,InventoryList,CredentialList,$compile,generateList,GetBasePath,SelectionInit){return{restrict:"E",scope:{allSelected:"=",view:"@",dataset:"="},template:"<div class='addPermissionsList-inner'></div>",link:function(scope,element,attrs,ctrl){function optionsRequestDataProcessing(){"projects"===scope.list.name&&void 0!==scope[list.name]&&scope[list.name].forEach(function(item,item_idx){var itm=scope[list.name][item_idx];list.fields.scm_type&&scope.options&&scope.options.hasOwnProperty("scm_type")&&scope.options.scm_type.choices.forEach(function(choice){choice[0]===item.scm_type&&(itm.type_label=choice[1])})})}function isSelected(item){return _.find(scope.allSelected,{id:item.id,type:item.type})&&(item.isSelected=!0),item}var listMap=void 0,list=void 0,list_html=void 0;switch(listMap={Teams:addPermissionsTeamsList,Users:addPermissionsUsersList,Projects:ProjectList,JobTemplates:TemplateList,WorkflowTemplates:TemplateList,Inventories:InventoryList,Credentials:CredentialList},list=_.cloneDeep(listMap[scope.view]),list.multiSelect=!0,list.multiSelectExtended=!0,list.listTitleBadge=!1,delete list.actions,delete list.fieldActions,scope.view){case"Projects":list.fields={name:list.fields.name,scm_type:list.fields.scm_type},list.fields.name.columnClass="col-md-6 col-sm-6 col-xs-11",list.fields.scm_type.columnClass="col-md-5 col-sm-5 hidden-xs";break;case"Inventories":list.fields={name:list.fields.name,organization:list.fields.organization},list.fields.name.columnClass="col-md-6 col-sm-6 col-xs-11",list.fields.organization.columnClass="col-md-5 col-sm-5 hidden-xs";break;case"JobTemplates":list.name="job_templates",list.iterator="job_template",list.basePath="job_templates",list.fields={name:list.fields.name,description:list.fields.description},list.fields.name.columnClass="col-md-6 col-sm-6 col-xs-11",list.fields.name.ngHref="#/templates/job_template/{{job_template.id}}",list.fields.description.columnClass="col-md-5 col-sm-5 hidden-xs";break;case"WorkflowTemplates":list.name="workflow_templates",list.iterator="workflow_template",list.basePath="workflow_job_templates",list.fields={name:list.fields.name,description:list.fields.description},list.fields.name.columnClass="col-md-6 col-sm-6 col-xs-11",list.fields.name.ngHref="#/templates/workflow_job_template/{{workflow_template.id}}",list.fields.description.columnClass="col-md-5 col-sm-5 hidden-xs";break;case"Users":list.fields={username:list.fields.username,first_name:list.fields.first_name,last_name:list.fields.last_name},list.fields.username.columnClass="col-md-5 col-sm-5 col-xs-11",list.fields.first_name.columnClass="col-md-3 col-sm-3 hidden-xs",list.fields.last_name.columnClass="col-md-3 col-sm-3 hidden-xs";break;case"Teams":list.fields={name:list.fields.name,organization:list.fields.organization},list.fields.name.columnClass="col-md-6 col-sm-6 col-xs-11",list.fields.organization.columnClass="col-md-5 col-sm-5 hidden-xs";break;default:list.fields={name:list.fields.name,description:list.fields.description},list.fields.name.columnClass="col-md-6 col-sm-6 col-xs-11",list.fields.description.columnClass="col-md-5 col-sm-5 hidden-xs"}list_html=generateList.build({mode:"edit",list:list,related:!1,title:!1}),scope.list=list,scope[list.iterator+"_dataset"]=scope.dataset.data,scope[""+list.name]=scope[list.iterator+"_dataset"].results,scope.$watch(list.name,function(){_.forEach(scope[""+list.name],isSelected),optionsRequestDataProcessing()}),scope.$on(list.iterator+"_options",function(event,data){scope.options=data.data.actions.GET,optionsRequestDataProcessing()}),element.append(list_html),$compile(element.contents())(scope)}}}]}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["CreateSelect2","i18n",function(CreateSelect2,i18n){return{restrict:"E",scope:{roles:"=",model:"="},template:'<select ng-cloak class="AddPermissions-selectHide roleSelect2 form-control" ng-model="model" ng-options="role.name for role in roles track by role.id" multiple required></select>',link:function(scope,element,attrs,ctrl){CreateSelect2({element:".roleSelect2",multiple:!0,placeholder:i18n._("Select roles")})}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{searchSize:"col-lg-12 col-md-12 col-sm-12 col-xs-12",name:"teams",iterator:"team",listTitleBadge:!1,multiSelect:!0,multiSelectExtended:!0,index:!1,hover:!0,emptyListText:i18n._("No Teams exist"),fields:{name:{key:!0,label:i18n._("name")},organization:{label:i18n._("organization"),ngBind:"team.summary_fields.organization.name",sourceModel:"organization",sourceField:"name",searchable:!0}}}}]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["i18n",function(i18n){return{name:"users",iterator:"user",title:!1,listTitleBadge:!1,multiSelect:!0,multiSelectExtended:!0,index:!1,hover:!0,emptyListText:i18n._("No Users exist"),fields:{first_name:{label:i18n._("First Name"),columnClass:"col-md-3 col-sm-3 hidden-xs"},last_name:{label:i18n._("Last Name"),columnClass:"col-md-3 col-sm-3 hidden-xs"},username:{key:!0,label:i18n._("Username"),columnClass:"col-md-5 col-sm-5 col-xs-11"}}}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _rbacUserTeam=__webpack_require__(712),_rbacUserTeam2=_interopRequireDefault(_rbacUserTeam),_rbacSelectedList=__webpack_require__(714),_rbacSelectedList2=_interopRequireDefault(_rbacSelectedList);exports.default=angular.module("AddRbacUserTeamModule",[]).directive("addRbacUserTeam",_rbacUserTeam2.default).directive("rbacSelectedList",_rbacSelectedList2.default)},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _rbacUserTeam=__webpack_require__(713),_rbacUserTeam2=_interopRequireDefault(_rbacUserTeam);exports.default=["templateUrl",function(templateUrl){return{restrict:"E",scope:{resolve:"=",title:"@"},controller:_rbacUserTeam2.default,templateUrl:templateUrl("access/add-rbac-user-team/rbac-user-team"),link:function(scope,element,attrs){scope.selectTab("job_templates"),$("#add-permissions-modal").modal("show"),window.scrollTo(0,0)}}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","$scope","$state","i18n","CreateSelect2","GetBasePath","Rest","$q","Wait","ProcessErrors",function(rootScope,scope,$state,i18n,CreateSelect2,GetBasePath,Rest,$q,Wait,ProcessErrors){function init(){function buildSelect2(type){CreateSelect2({element:"#"+type+"-role-select",multiple:!1,placeholder:i18n._("Select a role")})}var resources=["job_templates","workflow_templates","projects","inventories","credentials"];scope.selected={},_.each(resources,function(type){return scope.selected[type]={}}),scope.keys={},_.each(resources,function(type){return scope.keys[type]={}}),scope.roleSelection={},_.each(resources,function(type){return scope.roleSelection[type]=null}),scope.tab={job_templates:!0,workflow_templates:!1,projects:!1,inventories:!1,credentials:!1},_.each(resources,function(type){return buildSelect2(type)}),scope.showKeyPane=!1,scope.owner=scope.resolve.resourceData.data}function aggregateKey(item,type){_.merge(scope.keys[type],_.omit(item.summary_fields.object_roles,"read_role"))}init(),scope.closeModal=function(){$state.go("^",null,{reload:!0})},scope.currentTab=function(){return _.findKey(scope.tab,function(tab){return tab})},scope.toggleKeyPane=function(){scope.showKeyPane=!scope.showKeyPane},scope.showSection2Container=function(){return _.any(scope.selected,function(type){return Object.keys(type).length>0})},scope.showSection2Tab=function(tab){return Object.keys(scope.selected[tab]).length>0},scope.saveEnabled=function(){var missingRole=!1,resourceSelected=!1;return _.forOwn(scope.selected,function(value,key){Object.keys(value).length>0&&(resourceSelected=!0,scope.roleSelection[key]||(missingRole=!0))}),resourceSelected&&!missingRole},scope.selectTab=function(selected){_.each(scope.tab,function(value,key,collection){collection[key]=selected===key})},scope.$on("selectedOrDeselected",function(e,value){var resourceType=scope.currentTab(),item=value.value;value.isSelected?(scope.selected[resourceType][item.id]=item,scope.selected[resourceType][item.id].roles=[],aggregateKey(item,resourceType)):delete scope.selected[resourceType][item.id]}),scope.saveForm=function(){var roles=_(scope.selected).map(function(resources,type){return _.map(resources,function(resource){return resource.summary_fields.object_roles[scope.roleSelection[type]]})}).flattenDeep().value();Rest.setUrl(scope.owner.related.roles),$q.all(_.map(roles,function(entity){return Rest.post({id:entity.id})})).then(function(){Wait("stop"),scope.closeModal()},function(error){scope.closeModal(),ProcessErrors(null,error.data,error.status,null,{hdr:"Error!",msg:"Failed to post role(s): POST returned status"+error.status})})}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$compile","templateUrl","i18n","generateList","ProjectList","TemplateList","InventoryList","CredentialList",function($compile,templateUrl,i18n,generateList,ProjectList,TemplateList,InventoryList,CredentialList){return{restrict:"E",scope:{resourceType:"=",collection:"=",selected:"="},link:function(scope,element,attrs){var listMap=void 0,list=void 0,list_html=void 0;switch(listMap={projects:ProjectList,job_templates:TemplateList,workflow_templates:TemplateList,inventories:InventoryList,credentials:CredentialList},list=_.cloneDeep(listMap[scope.resourceType]),list.fieldActions={remove:{ngClick:"removeSelection("+list.iterator+", resourceType)",iconClass:"fa fa-times-circle",awToolTip:i18n._("Remove "+list.iterator),label:i18n._("Remove"),class:"btn-sm"}},delete list.actions,list.listTitleBadge=!1,scope.resourceType){case"projects":list.fields={name:list.fields.name,scm_type:list.fields.scm_type},list.fields.name.columnClass="col-md-5 col-sm-5 col-xs-10",list.fields.scm_type.columnClass="col-md-5 col-sm-5 hidden-xs";break;case"inventories":list.fields={name:list.fields.name,organization:list.fields.organization},list.fields.name.columnClass="col-md-5 col-sm-5 col-xs-10",list.fields.organization.columnClass="col-md-5 col-sm-5 hidden-xs";break;case"job_templates":list.name="job_templates",list.iterator="job_template",list.fields={name:list.fields.name,description:list.fields.description},list.fields.name.columnClass="col-md-5 col-sm-5 col-xs-10",list.fields.description.columnClass="col-md-5 col-sm-5 hidden-xs";break;case"workflow_templates":list.name="workflow_templates",list.iterator="workflow_template",list.basePath="workflow_job_templates",list.fields={name:list.fields.name,description:list.fields.description},list.fields.name.columnClass="col-md-5 col-sm-5 col-xs-10",list.fields.description.columnClass="col-md-5 col-sm-5 hidden-xs";break;case"credentials":list.fields={name:list.fields.name,description:list.fields.description},list.fields.name.columnClass="col-md-5 col-sm-5 col-xs-10",list.fields.description.columnClass="col-md-5 col-sm-5 hidden-xs"}list.fields=_.each(list.fields,function(field){return field.nosort=!0}),list_html=generateList.build({mode:"edit",list:list,related:!1,title:!1,showSearch:!1,showEmptyPanel:!1,paginate:!1}),scope.list=list,scope.$watchCollection("collection",function(selected){scope[list.iterator+"_dataset"]=scope.collection,scope[list.name]=_.values(scope.collection)}),scope.removeSelection=function(resource,type){var multiselect_scope=void 0,deselectedIdx=void 0;delete scope.collection[resource.id],delete scope.selected[type][resource.id],multiselect_scope=angular.element("#AddPermissions-body").find("#"+type+"_table").scope(),deselectedIdx=_.findIndex(multiselect_scope[type],{id:resource.id}),multiselect_scope[type][deselectedIdx].isSelected=!1},element.append(list_html),$compile(element.contents())(scope)}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$scope","ListDefinition","Dataset","Wait","Rest","ProcessErrors","Prompt","$state",function($scope,list,Dataset,Wait,Rest,ProcessErrors,Prompt,$state){function init(){$scope.list=list,$scope[list.iterator+"_dataset"]=Dataset.data,$scope[list.iterator+"s"]=$scope[list.iterator+"_dataset"].results}init(),$scope.deletePermissionFromUser=function(userId,userName,roleName,roleType,url){var action=function(){$("#prompt-modal").modal("hide"),Wait("start"),Rest.setUrl(url),Rest.post({disassociate:!0,id:userId}).success(function(){Wait("stop"),$state.go(".",null,{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Could not disassociate user from role.  Call to "+url+" failed. DELETE returned status: "+status})})};Prompt({hdr:"Remove role",body:'\n                    <div class="Prompt-bodyQuery">\n                        Confirm  the removal of the '+roleType+'\n                            <span class="Prompt-emphasis"> '+roleName+" </span>\n                        role associated with "+userName+".\n                    </div>\n                ",action:action,actionText:"REMOVE"})},$scope.deletePermissionFromTeam=function(teamId,teamName,roleName,roleType,url){var action=function(){$("#prompt-modal").modal("hide"),Wait("start"),Rest.setUrl(url),Rest.post({disassociate:!0,id:teamId}).success(function(){Wait("stop"),$state.go(".",null,{reload:!0})}).error(function(data,status){ProcessErrors($scope,data,status,null,{hdr:"Error!",msg:"Could not disassociate team from role.  Call to "+url+" failed. DELETE returned status: "+status})})};Prompt({hdr:"Remove role",body:'\n                    <div class="Prompt-bodyQuery">\n                        Confirm  the removal of the '+roleType+'\n                            <span class="Prompt-emphasis"> '+roleName+" </span>\n                        role associated with the "+teamName+" team.\n                    </div>\n                ",action:action,actionText:"REMOVE"})}}]}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(_,$){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ModalDialog",["Utilities","ParseHelper"]).factory("CreateDialog",["Empty",function(Empty){return function(params){function updateButtonStatus(isValid){$('.ui-dialog[aria-describedby="'+id+'"]').find(".btn-primary").prop("disabled",!isValid)}var scope=params.scope,buttonSet=params.buttons,width=params.width||500,height=params.height||600,minWidth=params.minWidth||300,title=params.title||"",onResizeStop=params.onResizeStop,onClose=params.onClose,onOpen=params.onOpen,_allowInteraction=params._allowInteraction,callback=params.callback,beforeDestroy=params.beforeDestroy,closeOnEscape=void 0!==params.closeOnEscape&&params.closeOnEscape,resizable=void 0!==params.resizable&&params.resizable,draggable=void 0===params.draggable||params.draggable,dialogClass=params.dialogClass,forms=_.chain([params.form]).flatten().compact().value(),buttons=void 0,id=params.id,position=void 0===params.position?{my:"center",at:"center",of:window}:params.position,x=void 0,y=void 0,wh=void 0,ww=void 0;Empty(buttonSet)&&(buttonSet=[{label:"OK",onClick:function(){scope.modalOK()},icon:"",class:"btn btn-primary",id:"dialog-ok-button"}]),buttons={},buttonSet.forEach(function(btn){buttons[btn.label]=btn.onClick}),ww=$(document).width(),wh=$(document).height(),x=width>ww?ww-10:width,y=height>wh?wh-10:height,$("#"+id).dialog({buttons:buttons,modal:!0,width:x,height:y,autoOpen:!1,minWidth:minWidth,title:title,closeOnEscape:closeOnEscape,resizable:resizable,draggable:draggable,dialogClass:dialogClass,position:position,create:function(){$('.ui-dialog[aria-describedby="'+id+'"]').find(".ui-dialog-titlebar button").empty().attr({class:"close"}).html('<i class="fa fa-times-circle"></i>'),setTimeout(function(){$('.ui-dialog[aria-describedby="'+id+'"]').find(".ui-dialog-buttonset button").each(function(){var txt=$(this).text(),self=$(this);buttonSet.forEach(function(btn){txt===btn.label&&(self.attr({class:btn.class,id:btn.id}),btn.icon&&self.empty().html('<i class="fa '+btn.icon+'"></i> '+btn.label))})})},300),forms.length>0&&forms.map(function(form_ctrl){scope.$watch(form_ctrl.$name+".$valid",updateButtonStatus)}),setTimeout(function(){scope.$apply(function(){scope.$emit(callback)})},300)},resizeStop:function(){var dialog=$('.ui-dialog[aria-describedby="'+id+'"]'),titleHeight=dialog.find(".ui-dialog-titlebar").outerHeight(),buttonHeight=dialog.find(".ui-dialog-buttonpane").outerHeight(),content=dialog.find("#"+id);content.width(dialog.width()-28),content.css({height:dialog.height()-titleHeight-buttonHeight-10}),
onResizeStop&&onResizeStop()},close:function(){$(".tooltip").each(function(){$(this).remove()}),$(".popover").each(function(){$(this).remove()}),beforeDestroy&&beforeDestroy(),$("#"+id).dialog("destroy"),$("#"+id).hide(),onClose&&onClose()},open:function(){$(".tooltip").each(function(){$(this).remove()}),$(".popover").each(function(){$(this).remove()}),onOpen&&onOpen()},_allowInteraction:_allowInteraction})}}]).factory("TextareaResize",["ParseTypeChange","Wait",function(ParseTypeChange,Wait){return function(params){function waitStop(){Wait("stop")}var textarea,formHeight,model,windowHeight,offset,rows,scope=params.scope,textareaId=params.textareaId,modalId=params.modalId,formId=params.formId,fld=params.fld,parse=void 0===params.parse||params.parse,bottom_margin=params.bottom_margin?params.bottom_margin:0,onChange=params.onChange;for(textarea=$("#"+textareaId),scope.codeMirror&&(model=textarea.attr("ng-model"),scope[model]=scope.codeMirror.getValue(),scope.codeMirror.destroy()),textarea.attr("rows",1),formHeight=$("#"+formId).height(),windowHeight=$("#"+modalId).height()-20,offset=Math.floor(windowHeight-formHeight-bottom_margin),rows=Math.floor(offset/20),rows=rows<6?6:rows,textarea.attr("rows",rows);rows>6&&$("#"+formId).height()>$("#"+modalId).height()+bottom_margin;)rows--,textarea.attr("rows",rows);parse&&ParseTypeChange({scope:scope,field_id:textareaId,onReady:waitStop,variable:fld,onChange:onChange})}}])}).call(exports,__webpack_require__(2),__webpack_require__(1))},function(module,exports,__webpack_require__){(function($){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("PromptDialog",["Utilities","sanitizeFilter"]).factory("Prompt",[function(){return function(params){function disableTabModalShown(){$(".modal").on("shown.bs.modal",function(){var focus,focusPrevious,focusNext,modal=$(this),focusableChildren=modal.find("a[href], a[data-dismiss], area[href], input, select, textarea, button, iframe, object, embed, *[tabindex], *[contenteditable]"),numElements=focusableChildren.length,currentIndex=0;$(document.activeElement).blur(),focus=function(){var focusableElement=focusableChildren[currentIndex];focusableElement&&focusableElement.focus()},focusPrevious=function(){return currentIndex--,currentIndex<0&&(currentIndex=numElements-1),focus(),!1},focusNext=function(){return currentIndex++,currentIndex>=numElements&&(currentIndex=0),focus(),!1},$(document).on("keydown",function(e){9===e.keyCode&&e.shiftKey?(e.preventDefault(),focusPrevious()):9===e.keyCode&&(e.preventDefault(),focusNext())}),$(this).focus()}),$(".modal").on("hidden.bs.modal",function(){$(document).unbind("keydown")})}var cls,local_backdrop,dialog=angular.element(document.getElementById("prompt-modal")),scope=dialog.scope();scope.promptHeader=params.hdr,scope.promptBody=params.body,scope.promptAction=params.action,scope.promptActionText=null===params.actionText||void 0===params.actionText||""===params.actionText?"YES":params.actionText,local_backdrop=void 0===params.backdrop?"static":params.backdrop,cls=null===params.class||void 0===params.class?"Modal-errorButton":params.class,$("#prompt_action_btn").removeClass("Modal-errorButton Modal-primaryButton").addClass(cls),$("#prompt-modal").off("hidden.bs.modal"),$("#prompt-modal").modal({backdrop:"static",keyboard:!0,show:!0}),disableTabModalShown()}}])}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function($,global){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("AWDirectives",["RestServices","Utilities","JobsHelper"]).directive("awpassmatch",function(){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$parsers.unshift(function(viewValue){var associated=attrs.awpassmatch,password=$('input[name="'+associated+'"]').val();return viewValue===password?(ctrl.$setValidity("awpassmatch",!0),viewValue):(ctrl.$setValidity("awpassmatch",!1),viewValue)})}}}).directive("capitalize",function(){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$parsers.unshift(function(viewValue){var i,values=viewValue.split(" "),result="";for(i=0;i<values.length;i++)result+=values[i].charAt(0).toUpperCase()+values[i].substr(1)+" ";return result=result.trim(),result!==viewValue&&(ctrl.$setViewValue(result),ctrl.$render()),result})}}}).directive("chkPass",[function(){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){$(elm).keyup(function(){var validity=!0;elm.val()?($AnsibleConfig.password_length&&(validity=ctrl.$modelValue.length>=$AnsibleConfig.password_length,ctrl.$setValidity("password_length",validity)),$AnsibleConfig.password_hasLowercase&&(validity=/[a-z]/.test(ctrl.$modelValue),ctrl.$setValidity("hasLowercase",validity)),$AnsibleConfig.password_hasUppercase&&(validity=/[A-Z]/.test(ctrl.$modelValue),ctrl.$setValidity("hasUppercase",validity)),$AnsibleConfig.password_hasNumber&&(validity=/[0-9]/.test(ctrl.$modelValue),ctrl.$setValidity("hasNumber",validity)),$AnsibleConfig.password_hasSymbol&&(validity=/[\\#@$-\/:-?{-~!"^_`\[\]]/.test(ctrl.$modelValue),ctrl.$setValidity("hasSymbol",validity))):(validity=!0,$AnsibleConfig.password_length&&ctrl.$setValidity("password_length",validity),$AnsibleConfig.password_hasLowercase&&ctrl.$setValidity("hasLowercase",validity),$AnsibleConfig.password_hasUppercase&&ctrl.$setValidity("hasUppercase",validity),$AnsibleConfig.password_hasNumber&&ctrl.$setValidity("hasNumber",validity),$AnsibleConfig.password_hasSymbol&&ctrl.$setValidity("hasSymbol",validity)),scope.$$phase||scope.$digest()})}}}]).directive("imageUpload",["ConfigurationUtils","i18n","$rootScope",function(ConfigurationUtils,i18n,$rootScope){var browseText=i18n._("BROWSE"),placeholderText=i18n._("Choose file"),uploadedText=i18n._("Current Image: "),removeText=i18n._("REMOVE");return{restrict:"E",scope:{key:"@"},template:'\n                <div class="input-group">\n                      <label class="input-group-addon Form-filePicker--pickerButton" id="filePickerButton" for="filePicker" ng-click="update($event)">'+browseText+'</label>\n                      <input type="text" class="form-control Form-filePicker--textBox" id="filePickerText" placeholder="'+placeholderText+'" readonly>\n                      <input type="file" name="file" class="Form-filePicker" id="filePicker"  onchange="angular.element(this).scope().fileChange(this.files)"/>\n                    </div>\n\n                <div ng-if="imagePresent" class="Form-filePicker--selectedFile">\n                '+uploadedText+'\n                    <img data-ng-src="{{imageData}}" alt="Current logo" class="Form-filePicker--thumbnail">\n                </div>\n\n                <div class="error" id="filePickerError"></div>',link:function(scope){var fieldKey=scope.key,filePickerText=angular.element(document.getElementById("filePickerText")),filePickerError=angular.element(document.getElementById("filePickerError")),filePickerButton=angular.element(document.getElementById("filePickerButton")),filePicker=angular.element(document.getElementById("filePicker"));scope.imagePresent=global.$AnsibleConfig.custom_logo||!1,scope.imageData=$rootScope.custom_logo,scope.$on("loginUpdated",function(){scope.imagePresent=global.$AnsibleConfig.custom_logo,scope.imageData=$rootScope.custom_logo}),scope.$watch("imagePresent",function(val){val?filePickerButton.html(removeText):filePickerButton.html(browseText)}),scope.$on(fieldKey+"_reverted",function(e){scope.update(e,!0)}),scope.update=function(e,flag){(scope.$parent[fieldKey]||flag)&&(e.preventDefault(),scope.$parent[fieldKey]="",filePickerButton.html(browseText),filePickerText.val(""),filePicker.context.value="",scope.imagePresent=!1)},scope.fileChange=function(file){filePickerError.html(""),ConfigurationUtils.imageProcess(file[0]).then(function(result){scope.$parent[fieldKey]=result,filePickerText.val(file[0].name),filePickerButton.html(removeText)}).catch(function(error){filePickerText.html(file[0].name),filePickerError.text(error)}).finally(function(){})}}}}]).directive("surveyCheckboxes",function(){return{restrict:"E",require:"ngModel",scope:{ngModel:"=ngModel"},template:'<div class="survey_taker_input" ng-repeat="option in ngModel.options"><label style="font-weight:normal"><input type="checkbox" ng-model="cbModel[option.value]" value="{{option.value}}" class="mc" ng-change="update(this.value)" /><span>{{option.value}}</span></label></div>',link:function(scope,element,attrs,ctrl){scope.cbModel={},ctrl.$setValidity("reqCheck",!0),angular.forEach(scope.ngModel.value,function(value){scope.cbModel[value]=!0}),scope.ngModel.required===!0&&0===scope.ngModel.value.length&&ctrl.$setValidity("reqCheck",!1),ctrl.$parsers.unshift(function(viewValue){for(var c in scope.cbModel)scope.cbModel[c]&&ctrl.$setValidity("checkbox",!0);return ctrl.$setValidity("checkbox",!1),viewValue}),scope.update=function(){var val=[];angular.forEach(scope.cbModel,function(v,k){v&&val.push(k)}),val.length>0?(scope.ngModel.value=val,scope.$parent[scope.ngModel.name]=val,ctrl.$setValidity("checkbox",!0),ctrl.$setValidity("reqCheck",!0)):scope.ngModel.required===!0&&ctrl.$setValidity("checkbox",!1)}}}}).directive("awSurveyQuestion",function(){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$parsers.unshift(function(viewValue){var i,values=viewValue.split(" "),result="";for(result+=values[0].charAt(0).toUpperCase()+values[0].substr(1)+" ",i=1;i<values.length;i++)result+=values[i]+" ";return result=result.trim(),result!==viewValue&&(ctrl.$setViewValue(result),ctrl.$render()),result})}}}).directive("awMin",["Empty",function(Empty){return{restrict:"A",require:"ngModel",link:function(scope,elem,attr,ctrl){ctrl.$parsers.unshift(function(viewValue){var min=attr.awMin?scope.$eval(attr.awMin):-(1/0);return!Empty(min)&&!Empty(viewValue)&&Number(viewValue)<min?(ctrl.$setValidity("awMin",!1),viewValue):(ctrl.$setValidity("awMin",!0),viewValue)})}}}]).directive("awMax",["Empty",function(Empty){return{restrict:"A",require:"ngModel",link:function(scope,elem,attr,ctrl){ctrl.$parsers.unshift(function(viewValue){var max=attr.awMax?scope.$eval(attr.awMax):1/0;return!Empty(max)&&!Empty(viewValue)&&Number(viewValue)>max?(ctrl.$setValidity("awMax",!1),viewValue):(ctrl.$setValidity("awMax",!0),viewValue)})}}}]).directive("smartFloat",function(){var FLOAT_REGEXP=/^\-?\d+((\.|\,)\d+)?$/;return{require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$parsers.unshift(function(viewValue){return FLOAT_REGEXP.test(viewValue)?(ctrl.$setValidity("float",!0),parseFloat(viewValue.replace(",","."))):void ctrl.$setValidity("float",!1)})}}}).directive("integer",function(){return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$parsers.unshift(function(viewValue){return ctrl.$setValidity("min",!0),ctrl.$setValidity("max",!0),/^\-?\d*$/.test(viewValue)?(ctrl.$setValidity("integer",!0),"-"===viewValue||"-0"===viewValue||null===viewValue?(ctrl.$setValidity("integer",!1),viewValue):elm.attr("min")&&parseInt(viewValue,10)<parseInt(elm.attr("min"),10)?(ctrl.$setValidity("min",!1),viewValue):elm.attr("max")&&parseInt(viewValue,10)>parseInt(elm.attr("max"),10)?(ctrl.$setValidity("max",!1),viewValue):viewValue):(ctrl.$setValidity("integer",!1),viewValue)})}}}).directive("awSurveyVariableName",function(){var FLOAT_REGEXP=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$setValidity("required",!0),ctrl.$parsers.unshift(function(viewValue){return 0!==viewValue.length?FLOAT_REGEXP.test(viewValue)&&viewValue.indexOf(" ")===-1?(ctrl.$setValidity("variable",!0),viewValue):(ctrl.$setValidity("variable",!1),viewValue):(ctrl.$setValidity("variable",!0),viewValue)})}}}).directive("awRequiredWhen",function(){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){function updateRequired(){var label,isRequired=scope.$eval(attrs.awRequiredWhen),viewValue=elm.val(),validity=!0;label=$(elm).closest(".form-group").find("label").first(),!isRequired||null!==elm.attr("required")&&void 0!==elm.attr("required")?isRequired||(elm.removeAttr("required"),attrs.awrequiredAlwaysShowAsterisk||$(label).removeClass("prepend-asterisk")):($(elm).attr("required","required"),$(label).removeClass("prepend-asterisk").addClass("prepend-asterisk")),!isRequired||void 0!==viewValue&&null!==viewValue&&""!==viewValue||(validity=!1),ctrl.$setValidity("required",validity)}scope.$watchGroup([attrs.awRequiredWhen,$(elm).attr("name")],function(){updateRequired()}),void 0!==attrs.awrequiredInit&&null!==attrs.awrequiredInit&&(scope[attrs.awRequiredWhen]=attrs.awrequiredInit)}}}).directive("awPlaceholder",[function(){return{require:"ngModel",link:function(scope,elm,attrs){$(elm).attr("placeholder",scope[attrs.awPlaceholder]),scope.$watch(attrs.awPlaceholder,function(newVal){$(elm).attr("placeholder",newVal)})}}}]).directive("awlookup",["Rest","GetBasePath","$q",function(Rest,GetBasePath,$q){return{require:"ngModel",link:function(scope,elm,attrs,fieldCtrl){function _doAutoPopulate(){var query="?role_level=use_role";if(void 0!==attrs.watchbasepath&&void 0!==scope[attrs.watchbasepath])basePath=scope[attrs.watchbasepath],query="&role_level=use_role";else{basePath=GetBasePath(elm.attr("data-basePath"))||elm.attr("data-basePath");var switchType=lookupType?lookupType:modelName;switch(switchType){case"credential":query="?kind=ssh&role_level=use_role";break;case"scm_credential":query="?kind=scm&role_level=use_role";break;case"network_credential":query="?kind=net&role_level=use_role";break;case"organization":query="?role_level=admin_role";break;case"inventory_script":query="?role_level=admin_role&organization="+scope.$resolve.inventoryData.summary_fields.organization.id}}Rest.setUrl(""+basePath+query),Rest.get().success(function(data){1===data.count&&(scope[modelKey]=data.results[0].name,scope[modelName]=data.results[0].id)})}function fieldIsAutopopulatable(){return autopopulateLookup!==!1&&("add"===scope.mode&&(watcher?void scope.$watch(watcher,function(){Boolean(scope.$eval(watcher))===!0&&_doAutoPopulate()}):attrs.required===!0))}function applyValidationStrategy(viewValue,ctrl){function applyValidation(viewValue){basePath=GetBasePath(elm.attr("data-basePath"))||elm.attr("data-basePath"),query=elm.attr("data-query"),query=query.replace(/\:value/,encodeURIComponent(viewValue));var base=lookupType?lookupType:ctrl.$name.split("_name")[0];if(void 0!==attrs.watchbasepath&&void 0!==scope[attrs.watchbasepath])basePath=scope[attrs.watchbasepath],query+="&role_level=use_role",query=query.replace("?","&");else switch(base){case"credential":query+="&kind=ssh&role_level=use_role";break;case"scm_credential":query+="&kind=scm&role_level=use_role";break;case"network_credential":query+="&kind=net&role_level=use_role";break;case"cloud_credential":query+="&cloud=true&role_level=use_role";break;case"organization":query+="&role_level=admin_role";break;case"inventory_script":query+="&role_level=admin_role&organization="+scope.$resolve.inventoryData.summary_fields.organization.id;break;default:query+="&role_level=use_role"}return Rest.setUrl(""+basePath+query),Rest.get().then(function(res){return res.data.results.length>0?(scope[elm.attr("data-source")]=res.data.results[0].id,setValidity(ctrl,!0)):(scope[elm.attr("data-source")]=null,setValidity(ctrl,!1))})}function setValidity(ctrl,validity){var isRequired;return isRequired=!!attrs.required,attrs.awRequiredWhen&&(isRequired="!"===attrs.awRequiredWhen.charAt(0)?!scope[attrs.awRequiredWhen.slice(1,attrs.awRequiredWhen.length)]:scope[attrs.awRequiredWhen]),isRequired||void 0!==viewValue&&void 0!==viewValue&&""!==viewValue||(validity=!0),ctrl.$setValidity("awlookup",validity),defer.resolve(validity)}return!ctrl.$validators.required&&ctrl.$pristine?setValidity(ctrl,!0):applyValidation(viewValue)}var query=void 0,basePath=void 0,defer=$q.defer(),autopopulateLookup=void 0,modelKey=attrs.ngModel,modelName=attrs.source,lookupType=attrs.awlookuptype,watcher=attrs.awRequiredWhen||void 0,watchBasePath=void 0,awLookupWhen=attrs.awLookupWhen;autopopulateLookup=void 0===attrs.autopopulatelookup||JSON.parse(attrs.autopopulatelookup),void 0!==attrs.watchbasepath&&(watchBasePath=attrs.watchbasepath,scope.$watch(watchBasePath,function(newValue){void 0!==newValue&&fieldIsAutopopulatable()&&_doAutoPopulate()})),fieldIsAutopopulatable()&&_doAutoPopulate(),fieldCtrl.$asyncValidators.validResource=function(modelValue,viewValue){return void 0===awLookupWhen||void 0!==awLookupWhen&&Boolean(scope.$eval(awLookupWhen))===!0?applyValidationStrategy(viewValue,fieldCtrl):defer.resolve(),defer.promise}}}}]).directive("awValidUrl",[function(){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$parsers.unshift(function(viewValue){var rgx,rgx2,validity=!0;return""!==viewValue&&(ctrl.$setValidity("required",!0),rgx=/^(https|http|ssh)\:\/\//,rgx2=/\@/g,rgx.test(viewValue)&&!rgx2.test(viewValue)||(validity=!1)),ctrl.$setValidity("awvalidurl",validity),viewValue})}}}]).directive("awToolTip",[function(){return{link:function(scope,element,attrs){var placement,stateChangeWatcher,delay={show:200,hide:0};placement=attrs.awTipPlacement?attrs.awTipPlacement:void 0!==attrs.placement&&null!==attrs.placement?attrs.placement:"left";var template,custom_class;attrs.tooltipInnerClass||attrs.tooltipinnerclass?(custom_class=attrs.tooltipInnerClass||attrs.tooltipinnerclass,template='<div class="tooltip Tooltip" role="tooltip"><div class="tooltip-arrow Tooltip-arrow"></div><div class="tooltip-inner Tooltip-inner '+custom_class+'"></div></div>'):template='<div class="tooltip Tooltip" role="tooltip"><div class="tooltip-arrow Tooltip-arrow"></div><div class="tooltip-inner Tooltip-inner"></div></div>',$(element).on("mouseenter",function(){stateChangeWatcher&&stateChangeWatcher(),stateChangeWatcher=scope.$on("$stateChangeStart",function(){$(element).tooltip("hide"),$(".tooltip").each(function(){$(this).remove()})})}),$(element).on("hidden.bs.tooltip",function(){$(".tooltip").each(function(){$(this).remove()})}),$(element).tooltip({placement:placement,delay:delay,html:!0,title:attrs.awToolTip,container:"body",trigger:"hover",template:template}),attrs.tipWatch&&scope.$watch(attrs.tipWatch,function(newVal){$(element).tooltip("hide").attr("data-original-title",newVal).tooltip("fixTitle")})}}}]).directive("awPopOver",["$compile",function($compile){return function(scope,element,attrs){function bindPopoverDismiss(){$("body").one("click.popover"+id_to_close,function(e){0===$(e.target).parents(id_to_close).length?$(element).popover("hide"):bindPopoverDismiss()})}function showPopover(e){e.stopPropagation();var self=$(element);try{element.tooltip("hide")}catch(ex){}$(".help-link, .help-link-white").each(function(){if(self.attr("id")!==$(this).attr("id"))try{$(this).popover("hide")}catch(e){}}),$(".popover").each(function(){$(this).remove()}),$(".tooltip").each(function(){$(this).hide()}),id_to_close="#"+$(element).attr("id")+"_popover_container",$(element).popover("toggle"),$(".popover").each(function(){$compile($(this))(scope)})}function dismissPopover(e){e.stopPropagation(),$(element).popover("hide")}function dismissOnEsc(e){27===e.keyCode&&($(element).popover("hide"),$(".popover").each(function(){}))}var placement=void 0!==attrs.placement&&null!==attrs.placement?attrs.placement:"left",title=attrs.overTitle?attrs.overTitle:attrs.popoverTitle?attrs.popoverTitle:"Help",container=void 0!==attrs.container&&attrs.container,trigger=void 0!==attrs.trigger?attrs.trigger:"manual",template='<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',id_to_close="";element[0].id&&(template='<div id="'+element[0].id+'_popover_container" class="popover" role="tooltip"><div class="arrow"></div><h3 id="'+element[0].id+'_popover_title" class="popover-title"></h3><div id="'+element[0].id+'_popover_content" class="popover-content"></div></div>'),scope.triggerPopover=function(e){showPopover(e)},attrs.awPopOverWatch?$(element).popover({placement:placement,delay:0,title:title,content:function(){return scope[attrs.awPopOverWatch]},trigger:trigger,html:!0,container:container,template:template}):$(element).popover({placement:placement,delay:0,title:title,content:attrs.awPopOver,trigger:trigger,html:!0,container:container,template:template}),$(element).attr("tabindex",-1),$(element).one("click",showPopover),$(element).on("shown.bs.popover",function(){bindPopoverDismiss(),$(document).on("keydown.popover",dismissOnEsc)}),$(element).on("hidden.bs.popover",function(){$(element).off("click",dismissPopover),$(element).off("click",showPopover),$("body").off("click.popover."+id_to_close),$(element).one("click",showPopover),$(document).off("keydown.popover",dismissOnEsc)})}}]).directive("awSlider",[function(){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){var name=elm.attr("name");$("#"+name+"-slider").slider({value:0,step:1,min:elm.attr("min"),max:elm.attr("max"),disabled:!!elm.attr("readonly"),slide:function(e,u){ctrl.$setViewValue(u.value),ctrl.$setValidity("required",!0),ctrl.$setValidity("min",!0),ctrl.$setValidity("max",!0),ctrl.$dirty=!0,ctrl.$render(),scope.$$phase||scope.$digest()}}),$("#"+name+"-number").change(function(){$("#"+name+"-slider").slider("value",parseInt($(this).val(),10))})}}}]).directive("awSpinner",[function(){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){var disabled,opts;disabled=elm.attr("data-disabled"),opts={value:0,step:1,min:elm.attr("min"),max:elm.attr("max"),numberFormat:"d",disabled:!!elm.attr("readonly"),icons:{down:"Form-numberInputButton fa fa-angle-down",up:"Form-numberInputButton fa fa-angle-up"},spin:function(e,u){ctrl.$setViewValue(u.value),ctrl.$setValidity("required",!0),ctrl.$setValidity("min",!0),ctrl.$setValidity("max",!0),ctrl.$dirty=!0,ctrl.$render(),scope.job_template_form&&(scope.job_template_form.$dirty=!0),scope.$$phase||scope.$digest()}},attrs.ngDisabled&&scope.$watch(attrs.ngDisabled,function(val){opts.disabled=val===!0,$(elm).spinner(opts)}),disabled&&(opts.disabled=!0),$(elm).spinner(opts),$(".ui-icon").text(""),$(".ui-icon").removeClass("ui-icon ui-icon-triangle-1-n ui-icon-triangle-1-s"),$(elm).on("click",function(){$(elm).select()})}}}]).directive("awRefresh",["$rootScope",function($rootScope){return{link:function(scope){function msg(){for(var num=""+scope.refreshCnt;num.length<2;)num="0"+num;return"Refresh in "+num+" sec."}scope.refreshCnt=$AnsibleConfig.refresh_rate,scope.refreshMsg=msg(),$rootScope.timer&&clearInterval($rootScope.timer),$rootScope.timer=setInterval(function(){scope.refreshCnt--,scope.refreshCnt<=0&&(scope.refresh(),scope.refreshCnt=$AnsibleConfig.refresh_rate),scope.refreshMsg=msg(),scope.$$phase||scope.$digest()},1e3)}}}]).directive("awDraggable",[function(){return function(scope,element,attrs){if("true"===attrs.awDraggable){var containment=attrs.containment;$(element).draggable({containment:containment,scroll:!0,revert:"invalid",helper:"clone",start:function(e,ui){ui.helper.addClass("draggable-clone")},zIndex:100,cursorAt:{left:-1}})}}}]).directive("awDroppable",["Find",function(Find){return function(scope,element,attrs){var node;"true"===attrs.awDroppable&&$(element).droppable({accept:function(draggable){if("group"===draggable.attr("data-type")){if($(this).attr("data-group-id")===draggable.attr("data-group-id"))return!1;if(node=Find({list:scope.groups,key:"id",val:parseInt($(this).attr("data-tree-id"),10)})){var i,group=parseInt(draggable.attr("data-group-id"),10),found=!1;for(i=0;i<node.children.length;i++)if(node.children[i]===group){found=!0;break}return!found}return!1}return"host"===draggable.attr("data-type")&&(node=Find({list:scope.groups,key:"id",val:parseInt($(this).attr("data-tree-id"),10)}),node.id>1)},over:function(){$(this).addClass("droppable-hover")},out:function(){$(this).removeClass("droppable-hover")},drop:function(e,ui){$(this).removeClass("droppable-hover"),"group"===ui.draggable.attr("data-type")?scope.$emit("CopyMoveGroup",parseInt(ui.draggable.attr("data-tree-id"),10),parseInt($(this).attr("data-tree-id"),10)):"host"===ui.draggable.attr("data-type")&&scope.$emit("CopyMoveHost",parseInt($(this).attr("data-tree-id"),10),parseInt(ui.draggable.attr("data-host-id"),10))},tolerance:"pointer"})}}]).directive("awAccordion",["Empty","$location","Store",function(Empty,$location,Store){return function(scope,element,attrs){var active,id,base,list=Store("accordions");Empty(attrs.openFirst)?(list&&(id=$(element).attr("id"),base=$location.path().replace(/^\//,"").split("/")[0],list.every(function(elem){return elem.base!==base||elem.id!==id||(active=elem.active,!1)})),active=Empty(active)?0:active):active=0,$(element).accordion({collapsible:!0,heightStyle:"content",active:active,activate:function(){var active=$(this).accordion("option","active"),id=$(this).attr("id"),base=$location.path().replace(/^\//,"").split("/")[0],list=Store("accordions"),found=!1;list||(list=[]),list.every(function(elem){return elem.base!==base||elem.id!==id||(elem.active=active,found=!0,!1)}),found===!1&&list.push({base:base,id:id,active:active}),Store("accordions",list)}})}}]).directive("awToggleButton",[function(){return function(scope,element){$(element).click(function(){var next,choice;$(this).find(".btn").toggleClass("active"),$(this).find(".btn-primary").size()>0&&$(this).find(".btn").toggleClass("btn-primary"),$(this).find(".btn-danger").size()>0&&$(this).find(".btn").toggleClass("btn-danger"),$(this).find(".btn-success").size()>0&&$(this).find(".btn").toggleClass("btn-success"),$(this).find(".btn-info").size()>0&&$(this).find(".btn").toggleClass("btn-info"),$(this).find(".btn").toggleClass("btn-default"),$(this).attr("data-after-toggle")&&(next=$(this).attr("data-after-toggle"),choice=$(this).find(".active").text(),setTimeout(function(){scope.$apply(function(){scope[next](choice)})}))})}}]).directive("awDropFile",["Alert",function(Alert){return{require:"ngModel",link:function(scope,element,attrs,ctrl){$(element).on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}),$(element).on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),$(element).on("drop",function(e){var dt,files,reader;e.stopPropagation(),e.preventDefault(),dt=e.originalEvent.dataTransfer,files=dt.files,reader=new FileReader,reader.onload=function(){ctrl.$setViewValue(reader.result),ctrl.$render(),ctrl.$setValidity("required",!0),ctrl.$dirty=!0,scope.$$phase||scope.$digest()},reader.onerror=function(){Alert("Error","There was an error reading the selected file.")},files[0].size<1e4?reader.readAsText(files[0]):Alert("Error","There was an error reading the selected file.")})}}}]).directive("awPasswordToggle",[function(){return{restrict:"A",link:function(scope,element){$(element).click(function(){var buttonInnerHTML=$(element).html();buttonInnerHTML.indexOf("Show")>-1?($(element).html("Hide"),$(element).closest(".input-group").find("input").first().attr("type","text")):($(element).html("Show"),$(element).closest(".input-group").find("input").first().attr("type","password"))})}}}]).directive("awEnterKey",[function(){return{restrict:"A",link:function(scope,element,attrs){element.bind("keydown keypress",function(event){var keyCode=event.which||event.keyCode;13===keyCode&&(scope.$apply(function(){scope.$eval(attrs.awEnterKey)}),event.preventDefault())})}}}]).directive("awTruncateBreadcrumb",["BreadCrumbService",function(BreadCrumbService){return{restrict:"A",scope:{breadcrumbStep:"="},link:function(scope){scope.$watch("breadcrumbStep.ncyBreadcrumbLabel",function(){BreadCrumbService.truncateCrumbs()})}}}]).directive("awRequireMultiple",[function(){return{require:"ngModel",link:function(scope,element,attrs,ngModel){attrs.$observe("required",function(value){value?ngModel.$validators.required=function(value){return angular.isArray(value)?0!==value.length&&!(!value[0]||""===value[0]):!(!value||""===value)}:delete ngModel.$validators.required})}}}])}).call(exports,__webpack_require__(1),function(){return this}())},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("AWFilters",[]).filter("isEmpty",function(){var key;return function(obj){for(key in obj)if(obj.hasOwnProperty(key))return!1;return!0}}).filter("capitalize",[function(){return function(input){var values,result,i;if(input){for(values=input.replace(/\_/g," ").split(" "),result="",i=0;i<values.length;i++)result+=values[i].charAt(0).toUpperCase()+values[i].substr(1)+" ";return result.trim()}}}]).filter("FilterById",[function(){return function(input,list){var results=[];return input&&list.length>0?(list.forEach(function(itm){input.forEach(function(row){row.id===itm&&results.push(row)})}),results):input}}]).filter("FilterByField",[function(){return function(input,list){var fld,key,search={},results={};for(fld in list)list[fld]&&(search[fld]=list[fld]);if(Object.keys(search).length>0){for(fld in search)for(key in input)input[key][fld]===search[fld]&&(results[key]=input[key]);return results}return input}}]).filter("FilterFailedEvents",[function(){return function(input,liveEventProcessing,searchAllStatus){var results=[];return liveEventProcessing?input:"failed"===searchAllStatus?(input.forEach(function(row){"failed"===row.status&&results.push(row)}),results):input}}])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _features=__webpack_require__(721),_features2=_interopRequireDefault(_features),_features3=__webpack_require__(723),_features4=_interopRequireDefault(_features3);exports.default=angular.module("features",[]).directive("awFeature",_features2.default).service("FeaturesService",_features4.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _features=__webpack_require__(722),_features2=_interopRequireDefault(_features);exports.default=["$rootScope",function($rootScope){return{restrict:"A",controller:_features2.default,link:function(scope,element,attrs,controller){attrs.awFeature.length>0&&$rootScope.featuresConfigured.promise.then(function(){controller.isFeatureEnabled(attrs.awFeature)||element.remove()})}}}]},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope",function($rootScope){this.isFeatureEnabled=function(feature){return!_.isEmpty($rootScope.features)&&($rootScope.features[feature]||!1)}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["$rootScope","Rest","GetBasePath","ProcessErrors","$http","$q","ConfigService",function($rootScope,Rest,GetBasePath,ProcessErrors,$http,$q,ConfigService){return{get:function(){if(!_.isEmpty($rootScope.features))return $rootScope.features;var config=ConfigService.get();return config?($rootScope.features=config.license_info.features,$rootScope.featuresConfigured&&$rootScope.featuresConfigured.resolve($rootScope.features),$rootScope.features):void 0},featureEnabled:function(feature){return!(!$rootScope.features||!$rootScope.features[feature]||$rootScope.features[feature]!==!0)}}}]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _config=__webpack_require__(725),_config2=_interopRequireDefault(_config);exports.default=angular.module("config",[]).service("ConfigService",_config2.default)},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{
value:!0}),exports.default=["GetBasePath","ProcessErrors","$q","Rest","$rootScope","Wait",function(GetBasePath,ProcessErrors,$q,Rest,$rootScope,Wait){return{get:function(){return this.config},set:function(config){this.config=config},delete:function(){delete this.config},getConfig:function(){var config=this.get(),that=this,deferred=$q.defer();if(_.isEmpty(config)){var url=GetBasePath("config");Rest.setUrl(url),Wait("start");var promise=Rest.get();promise.then(function(response){var config=response.data;$rootScope.configReady=!0,Wait("stop"),that.set(config),deferred.resolve(response.data)}),promise.catch(function(response){ProcessErrors($rootScope,response.data,response.status,null,{hdr:"Error!",msg:"Failed to get config. GET returned status: "+response.status}),deferred.reject("Could not resolve pendo config.")})}else config?(this.set(config),deferred.resolve(config)):deferred.reject("Config not found.");return deferred.promise}}}]}).call(exports,__webpack_require__(2))},function(module,exports){"use strict";!function(angular){var ap={};ap.waitForPendo=function(delay,registerFn){var waitFn=function(){ap.waitForPendo(delay,registerFn)};return ap.disabled?void(ap.afterReenable=waitFn):void(window.hasOwnProperty("pendo")&&window.pendo.initialize?registerFn(pendo):setTimeout(waitFn,delay))},angular.module("pendolytics",[]).provider("$pendolytics",function(){var eventCache=[],service={},serviceImpl={pageLoad:function(){eventCache.push({method:"pageLoad",args:[]})},identify:function(newName,accountId,props){var saveMe={method:"identify",args:[newName,accountId,props]};eventCache.push(saveMe)},updateOptions:function(obj){eventCache.push({method:"updateOptions",args:[obj]})},initialize:function(options){eventCache.unshift({method:"initialize",args:[options]})}};return service.pageLoad=function(){serviceImpl.pageLoad()},service.load=function(){pendo.log("PENDO LOADED!!!"),serviceImpl=pendo,angular.forEach(eventCache,function(item){pendo[item.method].apply(pendo,item.args)})},service.identify=function(newName,accountId,props){serviceImpl.identify(newName,accountId,props)},service.updateOptions=function(json_obj){serviceImpl.updateOptions(json_obj)},service.initialize=function(options){serviceImpl.initialize(options)},service.enable=function(){ap.disabled&&(ap.disabled=!1,ap.afterReenable())},service.disable=function(){ap.disabled=!0},service.bootstrap=function(){if(!service.bootstrapped){var script=document.createElement("script");script.type="text/javascript",script.async=!0,script.src=("https:"===document.location.protocol?"https://":"http://")+"d3accju1t3mngt.cloudfront.net/js/pa.min.js";var firstScript=document.getElementsByTagName("script")[0];firstScript.parentNode.insertBefore(script,firstScript),service.bootstrapped=!0}},{$get:function(){return service},doNotAutoStart:function(){service.doNotAutoStart=!0}}}).run(["$rootScope","$pendolytics",function($rootScope,$pendolytics){$pendolytics.doNotAutoStart||$pendolytics.bootstrap(),ap.waitForPendo(500,function(p){$pendolytics.load(),$rootScope.$on("$locationChangeSuccess",function(){$pendolytics.pageLoad()})})}])}(angular)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _footer=__webpack_require__(728),_footer2=_interopRequireDefault(_footer);exports.default=angular.module("footer",[]).directive("towerFooter",_footer2.default)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["templateUrl",function(templateUrl){return{restrict:"E",scope:!0,templateUrl:templateUrl("footer/footer")}}]},function(module,exports,__webpack_require__){(function(_){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _schedulerList=__webpack_require__(495),_schedulerList2=_interopRequireDefault(_schedulerList),_schedulerAdd=__webpack_require__(496),_schedulerAdd2=_interopRequireDefault(_schedulerAdd),_schedulerEdit=__webpack_require__(497),_schedulerEdit2=_interopRequireDefault(_schedulerEdit),_templateUrl=__webpack_require__(116),_schedulerDatePicker=__webpack_require__(730),_schedulerDatePicker2=_interopRequireDefault(_schedulerDatePicker),_i18n=__webpack_require__(172);exports.default=angular.module("scheduler",[]).controller("schedulerListController",_schedulerList2.default).controller("schedulerAddController",_schedulerAdd2.default).controller("schedulerEditController",_schedulerEdit2.default).directive("schedulerDatePicker",_schedulerDatePicker2.default).run(["$stateExtender",function($stateExtender){$stateExtender.addState({searchPrefix:"schedule",name:"jobTemplateSchedules",route:"/templates/job_template/:id/schedules",data:{activityStream:!0,activityStreamTarget:"job_template",activityStreamId:"id"},ncyBreadcrumb:{parent:"templates.editJobTemplate({job_template_id: parentObject.id})",label:(0,_i18n.N_)("SCHEDULES")},resolve:{Dataset:["ScheduleList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=""+GetBasePath("job_templates")+$stateParams.id+"/schedules";return qs.search(path,$stateParams[list.iterator+"_search"])}],ParentObject:["$stateParams","Rest","GetBasePath",function($stateParams,Rest,GetBasePath){var path=""+GetBasePath("job_templates")+$stateParams.id;return Rest.setUrl(path),Rest.get(path).then(function(res){return res.data})}],UnifiedJobsOptions:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){Rest.setUrl(GetBasePath("unified_jobs"));var val=$q.defer();return Rest.options().then(function(data){val.resolve(data.data)},function(data){val.reject(data)}),val.promise}],ScheduleList:["SchedulesList","GetBasePath","$stateParams",function(SchedulesList,GetBasePath,$stateParams){var list=_.cloneDeep(SchedulesList);return list.basePath=GetBasePath("job_templates")+$stateParams.id+"/schedules/",list}]},views:{"@":{templateProvider:function(ScheduleList,generateList,ParentObject){ScheduleList.listTitle=ParentObject.name+"<div class='List-titleLockup'></div>"+(0,_i18n.N_)("SCHEDULES");var html=generateList.build({list:ScheduleList,mode:"edit"});return html=generateList.wrapPanel(html),generateList.insertFormView()+html},controller:"schedulerListController"}}}),$stateExtender.addState({name:"jobTemplateSchedules.add",route:"/add",views:{form:{controller:"schedulerAddController",templateUrl:(0,_templateUrl.templateUrl)("scheduler/schedulerForm")}},ncyBreadcrumb:{parent:"jobTemplateSchedules",label:(0,_i18n.N_)("CREATE SCHEDULE")}}),$stateExtender.addState({name:"jobTemplateSchedules.edit",route:"/:schedule_id",views:{form:{controller:"schedulerEditController",templateUrl:(0,_templateUrl.templateUrl)("scheduler/schedulerForm")}},ncyBreadcrumb:{parent:"jobTemplateSchedules",label:"{{schedule_obj.name}}"}}),$stateExtender.addState({searchPrefix:"schedule",name:"workflowJobTemplateSchedules",route:"/templates/workflow_job_template/:id/schedules",templateUrl:(0,_templateUrl.templateUrl)("scheduler/scheduler"),controller:"schedulerController",data:{activityStream:!0,activityStreamTarget:"job_template",activityStreamId:"id"},ncyBreadcrumb:{parent:"templates.editWorkflowJobTemplate({workflow_job_template_id: parentObject.id})",label:(0,_i18n.N_)("SCHEDULES")},resolve:{Dataset:["ScheduleList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=""+GetBasePath("workflow_job_templates")+$stateParams.id+"/schedules";return qs.search(path,$stateParams[list.iterator+"_search"])}],ParentObject:["$stateParams","Rest","GetBasePath",function($stateParams,Rest,GetBasePath){var path=""+GetBasePath("workflow_job_templates")+$stateParams.id;return Rest.setUrl(path),Rest.get(path).then(function(res){return res.data})}],UnifiedJobsOptions:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){Rest.setUrl(GetBasePath("unified_jobs"));var val=$q.defer();return Rest.options().then(function(data){val.resolve(data.data)},function(data){val.reject(data)}),val.promise}],ScheduleList:["SchedulesList","GetBasePath","$stateParams",function(SchedulesList,GetBasePath,$stateParams){var list=_.cloneDeep(SchedulesList);return list.basePath=GetBasePath("workflow_job_templates")+$stateParams.id+"/schedules/",list}]},views:{"@":{templateProvider:function(ScheduleList,generateList,ParentObject){ScheduleList.listTitle=ParentObject.name+"<div class='List-titleLockup'></div>"+(0,_i18n.N_)("SCHEDULES");var html=generateList.build({list:ScheduleList,mode:"edit"});return html=generateList.wrapPanel(html),generateList.insertFormView()+html},controller:"schedulerListController"}}}),$stateExtender.addState({name:"workflowJobTemplateSchedules.add",route:"/add",views:{form:{controller:"schedulerAddController",templateUrl:(0,_templateUrl.templateUrl)("scheduler/schedulerForm")}},ncyBreadcrumb:{parent:"workflowJobTemplateSchedules",label:(0,_i18n.N_)("CREATE SCHEDULE")}}),$stateExtender.addState({name:"workflowJobTemplateSchedules.edit",route:"/:schedule_id",views:{form:{controller:"schedulerEditController",templateUrl:(0,_templateUrl.templateUrl)("scheduler/schedulerForm")}},ncyBreadcrumb:{parent:"workflowJobTemplateSchedules",label:"{{schedule_obj.name}}"}}),$stateExtender.addState({searchPrefix:"schedule",name:"projectSchedules",route:"/projects/:id/schedules",data:{activityStream:!0,activityStreamTarget:"project",activityStreamId:"id"},ncyBreadcrumb:{parent:"projects.edit({project_id: parentObject.id})",label:(0,_i18n.N_)("SCHEDULES")},resolve:{Dataset:["ScheduleList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=""+GetBasePath("projects")+$stateParams.id+"/schedules";return qs.search(path,$stateParams[list.iterator+"_search"])}],ParentObject:["$stateParams","Rest","GetBasePath",function($stateParams,Rest,GetBasePath){var path=""+GetBasePath("projects")+$stateParams.id;return Rest.setUrl(path),Rest.get(path).then(function(res){return res.data})}],UnifiedJobsOptions:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){Rest.setUrl(GetBasePath("unified_jobs"));var val=$q.defer();return Rest.options().then(function(data){val.resolve(data.data)},function(data){val.reject(data)}),val.promise}],ScheduleList:["SchedulesList","GetBasePath","$stateParams",function(SchedulesList,GetBasePath,$stateParams){var list=_.cloneDeep(SchedulesList);return list.basePath=GetBasePath("projects")+$stateParams.id+"/schedules/",list}]},views:{"@":{templateProvider:function(ScheduleList,generateList,ParentObject){ScheduleList.listTitle=ParentObject.name+"<div class='List-titleLockup'></div>"+(0,_i18n.N_)("SCHEDULES");var html=generateList.build({list:ScheduleList,mode:"edit"});return html=generateList.wrapPanel(html),generateList.insertFormView()+html},controller:"schedulerListController"}}}),$stateExtender.addState({name:"projectSchedules.add",route:"/add",ncyBreadcrumb:{label:(0,_i18n.N_)("CREATE SCHEDULE")},views:{form:{controller:"schedulerAddController",templateUrl:(0,_templateUrl.templateUrl)("scheduler/schedulerForm")}}}),$stateExtender.addState({name:"projectSchedules.edit",route:"/:schedule_id",ncyBreadcrumb:{label:"{{schedule_obj.name}}"},views:{form:{controller:"schedulerEditController",templateUrl:(0,_templateUrl.templateUrl)("scheduler/schedulerForm")}}}),$stateExtender.addState({searchPrefix:"schedule",name:"jobs.schedules",route:"/schedules",params:{schedule_search:{value:{next_run__isnull:"false",order_by:"unified_job_template__polymorphic_ctype__model"}}},data:{activityStream:!1},ncyBreadcrumb:{parent:"jobs",label:(0,_i18n.N_)("SCHEDULED")},resolve:{ScheduleList:["ScheduledJobsList",function(list){return list}],Dataset:["ScheduleList","QuerySet","$stateParams","GetBasePath",function(list,qs,$stateParams,GetBasePath){var path=GetBasePath("schedules");return qs.search(path,$stateParams[list.iterator+"_search"])}],ParentObject:[function(){return{endpoint:"/api/v1/schedules"}}],UnifiedJobsOptions:["Rest","GetBasePath","$stateParams","$q",function(Rest,GetBasePath,$stateParams,$q){Rest.setUrl(GetBasePath("unified_jobs"));var val=$q.defer();return Rest.options().then(function(data){val.resolve(data.data)},function(data){val.reject(data)}),val.promise}]},views:{"list@jobs":{templateProvider:function(ScheduleList,generateList){var html=generateList.build({list:ScheduleList,mode:"edit",title:!1});return html},controller:"schedulerListController"}}})}])}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["moment","templateUrl",function(moment,templateUrl){return __webpack_require__(22),{restrict:"E",scope:{date:"=",minDate:"=",autoUpdate:"=?",inputClass:"&",disabled:"=?"},templateUrl:templateUrl("system-tracking/date-picker/date-picker"),link:function(scope,element,attrs){function momentLocaleToDPLocale(localeKey){var parts=localeKey.split("-");if(2===parts.length){var lastPart=parts[1].toUpperCase();return[parts[0],lastPart].join("-")}return localeKey}function momentFormatToDPFormat(momentFormat){function lowerCase(str){return str.toLowerCase()}var resultFormat=momentFormat;return resultFormat=resultFormat.replace(/D{1,2}/,lowerCase),resultFormat=/MMM/.test(resultFormat)?resultFormat.replace("MMM","M"):resultFormat.replace(/M{1,2}/,"m"),resultFormat=resultFormat.replace(/Y{2,4}/,lowerCase)}var lang=window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.userLanguage;moment.locale(lang);var mustUpdateValue=!0;scope.autoUpdate=scope.autoUpdate!==!1,scope.$watch("date",function(newValue){newValue&&(mustUpdateValue=!1,scope.dateValueMoment=moment(newValue,["MM/DD/YYYY"],moment.locale()),scope.dateValue=scope.dateValueMoment.format("L"),element.find(".DatePicker").datepicker("update",scope.dateValue))},!0),scope.$watch("dateValue",function(newValue){scope.dateValueMoment=moment(newValue,["L"],moment.locale()),scope.date=scope.dateValueMoment.locale("en").format("L"),mustUpdateValue=!0});var localeData=moment.localeData(),dateFormat=momentFormatToDPFormat(localeData._longDateFormat.L),localeKey=momentLocaleToDPLocale(moment.locale());element.find(".DatePicker").addClass("input-prepend date"),element.find(".DatePicker").find(".DatePicker-icon").addClass("add-on"),element.find(".DatePicker").datepicker({autoclose:!0,language:localeKey,format:dateFormat})}}}]}]);